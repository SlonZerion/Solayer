(function(define){var __define;"function"==typeof define&&define.amd&&(__define=define,define=null);
function e(e,t,n,a){Object.defineProperty(e,t,{get:n,set:a,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},r={},o=n.parcelRequire1d24;null==o&&((o=function(e){if(e in a)return a[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return a[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},n.parcelRequire1d24=o),o.register("nhTvJ",(function(t,n){e(t.exports,"PHANTOM_ONBOARDING_CONTAINER_WIDTH",(function(){return a})),e(t.exports,"PHANTOM_ONBOARDING_CONTAINER_HEIGHT",(function(){return r})),e(t.exports,"PHANTOM_ONBOARDING_STEP_HEADER_HEIGHT",(function(){return o}));const a=420,r=480,o=46})),o.register("izP3E",(function(n,a){e(n.exports,"DiscoveredAccountRow",(function(){return f})),e(n.exports,"SelectAllAccountsRow",(function(){return g}));var r=o("6Tvfa"),c=o("lMzyG"),i=o("4y59b"),s=o("lDSNw"),d=o("cZIbv"),l=o("03QiC"),u=o("7E6dj"),p=o("e4sKe"),m=o("kn91D");const h=({account:e})=>{const{t:n}=(0,c.useTranslation)();return t(s).createElement(A,null,t(s).createElement(w,null,t(s).createElement(l.ChainLogo,{networkID:e.chain.id,height:40,width:40,spacing:"large"})),t(s).createElement(T,null,t(s).createElement(x,null,t(s).createElement(p.TokenNameBadge,{networkID:e.chain.id,walletAddress:e.address},t(s).createElement(E,null,e.chain.name)),t(s).createElement(E,null,(0,r.formatHashMedium)(e.address,4))),t(s).createElement(S,null,"amount"in e&&"chain"in e?t(s).createElement(I,null,(0,i.formatTokenAmount)(e.amount)," ",e.chain.symbol):null,"amount"in e?t(s).createElement(I,null,e.lastActivityTimestamp?n("onboardingImportAccountsLastActive",{formattedTimestamp:(0,i.formatTimestampFromNow)(1e3*e.lastActivityTimestamp,!0)}):n("onboardingImportAccountsCreateNew")):null)))},f=t(s).memo((({accountType:e,accounts:n,checked:a,accountIndex:r,onPress:o})=>{const{t:i}=(0,c.useTranslation)(),d=r+1;return t(s).createElement(y,null,t(s).createElement(b,null,t(s).createElement(E,null,((e,t,n)=>{switch(t){case"seed":return e("onboardingImportAccountsAccountName",{walletIndex:n});case"ledger":return e("onboardingImportAccountsLedgerAccountName",{walletIndex:n})}})(i,e,d)),t(s).createElement(u.Checkbox,{checked:a,onChange:o,"data-testid":"account-select-address-row-checkbox"})),n.map(((e,n)=>t(s).createElement(h,{key:`${e.address}-${n}`,account:e}))))})),g=t(s).memo((({totalAccounts:e,selectedAccounts:n,onPress:a})=>{const{t:r}=(0,c.useTranslation)();return t(s).createElement(y,null,t(s).createElement(v,null,t(s).createElement(E,null,r("onboardingSelectAccountsNoOfAccountsSelected",{numOfAccounts:n}))," ",t(s).createElement(C,null,r("onboardingSelectAccountSelectAllText")," ",t(s).createElement(u.Checkbox,{checked:n===e,onChange:a,"data-testid":"account-select-all-checkbox"}))))})),y=d.default.div`
  margin-bottom: 24px;
  width: 100%;
`,w=d.default.div`
  flex-shrink: 0;
  margin-right: 10px;
`,T=d.default.div`
  display: flex;
  flex-direction: column;
  width: 100%;
`,S=d.default.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;
  width: 100%;
`,x=(0,d.default)(S)`
  margin-bottom: 2px;
`,v=(0,d.default)(S)`
  background: #2a2a2a;
  margin-bottom: 1px;
  padding: 12px 10px 12px 14px;
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: space-between;
`,C=d.default.div`
  display: flex;
  align-items: center;
  gap: 10px;
`,b=(0,d.default)(S)`
  background: #2a2a2a;
  margin-bottom: 1px;
  padding: 12px 16px 12px 14px;
  border-top-left-radius: 6px;
  border-top-right-radius: 6px;

  & > span {
    margin-right: 0;
  }
`,A=d.default.div`
  background: #2a2a2a;
  margin-top: 1px;
  padding: 17px 16px 17px 14px;
  width: 100%;
  display: flex;
  align-items: center;

  &:last-of-type {
    border-bottom-left-radius: 6px;
    border-bottom-right-radius: 6px;
  }
`,E=(0,d.default)(m.Text).attrs({size:16,lineHeight:19,weight:600})``,I=(0,d.default)(m.Text).attrs({size:14,lineHeight:17,weight:400,color:"#777777"})``})),o.register("8GZOc",(function(n,a){e(n.exports,"useHardwareOnboardingStore",(function(){return d}));var r=o("4y59b"),c=o("90BMT"),i=o("9xrNA");const s={existingAccounts:{data:[],isFetched:!1,isError:!1},hardwareStepStack:[],hardwareStepSubStack:{},selectedChains:[],selectedChainsMap:new Map,chainImportStep:1,derivedAccountGroups:[],discoveredAccounts:[],activeAccountsFound:!1,selectedAccounts:{},onConnectHardwareAccounts:e=>Promise.resolve(),onConnectHardwareDone:()=>{}},d=t(i)(((e,t)=>Object.assign(Object.assign({},s),{pushStep:n=>{const a=t().hardwareStepStack;e({hardwareStepStack:a.concat(n)})},popStep:()=>{var n;const a=t().hardwareStepStack.length-1;if((null!==(n=t().hardwareStepSubStack[a])&&void 0!==n?n:[]).length)return e((0,c.default)((e=>{e.hardwareStepSubStack[a]=e.hardwareStepSubStack[a].slice(0,-1)})));e((0,c.default)((e=>{e.hardwareStepStack=e.hardwareStepStack.slice(0,-1)})))},pushSubStep:n=>{var a;const r=t().hardwareStepStack.length-1,o=null!==(a=t().hardwareStepSubStack[r])&&void 0!==a?a:[];e((0,c.default)((e=>{e.hardwareStepSubStack[r]=o.concat([n])})))},currentStep:()=>{var e;const n=t().hardwareStepStack,a=t().hardwareStepSubStack,o=n.length>0?n.length-1:n.length;return(null===(e=a[o])||void 0===e?void 0:e.length)?(0,r.getLast)(a[o]):(0,r.getLast)(n)},setExistingAccounts:t=>{e({existingAccounts:t})},setSelectedChains:(t,n)=>{e({selectedChains:t,selectedChainsMap:n})},setDecrementChainImportStep:()=>{const n=t().chainImportStep;e({chainImportStep:n-1})},setIncrementChainImportStep:()=>{const n=t().chainImportStep;e({chainImportStep:n+1})},setDerivedAccountGroups:t=>{e({derivedAccountGroups:t})},setDiscoveredAccounts:(t,n)=>{e({discoveredAccounts:t,activeAccountsFound:n})},selectAccount:n=>{const a=t().selectedAccounts,r=Object.assign({},a);r[n]=!0,e({selectedAccounts:r})},deselectAccount:n=>{const a=t().selectedAccounts,r=Object.assign({},a);delete r[n],e({selectedAccounts:r})},setSelectedAccounts:t=>{e({selectedAccounts:t})},setOnConnectHardwareAccounts:t=>{e({onConnectHardwareAccounts:t})},setOnConnectHardwareDone:t=>{e({onConnectHardwareDone:t})}})))})),o.register("iUteh",(function(t,n){e(t.exports,"OnboardingContainer",(function(){return c}));var a=o("cZIbv"),r=o("nhTvJ");const c=a.default.main`
  width: ${r.PHANTOM_ONBOARDING_CONTAINER_WIDTH}px;
  min-height: ${r.PHANTOM_ONBOARDING_CONTAINER_HEIGHT}px;
  position: relative;
  overflow: hidden;
  background-color: #222222;
  border: 1px solid #323232;
  border-radius: 16px;
  box-shadow: 0px 10px 20px rgba(0, 0, 0, 0.4);
`})),o.register("bQHLl",(function(n,a){e(n.exports,"ConnectHardware",(function(){return x}));var r=o("belzv"),c=o("lBuGR"),i=o("lMzyG"),s=o("4y59b"),d=o("lDSNw"),l=o("laYjG"),u=o("5ftLv"),p=o("kpxNY"),m=o("aanFI"),h=o("02iAW"),f=o("gMNJN"),g=o("8GZOc"),y=o("1GS29"),w=o("aV5N8"),T=o("7i1iF");const S=()=>{(0,c.usePrefetchFeatureFlagsEffect)();const{t:e}=(0,i.useTranslation)(),{pushStep:n,setSelectedChains:a}=(0,g.useHardwareOnboardingStore)(),o=f.hooks.useEnabledNetworkIDs(),m=f.hooks.useEnabledAddressTypes(),{data:S,isFetching:x,refetch:v}=f.hooks.useRequestLedgerPermission(!0,!0),{buttonDisabled:C,defaultIcon:b,primaryText:A,secondaryText:E,buttonText:I,iconType:H,onClick:k}=(0,d.useMemo)((()=>{var c,i;let l=!1;const p=t(d).createElement(h.SpinnerIcon,null);let f,g,y,C=u.ConfirmationIconType.Default,b=s.NOOP;if(x)f=e("connectHardwareSearching"),g=e("connectHardwareMakeSureConnected"),y=e("commandContinue"),l=!0;else if("granted"===(null==S?void 0:S.type)){const s=null!==(i=null===(c=S.transport.deviceModel)||void 0===c?void 0:c.productName)&&void 0!==i?i:"Ledger";C=u.ConfirmationIconType.Success,f=e("connectHardwarePairSuccessPrimary",{productName:s}),g=e("connectHardwarePairSuccessSecondary",{productName:s}),y=e("commandContinue"),l=!1,b=()=>{if(1===m.length){const e=new Map;e.set(m[0],{});for(const t of o){const n=r.Chains.getAddressTypes(t);for(const a of n)e.set(a,{[t]:!0})}a(m,e),n(t(d).createElement(w.ConnectHardwareOpenApp,{preventBack:!0}))}else n(t(d).createElement(T.ConnectHardwareSelectChains,{onBackCallback:()=>{a([],new Map)}}))}}else"denied"===(null==S?void 0:S.type)?(C=u.ConfirmationIconType.Failure,f=e("connectHardwarePermissionDeniedPrimary"),g=e("connectHardwarePermissionDeniedSecondary"),y=e("commandTryAgain"),l=!1,b=v):S&&"unable-to-connect"!==S.type||(C=u.ConfirmationIconType.Failure,f=e("connectHardwarePermissionUnableToConnect"),g=e("connectHardwareWaitingForApplicationSecondaryText"),y=e("commandTryAgain"),l=!1,b=v);return{buttonDisabled:l,defaultIcon:p,primaryText:f,secondaryText:g,buttonText:y,iconType:C,onClick:b}}),[o,m,S,n,v,x,a,e]);return t(d).createElement(y.ConnectHardwareStepContainer,null,t(d).createElement(y.ConnectHardwareIconHeaderWrapper,null,t(d).createElement(p.IconHeader,{icon:t(d).createElement(u.ConfirmationIcon,{defaultIcon:b,type:H}),primaryText:A,headerStyle:p.IconHeaderStyle.Large,secondaryText:E})),t(d).createElement(l.Button,{onClick:k,theme:"primary",disabled:C},I))},x=()=>{const{t:e}=(0,i.useTranslation)(),{pushSubStep:n}=(0,g.useHardwareOnboardingStore)();return t(d).createElement(y.ConnectHardwareStepContainer,null,t(d).createElement(y.ConnectHardwareIconHeaderWrapper,null,t(d).createElement(p.IconHeader,{icon:t(d).createElement(m.IconLedgerLogo,null),primaryText:e("connectHardwareLedger"),headerStyle:p.IconHeaderStyle.Large,secondaryText:e("connectHardwareStartConnection"),animateText:!0})),t(d).createElement(l.Button,{onClick:()=>n(t(d).createElement(S,null)),theme:"primary"},e("commandConnect")))}})),o.register("1GS29",(function(t,n){e(t.exports,"ConnectHardwareContainer",(function(){return c})),e(t.exports,"ConnectHardwareContainerPadding",(function(){return i})),e(t.exports,"ConnectHardwareIconHeaderWrapper",(function(){return s})),e(t.exports,"ConnectHardwareStepContainer",(function(){return d}));var a=o("cZIbv"),r=o("iUteh");const c=(0,a.default)(r.OnboardingContainer)`
  display: flex;
  flex-direction: column;
`,i=a.default.div`
  display: flex;
  flex-direction: column;
  flex: 1;
  width: 100%;
  padding: 20px 20px;
`,s=a.default.div`
  padding-top: 44px;
`,d=a.default.div`
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  flex: 1;
  width: 100%;
  overflow: auto;
`})),o.register("aV5N8",(function(n,a){e(n.exports,"ConnectHardwareOpenApp",(function(){return H}),(function(e){return H=e}));var r=o("6Tvfa"),c=o("d0go3"),i=o("belzv"),s=o("lBuGR"),d=o("hsoDC"),l=o("lMzyG"),u=o("gd9Oy"),p=o("W0Kfy"),m=o("lDSNw"),h=o("cZIbv"),f=o("8PPME"),g=o("laYjG"),y=o("03QiC"),w=o("5ftLv"),T=o("kpxNY"),S=o("02iAW"),x=o("kn91D"),v=o("gMNJN"),C=o("d1qx3"),b=o("8GZOc"),A=o("1GS29"),E=o("72wON"),I=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function c(e){try{s(a.next(e))}catch(e){o(e)}}function i(e){try{s(a.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((a=a.apply(e,t||[])).next())}))};const H=()=>{const{chainImportStep:e,setIncrementChainImportStep:n,selectedChains:a,selectedChainsMap:o,pushStep:h,pushSubStep:D,setDiscoveredAccounts:N,setDerivedAccountGroups:P}=(0,b.useHardwareOnboardingStore)(),B=(0,m.useRef)(b.useHardwareOnboardingStore.getState().derivedAccountGroups),{t:M,i18n:L}=(0,l.useTranslation)(),G=a[e-1],{data:j=[],isFetched:F,isError:_}=(0,b.useHardwareOnboardingStore)((e=>e.existingAccounts)),[R,z]=(0,m.useState)(!1),W=(0,m.useMemo)((()=>{const e=[],t=o.get(G)||{};for(const[n,a]of Object.entries(t))a&&e.push(n);return e}),[G,o]),{chainNameTextOr:Z,chainNameTextAnd:$}=(0,m.useMemo)((()=>{const e=W.map((e=>i.Chains.getChainName(e))),t=new Intl.ListFormat(L.resolvedLanguage,{style:"long",type:"disjunction"}),n=new Intl.ListFormat(L.resolvedLanguage,{style:"long",type:"conjunction"});return{chainNameTextOr:t.format(e),chainNameTextAnd:n.format(e)}}),[W,L]),Y=(0,m.useMemo)((()=>W.map((e=>t(m).createElement(y.ChainLogo,{key:e,networkID:e,width:90,height:90,strokeWidth:1})))),[W]);(0,m.useEffect)((()=>{const e=b.useHardwareOnboardingStore.subscribe((e=>B.current=e.derivedAccountGroups));return()=>e()}),[]);const K=(0,m.useMemo)((()=>{const e=[];switch(G){case u.AddressType.Solana:e.push({pathType:c.DerivationPathType.Bip44RootSolana});break;case u.AddressType.EVM:e.push({pathType:c.DerivationPathType.Bip44RootEthereum});case u.AddressType.BitcoinTaproot:case u.AddressType.BitcoinNativeSegwit:case u.AddressType.BitcoinNestedSegwit:case u.AddressType.BitcoinLegacy:}for(let t=0;t<19;++t)switch(G){case u.AddressType.Solana:e.push({index:t,pathType:c.DerivationPathType.Bip44ChangeSolana}),e.push({index:t,pathType:c.DerivationPathType.Bip44Solana});break;case u.AddressType.EVM:e.push({index:t,pathType:c.DerivationPathType.Bip44Ethereum}),e.push({index:t,pathType:c.DerivationPathType.Bip44EthereumSecondary});break;case u.AddressType.BitcoinTaproot:case u.AddressType.BitcoinNativeSegwit:case u.AddressType.BitcoinNestedSegwit:case u.AddressType.BitcoinLegacy:e.push({index:t,pathType:c.DerivationPathType.BitcoinTaproot},{index:t,pathType:c.DerivationPathType.BitcoinNativeSegwit})}return e}),[G]),[U,V]=(0,m.useState)(!0),{data:J=d.LEDGER_NOT_CONNECTED_STATE}=v.hooks.useLedgerWireTransportState(U,!0),{data:[q]}=(0,s.useFeatureFlags)(["kill-ledger-xpub-derivation"]),{data:Q,error:X,fetchStatus:ee,refetch:te}=v.hooks.useLedgerAddresses(J,K,!0,!q),ne="fetching"===ee,ae=!J.isConnected&&"reconnecting"!==J.status,[re,oe]=(0,m.useState)(!1),{data:ce,refetch:ie}=v.hooks.useRequestLedgerPermission(re,!0);(0,m.useEffect)((()=>{ae&&V(!1)}),[ae]),(0,m.useEffect)((()=>{"granted"===(null==ce?void 0:ce.type)&&(V(!0),oe(!1))}),[ce]);const se=(0,m.useCallback)((()=>I(void 0,void 0,void 0,(function*(){var n;if(Q&&Object.keys(Q).length){const o=[...B.current];let c=0;for(const e of Object.values(Q)){const t=null!==(n=o[c])&&void 0!==n?n:{accounts:{}},a={accounts:Object.assign({},t.accounts),derivationIndex:K[c].index};switch(e.addressType){case u.AddressType.EVM:W.includes(i.NetworkIDs.Polygon.Mainnet)&&(a.accounts[`${i.NetworkIDs.Polygon.Mainnet}-${e.address}`]={chainType:e.addressType,chainId:i.NetworkIDs.Polygon.Mainnet,address:e.address,publicKey:e.publicKey,pathParams:K[c]}),W.includes(i.NetworkIDs.Ethereum.Mainnet)&&(a.accounts[`${i.NetworkIDs.Ethereum.Mainnet}-${e.address}`]={chainType:e.addressType,chainId:i.NetworkIDs.Ethereum.Mainnet,address:e.address,publicKey:e.publicKey,pathParams:K[c]});break;case u.AddressType.Solana:a.accounts[`${i.NetworkIDs.Solana.Mainnet}-${e.address}`]={chainType:e.addressType,address:e.address,publicKey:e.publicKey,chainId:i.NetworkIDs.Solana.Mainnet,pathParams:K[c]};break;case u.AddressType.BitcoinTaproot:case u.AddressType.BitcoinNativeSegwit:case u.AddressType.BitcoinNestedSegwit:case u.AddressType.BitcoinLegacy:a.accounts[`${i.NetworkIDs.Bitcoin.Mainnet}-${e.address}`]={chainType:e.addressType,address:e.address,publicKey:e.publicKey,chainId:i.NetworkIDs.Bitcoin.Mainnet,pathParams:K[c]}}o[c]=a,c++}if(P(o),F&&a.length===e){z(!0);const e=(e=>{const t=new Set;for(const n of e)for(const{address:e}of n.addresses)t.add(e);return t})(j),n=o.reduce(((t,n)=>{let a=!1;for(const{address:t}of Object.values(n.accounts))a=a||e.has(t);return a||t.push(n),t}),[]),a=[],c=[];for(let e=0;e<n.length;e+=p.BATCH_SIZE_BY_PLATFORM.extension){const t=n.slice(e,e+p.BATCH_SIZE_BY_PLATFORM.extension).map((e=>Object.entries(e.accounts).reduce(((e,[t,n])=>(e[t]={account:n},e)),{})));c.push(t)}for(const e of c)a.push((0,p.discoverAccounts)(e));const i=(yield Promise.all(a)).flat().map((e=>{switch(e.status){case"discovered":return Object.assign(Object.assign({},e),{accounts:e.accounts.filter((e=>e.hasAccountActivity||(0,r.isRecommendedDerivationPathType)(e.derivationPathType)))});case"undiscovered":return Object.assign(Object.assign({},e),{accounts:e.accounts.filter((e=>(0,r.isRecommendedDerivationPathType)(e.derivationPathType)))})}})).filter((e=>e.accounts.length>0)).map((e=>{const t=(0,f.default)();return Object.assign(Object.assign({},e),{discoveryIdentifier:t})})),s=i.filter((e=>"undiscovered"===e.status||e.isSelectedByDefault)),d=i.filter((e=>!("undiscovered"===e.status||e.isSelectedByDefault))).slice(0,2),l=s.length>0,u=j.filter((e=>e.type===r.AccountType.Ledger)).length,g=(l?[...s,...d]:i.filter((e=>!e.accounts.some((e=>!(0,r.isRecommendedDerivationPathType)(e.derivationPathType))))).slice(0,3)).map(((e,t)=>Object.assign(Object.assign({},e),{accountIndex:u+t})));N(g,l),h(t(m).createElement(E.ConnectHardwareImportAccounts,{preventBack:!0}))}}}))),[Q,P,F,a.length,e,K,W,j,N,h]);let de,le,ue,pe;(0,m.useEffect)((()=>{Q&&Object.keys(Q).length===K.length&&(se(),a.length!==e&&(n(),D(t(m).createElement(H,{preventBack:!0}))))}),[Q,K,h,D,e,a,se,n]);let me=()=>{};return _?(de=t(m).createElement(w.ConfirmationIcon,{type:w.ConfirmationIconType.Failure}),le=M("connectHardwareErrorLedgerGeneric"),ue=M("connectHardwareErrorLedgerPhantomLocked"),me=()=>I(void 0,void 0,void 0,(function*(){const e=yield(0,C.getCurrentTabAsync)();void 0!==e.id&&(0,C.closeTabAsync)(e.id)})),pe=M("commandClose")):ce&&"granted"!==ce.type?(de=t(m).createElement(w.ConfirmationIcon,{type:w.ConfirmationIconType.Warning}),le=M("connectHardwarePermissionDeniedPrimary"),ue=M("connectHardwarePermissionDeniedSecondary"),pe=M("homeErrorButtonText"),me=ie):ae?(de=t(m).createElement(w.ConfirmationIcon,{type:w.ConfirmationIconType.Warning}),le=M("connectHardwarePermissionUnableToConnect"),ue=M("connectHardwarePermissionUnableToConnectDescription"),pe=M("commandConnect"),me=ie):X instanceof d.LedgerLockedError?(de=t(m).createElement(w.ConfirmationIcon,{type:w.ConfirmationIconType.Failure}),le=M("connectHardwareErrorLedgerLocked"),ue=M("connectHardwareErrorLedgerLockedDescription"),pe=M("homeErrorButtonText"),me=te):X?(de=t(m).createElement(w.ConfirmationIcon,{type:w.ConfirmationIconType.Failure}),le=M("connectHardwareErrorLedgerGeneric"),ue=M("connectHardwareErrorLedgerGenericDescription"),pe=M("homeErrorButtonText"),me=te):"reconnecting"==J.status?(de=t(m).createElement(w.ConfirmationIcon,{defaultIcon:t(m).createElement(S.SpinnerIcon,null),type:w.ConfirmationIconType.Default}),le=M("connectHardwareConnecting"),ue=M("connectHardwareConnectingDescription")):R?(de=t(m).createElement(w.ConfirmationIcon,{defaultIcon:t(m).createElement(S.SpinnerIcon,null),type:w.ConfirmationIconType.Default}),le=M("connectHardwareDiscoveringAccounts"),ue=M("connectHardwareDiscoveringAccountsDescription")):ne?(de=t(m).createElement(w.ConfirmationIcon,{defaultIcon:t(m).createElement(S.SpinnerIcon,null),type:w.ConfirmationIconType.Default}),le=M("connectHardwareConnectingAccounts"),ue=M("connectHardwareFindingAccountsWithActivity",{chainName:$})):(de=t(m).createElement(O,{logoCount:Y.length},Y),le=M("connectHardwareOpenAppInterpolated",{app:Z}),ue=M("connectHardwareOpenAppDescription")),t(m).createElement(A.ConnectHardwareStepContainer,null,t(m).createElement(A.ConnectHardwareIconHeaderWrapper,null,t(m).createElement(T.IconHeader,{icon:de,primaryText:le,headerStyle:T.IconHeaderStyle.Large,secondaryText:ue})),pe?t(m).createElement(g.Button,{onClick:me,theme:"primary"},pe):t(m).createElement(k,null,t(m).createElement(x.Text,{color:"#999999",size:14},M("connectHardwareAccountsStepOfSteps",{stepNum:e,totalSteps:a.length}))))},k=h.default.div`
  align-self: center;
  background-color: rgba(255, 255, 255, 0.03);
  border-radius: 80px;
  padding: 8px 16px;
  max-width: 150px;
`,O=h.default.div`
  display: flex;

  svg {
    position: relative;

    :first-child {
      left: ${e=>e.logoCount>1?"12.5px":0};
    }

    :nth-child(2) {
      left: ${e=>e.logoCount>1?"-12.5px":0};
    }
  }
`})),o.register("72wON",(function(n,a){e(n.exports,"ConnectHardwareImportAccounts",(function(){return f}));var r=o("lMzyG"),c=o("lDSNw"),i=o("cZIbv"),s=o("laYjG"),d=o("5ftLv"),l=o("kpxNY"),u=o("8GZOc"),p=o("1GS29"),m=o("3HeeF"),h=o("9P51g");const f=()=>{const{t:e}=(0,r.useTranslation)(),{discoveredAccounts:n,activeAccountsFound:a,setSelectedAccounts:o,pushSubStep:i}=(0,u.useHardwareOnboardingStore)(),f=(0,c.useMemo)((()=>{let t;if(a){const a=n.filter((e=>"undiscovered"===e.status||e.isSelectedByDefault));t=e(1===a.length?"connectHardwareFoundAccountsWithActivitySingular":"connectHardwareFoundAccountsWithActivity",{numOfAccounts:a.length})}else t=e("connectHardwareFoundSomeAccounts");return t}),[a,e,n]),w=(0,c.useCallback)((()=>{i(t(c).createElement(h.ConnectHardwareSelectAccounts,{activeAccounts:n}))}),[i,n]),T=(0,c.useCallback)((()=>{i(t(c).createElement(m.ConnectHardwareImportConfirmation,{preventBack:!0}))}),[i]);return(0,c.useEffect)((()=>{const e=n.reduce(((e,t,n)=>(("discovered"===t.status&&t.isSelectedByDefault||0===n)&&(e[t.discoveryIdentifier]=!0),e)),{});o(e)}),[n,o,a,e]),t(c).createElement(p.ConnectHardwareStepContainer,null,t(c).createElement(g,null,t(c).createElement(l.IconHeader,{icon:t(c).createElement(d.ConfirmationIcon,{type:d.ConfirmationIconType.Success}),primaryText:e("connectHardwareConnectAccounts"),headerStyle:l.IconHeaderStyle.Large,secondaryText:f})),t(c).createElement(y,{onClick:w,theme:"default"},e("connectHardwareSelectAccounts")),t(c).createElement(s.Button,{onClick:T,theme:"primary"},e("commandContinue")))},g=(0,i.default)(p.ConnectHardwareIconHeaderWrapper)`
  margin-bottom: 35px;
`,y=(0,i.default)(s.Button)`
  margin-bottom: 10px;
`})),o.register("3HeeF",(function(n,a){e(n.exports,"ConnectHardwareImportConfirmation",(function(){return h}));var r=o("d0go3"),c=o("lMzyG"),i=o("lDSNw"),s=o("laYjG"),d=o("5ftLv"),l=o("kpxNY"),u=o("gMNJN"),p=o("8GZOc"),m=o("1GS29");const h=()=>{const{t:e}=(0,c.useTranslation)(),{discoveredAccounts:n,selectedAccounts:a,onConnectHardwareAccounts:o,onConnectHardwareDone:h}=(0,p.useHardwareOnboardingStore)(),{mutateAsync:f}=u.hooks.useUpdateVisibleBitcoinAddressTypes(),[g,y]=(0,i.useState)(!1),w=(0,i.useMemo)((()=>n.filter((e=>!!a[e.discoveryIdentifier]))),[n,a]);return(0,i.useEffect)((()=>{if(w.length){const e=[],t=new Set;for(const n of w){const{accounts:a,seedIndex:o,accountIndex:c}=n,i=[],s=[];for(const e of a)(0,r.isBitcoinDerivationPathType)(e.derivationPathType)?(s.push({pathType:e.derivationPathType,value:e.publicKey}),"amount"in e&&0===parseFloat(e.amount)||t.add(e.chainType)):((0,r.isEVMDerivationPathType)(e.derivationPathType)||(0,r.isSolanaDerivationPathType)(e.derivationPathType))&&i.push({pathType:e.derivationPathType,value:e.address});e.push({derivationIndex:o,addresses:i,publicKeys:s,accountIndex:c})}o({accounts:e}).then((()=>{t.size>0&&f({addressTypes:Array.from(t)})})).finally((()=>y(!0)))}else y(!0)}),[w,o,f]),t(i).createElement(m.ConnectHardwareStepContainer,null,t(i).createElement(m.ConnectHardwareIconHeaderWrapper,null,t(i).createElement(l.IconHeader,{icon:t(i).createElement(d.ConfirmationIcon,{type:d.ConfirmationIconType.Success}),primaryText:e("connectHardwareAccountsAddedInterpolated",{numOfAccounts:w.length}),headerStyle:l.IconHeaderStyle.Large,secondaryText:e("connectHardwareFinishSecondaryText")})),t(i).createElement(s.Button,{onClick:h,theme:"primary",disabled:!g},e("pastParticipleDone")))}})),o.register("9P51g",(function(n,a){e(n.exports,"ConnectHardwareSelectAccounts",(function(){return h}));var r=o("lMzyG"),c=o("lDSNw"),i=o("cZIbv"),s=o("laYjG"),d=o("kn91D"),l=o("izP3E"),u=o("8GZOc"),p=o("1GS29"),m=o("3HeeF");const h=({activeAccounts:e})=>{const{t:n}=(0,r.useTranslation)(),{selectedAccounts:a,selectAccount:o,deselectAccount:i,pushSubStep:h}=(0,u.useHardwareOnboardingStore)(),g=(0,c.useMemo)((()=>0===Object.values(a).filter((e=>!!e)).length),[a]),y=(0,c.useCallback)((()=>{h(t(c).createElement(m.ConnectHardwareImportConfirmation,{preventBack:!0}))}),[h]);return t(c).createElement(p.ConnectHardwareStepContainer,null,t(c).createElement("div",{style:{marginBottom:15}},t(c).createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:30}},t(c).createElement(d.Text,{weight:500,size:30,lineHeight:34,maxWidth:"320px"},n("connectHardwareSelectAccounts")),t(c).createElement(f,{wordBreak:"break-word",size:18,lineHeight:22,color:"#777777"},n("connectHardwareChooseAccountsToConnect"))),t(c).createElement("div",{style:{maxHeight:420,overflowY:"scroll"}},e.map((({accounts:e,discoveryIdentifier:n,accountIndex:r})=>{const s=!!a[n];return t(c).createElement(l.DiscoveredAccountRow,{key:n,accountType:"ledger",accounts:e,accountIndex:r,checked:s,onPress:()=>{s?i(n):o(n)}})})))),t(c).createElement(s.Button,{onClick:y,theme:"primary",disabled:g},n("commandContinue")))},f=(0,i.default)(d.Text)`
  margin-top: 15px;
`})),o.register("7i1iF",(function(n,a){e(n.exports,"ConnectHardwareSelectChains",(function(){return w}));var r=o("belzv"),c=o("lMzyG"),i=o("lDSNw"),s=o("cZIbv"),d=o("laYjG"),l=o("03QiC"),u=o("7E6dj"),p=o("kn91D"),m=o("gMNJN"),h=o("gdILj"),f=o("8GZOc"),g=o("1GS29"),y=o("aV5N8");const w=()=>{const{t:e}=(0,c.useTranslation)(),{pushSubStep:n,selectedChains:a,setSelectedChains:o,selectedChainsMap:s}=(0,f.useHardwareOnboardingStore)(),u=m.hooks.useEnabledNetworkIDs(),w=m.hooks.useEnabledAddressTypes(),S=(0,i.useCallback)((e=>{const t=new Map(s),n=r.Chains.getAddressTypes(e);for(const a of n){const n=s.get(a),r=null==n?void 0:n[e];t.set(a,Object.assign(Object.assign({},n),{[e]:!r}))}const a=w.filter((e=>{const n=t.get(e)||{};return Object.values(n).reduce(((e,t)=>t?++e:e),0)>0}));o(a,t)}),[w,o,s]);(0,h.useEffectOnce)((()=>{const e=new Map;for(const t of w)e.set(t,{});for(const t of u){const n=r.Chains.getAddressTypes(t);for(const a of n){const n=e.get(a);e.set(a,Object.assign(Object.assign({},n),{[t]:!1}))}}o(a,e)}),w.length>0&&u.length>0);const x=(0,i.useMemo)((()=>u.map((e=>{const n=r.Chains.getAddressTypes(e);let a=!1;for(const t of n){const n=s.get(t);a=(null==n?void 0:n[e])||a}return t(i).createElement(T,{key:e,icon:t(i).createElement(l.ChainLogo,{networkID:e,width:40,height:40,stroke:""}),networkID:e,onPressChain:S,isChecked:a})}))),[u,s,S]),C=(0,i.useMemo)((()=>{let e=0;for(const t of s.values())e+=Object.values(t).reduce(((e,t)=>t?++e:e),0);return 0===e}),[s]);return t(i).createElement(g.ConnectHardwareStepContainer,null,t(i).createElement(p.Text,{weight:500,size:28,lineHeight:34},e("connectHardwareSelectChains")),t(i).createElement(v,null,x),t(i).createElement(d.Button,{onClick:()=>{n(t(i).createElement(y.ConnectHardwareOpenApp,{preventBack:!0}))},theme:"primary",disabled:C},e("commandContinue")))},T=({networkID:e,icon:n,onPressChain:a,isChecked:o})=>t(i).createElement(S,{onClick:()=>{a(e)}},t(i).createElement(C,null,t(i).createElement(x,null,n),t(i).createElement(p.Text,{size:16,weight:600},r.Chains.getNetworkName(e))),t(i).createElement(u.Checkbox,{checked:o})),S=s.default.div`
  align-items: center;
  background-color: #2a2a2a;
  border-radius: 6px;
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  margin-bottom: 12px;
  padding: 16px 24px 16px 12px;

  :last-child {
    margin-bottom: 28px;
  }

  > span {
    margin-right: 0px;
  }
`,x=s.default.div`
  margin-right: 12px;
`,v=s.default.div`
  margin-top: 20px;
`,C=s.default.div`
  display: flex;
  align-items: center;
`}));
//# sourceMappingURL=SettingsConnectHardware.d95aa848.js.map
define=__define;})(window.define);