(function(define){var __define;"function"==typeof define&&define.amd&&(__define=define,define=null);
!function(){function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},i=n.parcelRequire1d24;null==i&&((i=function(e){if(e in o)return o[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},n.parcelRequire1d24=i),i.register("21aqi",(function(t,n){e(t.exports,"useSPLTokenAccountListingStats",(function(){return i("fWmA5").useSPLTokenAccountListingStats})),e(t.exports,"useCollectibleEdition",(function(){return i("fWmA5").useCollectibleEdition})),e(t.exports,"waitForMarketplaceConfirmation",(function(){return i("fWmA5").waitForMarketplaceConfirmation})),e(t.exports,"waitForMarketplaceDelist",(function(){return i("fWmA5").waitForMarketplaceDelist})),e(t.exports,"waitForMintInAllCollectibles",(function(){return i("fWmA5").waitForMintInAllCollectibles})),e(t.exports,"collectiblesShouldDehydrateQueryPredicate",(function(){return i("9Y3Ou").collectiblesShouldDehydrateQueryPredicate})),e(t.exports,"createCollectibleHooks",(function(){return i("2MCIz").createCollectibleHooks})),e(t.exports,"useEditListCollectible",(function(){return i("a3mbF").useEditListCollectible})),e(t.exports,"useListCollectible",(function(){return i("28sgo").useListCollectible})),e(t.exports,"useUnlistCollectible",(function(){return i("18W1y").useUnlistCollectible})),e(t.exports,"useSearchCollectiblesStrict",(function(){return i("1heCw").useSearchCollectiblesStrict})),e(t.exports,"useTokenAccountMinBalance",(function(){return i("egicy").useTokenAccountMinBalance})),e(t.exports,"useCollectibleMediaURI",(function(){return i("1kJQ3").useCollectibleMediaURI})),e(t.exports,"useCollectionMediaUri",(function(){return i("bzPWR").useCollectionMediaUri})),e(t.exports,"useCollectionCollectible",(function(){return i("ToLjI").useCollectionCollectible})),e(t.exports,"useCollectionItemsCount",(function(){return i("b4hOH").useCollectionItemsCount})),e(t.exports,"useOnlyImageCollectibles",(function(){return i("7moAU").useOnlyImageCollectibles})),e(t.exports,"useOrderedCollections",(function(){return i("cprKX").useOrderedCollections})),e(t.exports,"useIsCollectionPinned",(function(){return i("3YGzV").useIsCollectionPinned})),e(t.exports,"useCollectibleExplorer",(function(){return i("bB55c").useCollectibleExplorer})),e(t.exports,"useDedupeCollectibles",(function(){return i("hnd43").useDedupeCollectibles})),e(t.exports,"useCollectibleChainSpecificInfoSection",(function(){return i("dGF9e").useCollectibleChainSpecificInfoSection})),e(t.exports,"useCollectibleCTABar",(function(){return i("3elfT").useCollectibleCTABar})),e(t.exports,"formatEstimatedFees",(function(){return i("5rkl9").formatEstimatedFees})),e(t.exports,"useListCollectibleStore",(function(){return i("iK4RJ").useListCollectibleStore})),e(t.exports,"useCollectiblesStore",(function(){return i("lcNVz").useCollectiblesStore})),e(t.exports,"CollectibleMediaTypeSchema",(function(){return i("j8YST").CollectibleMediaTypeSchema})),e(t.exports,"ReportCollectibleEventType",(function(){return i("j8YST").ReportCollectibleEventType})),e(t.exports,"SendSuccessCondition",(function(){return i("j8YST").SendSuccessCondition})),e(t.exports,"getInstantSellError",(function(){return i("2eSHG").getInstantSellError})),e(t.exports,"isCollectibleSemiFungible",(function(){return i("1yqzk").isCollectibleSemiFungible})),e(t.exports,"createCollectibleTransferPendingTransactionInput",(function(){return i("jDpXe").createTransferPendingTransactionInput})),e(t.exports,"isSolanaCollectibleChainData",(function(){return i("l8aZk").isSolanaCollectibleChainData})),e(t.exports,"isEvmCollectibleChainData",(function(){return i("l8aZk").isEvmCollectibleChainData})),e(t.exports,"isBitcoinCollectibleChainData",(function(){return i("l8aZk").isBitcoinCollectibleChainData})),e(t.exports,"isBitcoinRareSatsCollectibleChainData",(function(){return i("l8aZk").isBitcoinRareSatsCollectibleChainData})),e(t.exports,"selectBestCollectionName",(function(){return i("hK5G2").selectBestCollectionName})),e(t.exports,"convertCollectibleToSPLTokenAccount",(function(){return i("dig1v").convertCollectibleToSPLTokenAccount})),e(t.exports,"formatCount",(function(){return i("1nhJ5").formatCount})),e(t.exports,"getBurnTransactionWithPriorityFee",(function(){return i("2of6v").getBurnTransactionWithPriorityFee})),e(t.exports,"bpsToPercent",(function(){return i("lw87t").bpsToPercent})),e(t.exports,"bpsToValue",(function(){return i("lw87t").bpsToValue})),e(t.exports,"createListingAnalytics",(function(){return i("7he9C").createListingAnalytics})),e(t.exports,"getCollectibleData",(function(){return i("gIsWN").getCollectibleData})),e(t.exports,"CollectiblesSdk",(function(){return i("1zuDM").CollectiblesSdk})),e(t.exports,"MAGIC_EDEN_TERMS_URL",(function(){return i("5L9Uu").MAGIC_EDEN_TERMS_URL}));i("fWmA5"),i("9DWl5"),i("9Y3Ou"),i("2MCIz"),i("7qAtp"),i("ctsJe"),i("6HwM1"),i("bKVfi"),i("eD7lq"),i("a3mbF"),i("28sgo"),i("18W1y"),i("1heCw"),i("egicy"),i("cySm1"),i("1zpuU"),i("1kJQ3"),i("bzPWR"),i("ToLjI"),i("b4hOH"),i("7moAU"),i("cprKX"),i("3YGzV"),i("gfoNl"),i("7TvBs"),i("kPRJD"),i("21c1X"),i("bB55c"),i("hnd43"),i("kVQvU"),i("dGF9e"),i("3elfT"),i("5rkl9"),i("iK4RJ"),i("lcNVz"),i("j8YST"),i("dK8f3"),i("2eSHG"),i("5YWWl"),i("1yqzk"),i("8PxwR"),i("jDpXe"),i("l8aZk"),i("hK5G2"),i("dig1v"),i("1nhJ5"),i("2of6v"),i("jXsY4"),i("lw87t"),i("fRdQq"),i("7he9C"),i("gIsWN");i("789Pd");i("1zuDM"),i("5L9Uu")})),i.register("fWmA5",(function(t,n){e(t.exports,"useCollectibleEdition",(function(){return b}),(function(e){return b=e})),e(t.exports,"useSPLTokenAccountListingStats",(function(){return w}),(function(e){return w=e})),e(t.exports,"waitForMarketplaceConfirmation",(function(){return A}),(function(e){return A=e})),e(t.exports,"waitForMarketplaceDelist",(function(){return T}),(function(e){return T=e})),e(t.exports,"waitForMintInAllCollectibles",(function(){return C}),(function(e){return C=e}));var o=i("6ElgT"),r=i("3tdpt"),a=i("hMVEP"),s=i("7gANb"),u=i("RVqnc"),c=i("j8YST"),l=i("fRdQq"),d=i("iHNyV"),p=i("d9Gnw"),f=i("9VD5Q"),m=i("l8aZk"),g=i("8tcqI").Buffer,v=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const y=(0,u.toMilliseconds)({seconds:10}),h=(0,u.toMilliseconds)({seconds:5}),S="CollectibleEdition";function b(e,t){return(0,r.useQuery)({queryKey:[S,{mintAddress:e}],queryFn(){return v(this,void 0,void 0,(function*(){if(!t)return{};const n=g.from(new(0,a.PublicKey)(e).toBytes()),r=(0,l.getMasterEditionPDA)(n),{Edition:i}=yield(0,o.getMetaplexFoundationDeps)();try{const e=yield i.fromAccountAddress(t,r),n=c.ZodMetaplexTokenEdition.safeParse(e.key);if(!n.success)throw new Error(`Invalid MetaplexTokenEdition: ${e.key}`);return{key:n.data,isMasterEdition:(0,l.isMasterEdition)(e.key)}}catch(e){return{key:void 0,isMasterEdition:void 0}}}))}})}const k="SPLTokenAccountListingStats";function w(e,t,n,o){return(0,r.useQuery)({enabled:""!==n,refetchInterval:y,cacheTime:h,queryKey:[k,{apiEnvironment:e,cluster:t,mint:n,pubkey:o}],queryFn(t){return v(this,arguments,void 0,(function*({queryKey:t}){const[,{mint:n,cluster:r}]=t,i=(0,l.getTokenListNetworkIDByCluster)(r);return yield(0,p.getSPLCollectibleMarketplaceStats)(e,n,i,o)}))}})}const A=(e,t,n,o,r,...i)=>v(void 0,[e,t,n,o,r,...i],void 0,(function*(e,t,n,o,r,i=20,a=1e3){try{const s=(0,l.getTokenListNetworkIDByCluster)(n);return yield(0,u.withRetry)((()=>v(void 0,void 0,void 0,(function*(){var n;const i=yield(0,p.getSPLCollectibleMarketplaceStats)(e,t,s);if(!i[o])return;const a=(null!==(n=i[o].activities)&&void 0!==n?n:[]).find((e=>e.signature===r));if(!a)throw new Error("no activity with that signature yet!");return a}))),(()=>!0),i,a)}catch(e){}})),T=(e,t,n,o,r,...i)=>v(void 0,[e,t,n,o,r,...i],void 0,(function*(e,t,n,o,r,i=20,a=1e3){try{const s=(0,l.getTokenListNetworkIDByCluster)(o);return yield(0,u.withRetry)((()=>v(void 0,void 0,void 0,(function*(){var o;const i=yield(0,f.getSPLListings)(e,{address:t,chainId:`solana:${s}`});for(const e of i){if((null===(o=e.listings)||void 0===o?void 0:o[r])&&e.asset.mintPubKey===n)throw new Error("still in listings")}return i}))),(()=>!0),i,a)}catch(e){}})),C=(e,t,n,...o)=>v(void 0,[e,t,n,...o],void 0,(function*(e,t,n,o=20,r=1e3){try{return yield(0,u.withRetry)((()=>v(void 0,void 0,void 0,(function*(){const{allCollectibles:o}=yield(0,d.getCollectibles)(e,t.map(s.toAccount));for(const e of o)if((0,m.isSolanaCollectibleChainData)(e.chainData)&&e.chainData.mint===n)return e;throw new Error("cant find mint in tokens")}))),(()=>!0),o,r)}catch(e){}}))})),i.register("j8YST",(function(n,o){e(n.exports,"CollectiblesError",(function(){return d})),e(n.exports,"MetaplexTokenEdition",(function(){return v})),e(n.exports,"ZodMetaplexTokenEdition",(function(){return h})),e(n.exports,"CollectibleMediaTypeSchema",(function(){return T})),e(n.exports,"Collectible",(function(){return R})),e(n.exports,"ReportCollectibleEventType",(function(){return U})),e(n.exports,"SendSuccessCondition",(function(){return Q}));var r=i("iOvk1"),a=i("5slFC"),s=i("cemvj"),u=i("kAKNF"),c=i("7XqVB");const l=e=>{if(null!=e&&(e.constructor!==Object||0!==Object.keys(e).length))return e};class d extends Error{constructor(e){super(e),this.name="CollectiblesError"}}const p=c.z.string().nullish().transform(l),f=c.z.number().nullish().transform(l),m=c.z.union([p,f]).transform((e=>"number"==typeof e?e.toString():e)),g=c.z.object({name:p,symbol:p,decimals:f,address:p});var v,y;(y=v||(v={}))[y.Uninitialized=0]="Uninitialized",y[y.EditionV1=1]="EditionV1",y[y.MasterEditionV1=2]="MasterEditionV1",y[y.ReservationListV1=3]="ReservationListV1",y[y.MetadataV1=4]="MetadataV1",y[y.ReservationListV2=5]="ReservationListV2",y[y.MasterEditionV2=6]="MasterEditionV2",y[y.EditionMarker=7]="EditionMarker",y[y.UseAuthorityRecord=8]="UseAuthorityRecord",y[y.CollectionAuthorityRecord=9]="CollectionAuthorityRecord",y[y.TokenOwnedEscrow=10]="TokenOwnedEscrow",y[y.TokenRecord=11]="TokenRecord",y[y.MetadataDelegate=12]="MetadataDelegate";const h=c.z.nativeEnum(v),S=c.z.object({price:c.z.number(),token:g.nullish().transform(l)}),b=S.nullish().transform(l),k=c.z.object({name:p,url:p,isVerified:c.z.coerce.boolean()}),w=c.z.object({id:c.z.string(),isValidCollectionId:c.z.coerce.boolean(),name:p,description:p,externalUrl:p,imageUrl:p,isSpam:c.z.coerce.boolean(),spamStatus:c.z.nativeEnum(s.SpamStatus).optional().default(s.SpamStatus.NotVerified),floorPrice:S.nullish().transform(l),ownerCount:f,totalCount:f,tokenCount:f,marketplaces:c.z.array(k)}),A=c.z.object({small:p,medium:p,large:p,blurhash:p}).nullish().transform(l),T=c.z.enum(["image","video","audio","model","other"]),C=c.z.object({url:p}).nullish().transform(l),x=c.z.object({type:T,image:C,video:C,audio:C,model:C,other:C,previews:A}).nullish().transform(l),E=c.z.object({trait_type:p,value:p.or(f),display_type:p}),I=c.z.object({id:c.z.string(),contract:c.z.string(),standard:c.z.nativeEnum(a.ERCTokenStandard)}),P=c.z.object({compressed:c.z.boolean(),merkleTree:c.z.string(),leafIndex:c.z.number()}),F=c.z.object({mint:c.z.string(),tokenAccount:c.z.string(),standard:c.z.nativeEnum(a.SPLTokenStandard),compression:P.nullish().transform(l),programId:c.z.string(),mintExtensions:c.z.array(a.SplTokenMintExtensions).optional().catch((()=>{}))}),N=c.z.object({id:c.z.string(),url:c.z.string(),displayName:c.z.string(),description:c.z.string(),count:c.z.number()}),D=c.z.object({hash:c.z.string(),index:c.z.number(),distinctRareSats:c.z.number(),satributes:c.z.array(N),blockNumber:c.z.number(),value:c.z.number(),backgroundImageUrl:c.z.string()}),O=c.z.object({firstCreatedTransactionHash:c.z.string(),firstCreatedInscriptionId:c.z.string(),inscriptionId:p,inscriptionNumber:m,outputValue:m,satNumber:m,satName:p,satRarity:p,protocolName:p,utxoHash:p,utxoIndex:f,createdAt:c.z.string().nullish().transform(l),utxoDetails:D.nullish().transform(l)}),M=(c.z.object({firstCreatedTransactionHash:c.z.string(),firstCreatedInscriptionId:c.z.string(),utxoDetails:D}),c.z.object({listingPrice:c.z.string(),listingPriceUiAmount:c.z.string(),isNative:c.z.boolean(),url:c.z.string()})),L=c.z.union([F,I,O]),R=c.z.object({id:r.BRI,chain:r.NetworkMetadata,name:p,symbol:p,description:p,externalUrl:p,collection:w,media:x,uri:p,attributes:c.z.array(E).nullish().transform((e=>null!=e?e:[])),lastSalePrice:b,balance:p,decimals:p,owner:p,chainData:L.optional(),listings:c.z.record(M).nullish().transform(l)}),B=w.extend({items:c.z.array(R)});c.z.object({items:c.z.array(B),isTrimmed:c.z.boolean()});var U,_;(_=U||(U={})).userHid="userHid",_.userUnhid="userUnhid",_.userBurned="userBurned",_.markAsSpam="markAsSpam",_.markAsNotSpam="markAsNotSpam";const z=c.z.object({networkID:r.ZodSolanaNetworkID}).extend({type:c.z.literal("transferSPLToken"),senderAddress:r.Address,mint:c.z.string(),amount:c.z.union([c.z.instanceof(t(u)),c.z.string()]),memo:c.z.string().optional()}),V=(z.extend({destination:c.z.string(),senderAccount:c.z.string(),decimals:c.z.number(),references:c.z.array(c.z.string()).optional(),programId:c.z.string()}),z.extend({destination:c.z.string(),compression:P.nullish().transform(l).refine((e=>null==e?void 0:e.compressed))}),c.z.object({compression:P.nullish().transform(l).refine((e=>null==e?void 0:e.compressed)),mint:c.z.string()}),z.extend({destination:c.z.string(),senderAccount:c.z.string(),standard:c.z.enum([a.SPLTokenStandard.ProgrammableNonFungible,a.SPLTokenStandard.ProgrammableNonFungibleEdition])}),z.extend({destination:c.z.string()}),c.z.object({root:c.z.string(),proof:c.z.array(c.z.string()),merkleTree:c.z.string(),dataHash:c.z.string(),creatorHash:c.z.string(),leafIndex:c.z.number(),owner:c.z.string(),delegate:c.z.string().optional()}),c.z.object({networkID:r.EVMNetworkID})),j=(V.extend({senderAddress:r.Address,type:c.z.literal("transferERC721Evm"),destination:c.z.string(),amount:c.z.literal(1),contractAddress:c.z.string(),tokenID:c.z.string()}),V.extend({senderAddress:r.Address,type:c.z.literal("transferERC1155Evm"),destination:c.z.string(),amount:c.z.union([c.z.instanceof(t(u)),c.z.string()]),contractAddress:c.z.string(),tokenID:c.z.string()}),c.z.object({networkID:r.ZodBitcoinNetworkID}));j.extend({type:c.z.literal("ordinal"),inscriptionId:c.z.string(),value:c.z.string(),senderAddress:c.z.string(),destination:c.z.string(),amount:c.z.literal(1),utxoHash:c.z.string(),utxoIndex:c.z.number()}),j.extend({type:c.z.literal("raresats"),hash:c.z.string(),index:c.z.number(),value:c.z.string(),senderAddress:c.z.string(),destination:c.z.string(),amount:c.z.literal(1)});var Q,q;(q=Q||(Q={})).CONFIRMATION="CONFIRMATION",q.SUBMISSION="SUBMISSION"})),i.register("fRdQq",(function(n,o){e(n.exports,"performNotaryCheck",(function(){return d})),e(n.exports,"getTokenListNetworkIDByCluster",(function(){return p})),e(n.exports,"solanaToLamports",(function(){return f})),e(n.exports,"isMasterEdition",(function(){return m})),e(n.exports,"getMetadataPDA",(function(){return h})),e(n.exports,"getMasterEditionPDA",(function(){return S})),e(n.exports,"getCollectionMetadataPDA",(function(){return b}));var r=i("8tcqI"),a=i("6ElgT"),s=i("hMVEP"),u=i("kAKNF"),c=i("5L9Uu"),l=i("j8YST");const d=e=>{for(const t of e.instructions)for(const e of t.keys)if(e.isSigner&&e.pubkey.toBase58()===c.MAGIC_EDEN_NOTARY.toBase58())return!0;return!1},p=e=>{switch(e){case"mainnet-beta":case"localhost":return 101;case"testnet":return 102;case"devnet":return 103}},f=e=>new(t(u))(e).multipliedBy(s.LAMPORTS_PER_SOL).toNumber();function m(e){const t=[l.MetaplexTokenEdition.MasterEditionV1,l.MetaplexTokenEdition.MasterEditionV2],n=l.ZodMetaplexTokenEdition.safeParse(e);return n.success&&t.includes(n.data)}const g=r.Buffer.from("metadata"),v=r.Buffer.from("edition"),y=a.METADATA_PROGRAM_ID.toBuffer();function h(e){const[t]=s.PublicKey.findProgramAddressSync([g,y,e],a.METADATA_PROGRAM_ID);return t}function S(e){const[t]=s.PublicKey.findProgramAddressSync([g,y,e,v],a.METADATA_PROGRAM_ID);return t}function b(e){const[t]=s.PublicKey.findProgramAddressSync([g,y,e],a.METADATA_PROGRAM_ID);return t}})),i.register("5L9Uu",(function(t,n){e(t.exports,"MAGIC_EDEN_NOTARY",(function(){return r})),e(t.exports,"MAGIC_EDEN_TERMS_URL",(function(){return a}));var o=i("hMVEP");const r=new(0,o.PublicKey)("NTYeYJ1wr4bpM5xo6zx5En44SvJFAd35zTxxNoERYqd"),a=(new(0,o.PublicKey)("M2mx93ekt1fmXSVkTrUL9xVFHkmME8HTUi5Cyc5aF7K"),"https://magiceden.io/terms-of-service.pdf")})),i.register("iHNyV",(function(t,n){e(t.exports,"getCollectibles",(function(){return l}),(function(e){return l=e}));var o=i("beWYh"),r=i("LfKcR"),a=i("2cD4e"),s=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const u="collectibles",c=new Error("Failed to fetch collectibles for addresses");function l(e,t){return s(this,void 0,void 0,(function*(){var n;const i=`${e}/collectibles/v1`;try{const e=(yield o.rb.post(i,{addresses:t})).data,n=!!e.isTrimmed;if(!e.collectibles)throw c;return{allCollectibles:(0,a.parseCollectiblesResponse)(e.collectibles),isTrimmed:n}}catch(t){if((0,o.isRequestBuilderError)(t)){const o=null===(n=t.response)||void 0===n?void 0:n.status;(0,r.captureClientError)(t,o,u,{apiEnv:e})}throw t}}))}})),i.register("LfKcR",(function(t,n){e(t.exports,"captureClientError",(function(){return r}));var o=i("csW2r");const r=(e,t,n,r)=>{(!t||t>=400&&t<500)&&(o.telemetry.addBreadcrumb(n,JSON.stringify(r),o.Severity.Info),o.telemetry.captureError(e,o.FeatureTag.Collectibles))}})),i.register("2cD4e",(function(t,n){e(t.exports,"parseCollectiblesResponse",(function(){return r}));var o=i("j8YST");const r=e=>e.reduce(((e,t)=>{const n=o.Collectible.safeParse(t);return n.success&&e.push(n.data),e}),[])})),i.register("d9Gnw",(function(t,n){e(t.exports,"getSPLCollectibleMarketplaceStats",(function(){return s}),(function(e){return s=e}));var o=i("beWYh"),r=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const a=new Error("Failed to fetch spl collectible marketplace stats"),s=(e,t,n,i)=>r(void 0,void 0,void 0,(function*(){const r=new URL(`${e}/solana/nft/v1/mint/${t}/stats`);let s;r.searchParams.set("chainId",n.toString()),i&&r.searchParams.set("pubkey",i);try{s=yield o.rb.headers({Accept:"application/json"}).get(r.toString())}catch(e){throw a}if(!(0,o.responseIsOkay)(s))throw a;return s.data.stats}))})),i.register("9VD5Q",(function(t,n){e(t.exports,"getSPLListings",(function(){return u}),(function(e){return u=e}));var o=i("beWYh"),r=i("LfKcR"),a=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const s=new Error("Failed to fetch SPL listings"),u=(e,t)=>a(void 0,void 0,void 0,(function*(){let n;try{const r=t.chainId.replace("solana:",""),i=t.address,a=new URLSearchParams;a.append("chainId",r);const u=`${e}/solana/nft/v1/pubkey/${i}/listings?${a.toString()}`,c=yield o.rb.headers({Accept:"application/json"}).get(u);if(n=c.status,!(0,o.responseIsOkay)(c))throw s;const l=c.data;return l.filter((e=>{var t;return!!(null===(t=e.listings)||void 0===t?void 0:t.magic_eden)}))}catch(t){const o=t instanceof Error?t:new Error("Non-Error was thrown during fetching of spl listings");throw(0,r.captureClientError)(o,n,"spl-listings",{apiEnv:e}),o}}))})),i.register("l8aZk",(function(t,n){e(t.exports,"isSolanaCollectibleChainData",(function(){return r})),e(t.exports,"isEvmCollectibleChainData",(function(){return a})),e(t.exports,"isBitcoinCollectibleChainData",(function(){return s})),e(t.exports,"isBitcoinRareSatsCollectibleChainData",(function(){return u})),e(t.exports,"isTransferERC721EvmArgs",(function(){return c})),e(t.exports,"isTransferERC1155EvmArgs",(function(){return l})),e(t.exports,"isTransferCompressedTokenArgs",(function(){return d})),e(t.exports,"isTransferProgrammableNftArgs",(function(){return p})),e(t.exports,"isTransferOcpTokenArgs",(function(){return f})),e(t.exports,"isTransferOrdinalArgs",(function(){return m})),e(t.exports,"isTransferRareSatsArgs",(function(){return g}));var o=i("5slFC");function r(e){return void 0!==(null==e?void 0:e.tokenAccount)}function a(e){return void 0!==(null==e?void 0:e.contract)}function s(e){return void 0!==e&&"firstCreatedTransactionHash"in e}function u(e){return s(e)&&!!e.utxoDetails}const c=e=>"transferERC721Evm"===e.type,l=e=>"transferERC1155Evm"===e.type,d=e=>{var t;return"compression"in e&&!!(null===(t=e.compression)||void 0===t?void 0:t.compressed)},p=e=>"standard"in e&&(e.standard===o.SPLTokenStandard.ProgrammableNonFungible||e.standard===o.SPLTokenStandard.ProgrammableNonFungibleEdition),f=e=>"transferSPLToken"===e.type&&"destination"in e,m=e=>"ordinal"===e.type,g=e=>"raresats"===e.type})),i.register("9DWl5",(function(t,n){e(t.exports,"BIDS_SCOPE",(function(){return a})),e(t.exports,"collectiblesQueryKeys",(function(){return s}));var o=i("7gANb");const r="collectibles",a=[r,"collectibleBids"],s={collections:e=>[r,"collections",{addresses:e.map(o.toAccount)}],hiddenCollections:e=>[r,"hiddenCollections",e],unhiddenCollections:e=>[r,"unhiddenCollections",e],visibilityOverrides:e=>[r,"visibilityOverrides",e],pinnedCollections:e=>[r,"pinnedCollections",e],optimisticUpdates:()=>[r,"optimisticUpdates"],collectibleBids:e=>[...a,e],collectibleMintGasEstimation:e=>[r,"mintNFTGasEstimation",e],collectibleSellSteps:e=>[r,"collectibleSellSteps",e],createMintTransaction:e=>[r,"createMintTransaction",e],transferTransaction:(e,t,n)=>[r,"transferTransaction",{transferArgs:e,transactionUnitCost:t,utxoState:n}]}})),i.register("9Y3Ou",(function(t,n){e(t.exports,"collectiblesShouldDehydrateQueryPredicate",(function(){return s}));var o=i("9DWl5");const r=o.collectiblesQueryKeys.collections([])[1],a=[r,o.collectiblesQueryKeys.hiddenCollections("")[1],o.collectiblesQueryKeys.unhiddenCollections("")[1],o.collectiblesQueryKeys.pinnedCollections("")[1]],s=e=>{var t;const n=String(e.queryKey[1]);return n===r?(null===(t=e.state.data)||void 0===t?void 0:t.nrOfItems)<=500:a.includes(n)}})),i.register("2MCIz",(function(t,n){e(t.exports,"createCollectibleHooks",(function(){return L}),(function(e){return L=e}));var o=i("eD7lq"),r=i("9DWl5"),a=i("7qAtp"),s=i("6HwM1"),u=i("ctsJe"),c=i("kKWDy"),l=i("dAQq7"),d=i("1El9w"),p=i("aTZIn"),f=i("iNEbF"),m=i("82MEA"),g=i("5cOz4"),v=i("3OEe5"),y=i("hawzv"),h=i("9EdxR"),S=i("bKVfi"),b=i("hc5YT"),k=i("1n4u8"),w=i("d8v4t"),A=i("cySm1"),T=i("3P9Mr"),C=i("h2jNW"),x=i("5rkl9"),E=i("lkQLo"),I=i("jKoFs"),P=i("2jrTu"),F=i("j1qxo"),N=i("dzcGy"),D=i("kPRJD"),O=i("3IRsP"),M=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};function L(e,t,n,i,L,R,B,U,_,z,V,j){return{useInstantSellEvmGasEstimation:(e,t,n,o)=>(0,E.useInstantSellEvmGasEstimation)({sellSteps:n,marketplace:e,transactionHooks:_,nativeTokenBalance:o,collectibleChainId:t}),useInstantSellSolanaGasEstimation:e=>(0,F.useInstantSellSolanaGasEstimation)({bidSummary:e,fungibleHooks:z}),useInstantSellExecuteSolanaSteps:(n,o,r,a,s)=>(0,P.useInstantSellExecuteSolanaSteps)({stepsOrderId:n,analytics:B,storage:t,accountSigner:e,accountHooks:R,initialSteps:o,bidSummary:r,queryClient:i,collectible:a,tokenPrice:s}),useInstantSellExecuteEvmSteps:(o,r,a,s,u,c,l)=>(0,I.useInstantSellExecuteEvmSteps)({stepsOrderId:o,analytics:B,getApiEnvironment:n,storage:t,accountSigner:e,accountHooks:R,initialSteps:r,gasEstimation:a,refetchSellSteps:s,bidSummary:u,queryClient:i,collectible:c,tokenPrice:l}),useCollections:e=>(0,l.useCollections)(Object.assign(Object.assign({},e),{getApiEnvironment:n,queryClient:i})),useCollectionsAreTrimmed:e=>(0,l.useCollectionsAreTrimmed)(Object.assign(Object.assign({},e),{getApiEnvironment:n,queryClient:i})),useCollection:e=>(0,T.useCollection)(Object.assign(Object.assign({},e),{getApiEnvironment:n,queryClient:i})),useCollectible:e=>(0,b.useCollectible)(Object.assign(Object.assign({},e),{getApiEnvironment:n,queryClient:i})),useCollectibleVisibilityOverridesByAccount:e=>(0,S.useVisibilityOverrides)(t,e),useInstantSell:e=>(0,x.useInstantSell)(Object.assign({getApiEnvironment:n},e)),useHideCollectionProps:e=>(0,C.useHideCollectionProps)(Object.assign({storage:t,analytics:B,getApiEnvironment:n},e)),usePinCollectionProps:e=>(0,D.usePinCollectionProps)(Object.assign({storage:t,analytics:B},e)),usePrefetchCollectibleSellSteps:()=>(0,u.usePrefetchCollectibleSellSteps)(n),useCollectiblesReportSpam:e=>(0,w.useCollectiblesReportSpam)(Object.assign({storage:t,analytics:B},e)),invalidateCollectibles:e=>M(this,void 0,void 0,(function*(){yield i.invalidateQueries(r.collectiblesQueryKeys.collections(e))})),refetchCollectibles:e=>M(this,void 0,void 0,(function*(){yield i.refetchQueries(r.collectiblesQueryKeys.collections(e))})),useCollectibleBids:(e,t)=>(0,a.useCollectibleBids)({getApiEnvironment:n,bidAsset:e,isEnabled:t}),useCollectibleSellSteps:e=>(0,u.useCollectibleSellSteps)({getApiEnvironment:n,sellAsset:e}),useCollectiblesHideUnhide:e=>(0,k.useCollectiblesHideUnhide)(Object.assign({storage:t,analytics:B},e)),useGetCollectibleVisibilityStatus:e=>(0,k.useGetCollectibleVisibilityStatus)({storage:t,accountId:e}),useGetCollectionVisibilityStatus:e=>(0,k.useGetCollectionVisibilityStatus)({storage:t,accountId:e}),useManageCollectionsVisibilityViewState:({account:e})=>(0,N.useManageCollectionsVisibilityViewState)({account:e,storage:t,queryClient:i,getApiEnvironment:n}),useHiddenCollections:e=>(0,d.useHiddenCollections)(e,t),usePinnedCollections:e=>(0,m.usePinnedCollections)(e,t),useReportCollectibleEvent:()=>(0,g.useReportCollectibleEvent)(n),useUnhiddenCollections:e=>(0,y.useUnhiddenCollections)(e,t),useUnhideCollection:()=>(0,h.useUnhideCollection)(t,B),useHideCollection:()=>(0,p.useHideCollection)(t,B),usePinCollection:()=>(0,f.usePinCollection)(t),useTransferCollectible:()=>(0,v.useTransferCollectible)({accountHooks:R,accountSigner:e,collectiblesSdk:j,queryClient:i,storage:t,utxoManager:V}),useCollectibleTransferTransaction:e=>(0,c.useCollectibleTransferTransaction)({accountHooks:R,priorityFeeService:L,analytics:B,sendCollectibleState:e,transactionHooks:_}),useSendCollectibleStatusViewState:e=>(0,O.useSendCollectibleStatusViewState)(Object.assign(Object.assign({},e),{collectiblesSdk:j})),useCollectibleSummaryItems:(e,t)=>(0,A.useCollectibleSummaryItems)(j,e,t),useMintCollectible:e=>(0,s.useMintCollectible)(Object.assign({getApiEnvironment:n},e)),useCollectibleDetailViewState:e=>(0,o.useCollectibleDetailViewState)(e,R,U,_,j)}}})),i.register("eD7lq",(function(t,n){e(t.exports,"useCollectibleDetailViewState",(function(){return s}));var o=i("iOvk1"),r=i("29o0l"),a=i("1zpuU");function s(e,t,n,i,s){const{chain:u,owner:c}=e||{},l=null==u?void 0:u.id,{data:d}=t.useSelectedChainAddress({address:c,networkID:l});!function(e,t){e.usePrefetchUtxoState(t)}(i,d);const p=(0,a.useCollectibleTraits)(e),f=l?o.Chains.getChainID(l):void 0,m=f?(0,o.getNativeFungibleCaip19ForChain)(f):void 0,{data:g}=n.usePrice({query:m?{data:m}:void 0});return{ctaBanner:(0,r.useMemo)((()=>{var t,n;if(e&&g&&f)return null===(n=(t=s.get(f)).collectibleDetailCtaBanner)||void 0===n?void 0:n.call(t,e,g.price)}),[f,e,g,s]),traits:p}}})),i.register("1zpuU",(function(t,n){e(t.exports,"useCollectibleTraits",(function(){return u}));var o=i("43063"),r=i("29o0l"),a=i("8cvUJ"),s=i("l8aZk");const u=e=>(0,r.useMemo)((()=>{if(!e)return[];const t=e.chainData;return(0,s.isBitcoinCollectibleChainData)(t)&&t.utxoDetails?t.utxoDetails.satributes.map((({count:e,displayName:t,description:n,url:r})=>{var i;return{type:t.toUpperCase(),value:null!==(i=o.i18next.t(c(e,"collectibleDetailSatsCount_one","collectibleDetailSatsCount_other"),{count:e}))&&void 0!==i?i:"",modal:{name:t,description:n,iconUrl:r}}})):e.attributes.map((({trait_type:e,value:t,display_type:n})=>({type:e,value:(0,a.formatTrait)({value:t,type:n})})))}),[e]),c=(e,t,n)=>1===e?t:n})),i.register("8cvUJ",(function(n,o){e(n.exports,"formatTrait",(function(){return a}));var r=i("gXOkW");const a=({value:e,type:n})=>{if(!e)return"";try{switch(n){case"number":return t(r)(e).format("0,0.[00]").toString();case"date":return new Date(Number(e)).toLocaleDateString();default:return`${e}`}}catch(t){return`${e}`}}})),i.register("7qAtp",(function(t,n){e(t.exports,"useCollectibleBids",(function(){return b}),(function(e){return b=e})),e(t.exports,"createBidAsset",(function(){return k}),(function(e){return k=e}));var o=i("3tdpt"),r=i("beWYh"),a=i("7XqVB"),s=i("j8YST"),u=i("LfKcR"),c=i("l8aZk"),l=i("9DWl5"),d=i("iSOyc"),p=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const f=a.z.object({caip19:a.z.string(),name:a.z.string(),symbol:a.z.string()}),m=a.z.object({bps:a.z.number(),kind:a.z.union([a.z.literal("marketplace"),a.z.literal("royalty")]),recipient:a.z.string().optional()}),g=a.z.object({amount:a.z.number(),feeBreakdown:a.z.array(m),netAmount:a.z.number(),token:f,totalFeeBps:a.z.number()}),v=a.z.object({name:a.z.string(),logo:a.z.string(),url:a.z.string().optional()}),y=a.z.object({id:a.z.string(),expiration:a.z.string().optional(),price:g,source:v}),h=a.z.object({bids:a.z.array(y)}),S=new(0,s.CollectiblesError)("Failed to fetch collectible bids."),b=({bidAsset:e,isEnabled:t,getApiEnvironment:n})=>{const i=t&&null!==e.address&&null!==e.chainId;return(0,o.useQuery)({enabled:i,staleTime:d.StaleTime.Short,refetchInterval:d.RefetchInterval.Shortest,queryKey:l.collectiblesQueryKeys.collectibleBids(e),queryFn(){return p(this,void 0,void 0,(function*(){return t=n(),o=e,p(void 0,void 0,void 0,(function*(){var e;if(!o.address)throw S;try{const e=`${t}/collectibles/v1/bids`,n=yield r.rb.validateStatus(!0).post(e,{asset:o}),{bids:i}=h.parse(n.data);return i}catch(n){if((0,r.isRequestBuilderError)(n)){const o=null===(e=n.response)||void 0===e?void 0:e.status;(0,u.captureClientError)(n,o,"collectible-instant-sell-bids",{apiEnv:t})}throw S}}));var t,o}))}})},k=e=>{var t;const n=null==e?void 0:e.chainData,o=null!==(t=null==e?void 0:e.chain.id)&&void 0!==t?t:null,r=(0,c.isEvmCollectibleChainData)(n),i=(0,c.isSolanaCollectibleChainData)(n),a=r?{tokenId:n.id}:{},s=i?{contractType:n.standard}:{},u=r?n.contract.toLowerCase():i?n.mint:null;return Object.assign(Object.assign({chainId:o,address:u,resourceType:"address"},a),s)}})),i.register("iSOyc",(function(t,n){e(t.exports,"CacheTime",(function(){return r})),e(t.exports,"StaleTime",(function(){return s})),e(t.exports,"RefetchInterval",(function(){return c}));var o=i("RVqnc");var r,a,s,u,c,l;(a=r||(r={}))[a.Always=1/0]="Always",a[a.Short=(0,o.toMilliseconds)({days:1})]="Short",a[a.Medium=(0,o.toMilliseconds)({days:3})]="Medium",a[a.Long=(0,o.toMilliseconds)({days:7})]="Long",(u=s||(s={}))[u.Immediate=0]="Immediate",u[u.Short=(0,o.toMilliseconds)({minutes:1})]="Short",u[u.Medium=(0,o.toMilliseconds)({minutes:2.5})]="Medium",u[u.Long=(0,o.toMilliseconds)({minutes:5})]="Long",u[u.Never=1/0]="Never",(l=c||(c={}))[l.Shortest=(0,o.toMilliseconds)({seconds:10})]="Shortest",l[l.Shorter=(0,o.toMilliseconds)({seconds:30})]="Shorter",l[l.Short=(0,o.toMilliseconds)({minutes:1})]="Short",l[l.Medium=(0,o.toMilliseconds)({minutes:2.5})]="Medium",l[l.Long=(0,o.toMilliseconds)({minutes:5})]="Long",l[l.Longer=(0,o.toMilliseconds)({minutes:7.5})]="Longer",l[l.Longest=(0,o.toMilliseconds)({minutes:10})]="Longest"})),i.register("6HwM1",(function(t,n){e(t.exports,"useMintCollectible",(function(){return d}),(function(e){return d=e}));var o=i("iOvk1"),r=(i("6ElgT"),i("3tdpt")),a=i("beWYh"),s=(i("hMVEP"),i("7gANb"),i("fxZCU"),i("hOgjw"),i("kZSba"),i("dNfx5"),i("bfrkk"),i("j8YST")),u=(i("fRdQq"),i("9DWl5"),function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))});const c=new(0,s.CollectiblesError)("Error uploading collectible media"),l=new(0,s.CollectiblesError)("Error minting collectible"),d=({contentType:e,description:t,name:n,networkID:i,uri:s,userAccount:d,sendFailureAnalyticsEvent:p,sendSuccessAnalyticsEvent:f,sendUploadFailureAnalyticsEvent:m,sendUploadSuccessAnalyticsEvent:g,uploadMintMedia:v,getApiEnvironment:y})=>(0,r.useMutation)({mutationFn:()=>u(void 0,void 0,void 0,(function*(){let r;try{r=yield v({contentType:e,name:n,uri:s}),g()}catch(e){throw m(),c}const u={name:n,description:t,walletAddress:{chainId:i,resourceType:o.Caip19ResourceType.address,address:d},imageUrl:r},p=yield a.rb.post(`${y()}/nft_minting/v1/mint-nft`,u);if(!(0,a.responseIsOkay)(p))throw l;return p.data})),onError:p,onSuccess:f})})),i.register("fxZCU",(function(t,n){e(t.exports,"createAssociatedTokenAccountInstruction",(function(){return s})),e(t.exports,"createAssociatedTokenAccountIdempotentInstruction",(function(){return u}));var o=i("liYfk"),r=i("bfrkk"),a=i("8tcqI").Buffer;function s(e,t,n,o,i=r.TOKEN_PROGRAM_ID,s=r.ASSOCIATED_TOKEN_PROGRAM_ID){return c(e,t,n,o,a.alloc(0),i,s)}function u(e,t,n,o,i=r.TOKEN_PROGRAM_ID,s=r.ASSOCIATED_TOKEN_PROGRAM_ID){return c(e,t,n,o,a.from([1]),i,s)}function c(e,t,n,i,a,s=r.TOKEN_PROGRAM_ID,u=r.ASSOCIATED_TOKEN_PROGRAM_ID){const c=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1}];return new(0,o.TransactionInstruction)({keys:c,programId:u,data:a})}})),i.register("hOgjw",(function(t,n){e(t.exports,"createInitializeMintInstruction",(function(){return p}));var o=i("faf7S"),r=i("6kYG1"),a=i("liYfk"),s=i("bfrkk"),u=(i("22JpE"),i("7RkLx")),c=i("9Hy8e"),l=i("8tcqI").Buffer;const d=(0,o.struct)([(0,o.u8)("instruction"),(0,o.u8)("decimals"),(0,r.publicKey)("mintAuthority"),new(0,c.COptionPublicKeyLayout)("freezeAuthority")]);function p(e,t,n,o,r=s.TOKEN_PROGRAM_ID){const i=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],c=l.alloc(d.span);return d.encode({instruction:u.TokenInstruction.InitializeMint,decimals:t,mintAuthority:n,freezeAuthority:o},c),new(0,a.TransactionInstruction)({keys:i,programId:r,data:c})}})),i.register("kZSba",(function(t,n){e(t.exports,"createMintToInstruction",(function(){return p}));var o=i("faf7S"),r=i("6kYG1"),a=i("liYfk"),s=i("bfrkk"),u=(i("22JpE"),i("j8p5h")),c=i("7RkLx"),l=i("8tcqI").Buffer;const d=(0,o.struct)([(0,o.u8)("instruction"),(0,r.u64)("amount")]);function p(e,t,n,o,r=[],i=s.TOKEN_PROGRAM_ID){const p=(0,u.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],n,r),f=l.alloc(d.span);return d.encode({instruction:c.TokenInstruction.MintTo,amount:BigInt(o)},f),new(0,a.TransactionInstruction)({keys:p,programId:i,data:f})}})),i.register("ctsJe",(function(t,n){e(t.exports,"StepActionEnum",(function(){return v}),(function(e){return v=e})),e(t.exports,"StepType",(function(){return h}),(function(e){return h=e})),e(t.exports,"useCollectibleSellSteps",(function(){return O}),(function(e){return O=e})),e(t.exports,"usePrefetchCollectibleSellSteps",(function(){return M}),(function(e){return M=e})),e(t.exports,"createSellAsset",(function(){return L}),(function(e){return L=e}));var o=i("iOvk1"),r=i("3tdpt"),a=i("beWYh"),s=i("29o0l"),u=i("7XqVB"),c=i("j8YST"),l=i("LfKcR"),d=i("l8aZk"),p=i("9DWl5"),f=i("iSOyc"),m=i("7qAtp"),g=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const v=u.z.enum(["auth","nft-approval","sale","order-signature","refetch","blur-swap","update-proof"]),y=u.z.enum(["/execute/auth-signature/v1","/order/v3"]),h=u.z.enum(["transaction","signature","post","refetch"]),S=u.z.enum(["eip712","eip191"]),b=u.z.object({domain:u.z.any(),types:u.z.any(),value:u.z.any()}),k=u.z.object({message:u.z.string()}),w=u.z.object({from:u.z.string(),to:u.z.string(),data:u.z.string()}),A=u.z.object({endpoint:y,body:u.z.object({id:u.z.string(),kind:u.z.string()})}),T=u.z.object({action:v,chainId:o.EVMNetworkID,type:u.z.literal(h.enum.signature),data:u.z.object({signatureKind:S,signatureData:u.z.union([k,b]),postData:A})}),C=u.z.object({chainId:o.EVMNetworkID,action:v,data:w,type:u.z.literal(h.enum.transaction)}),x=u.z.object({chainId:o.EVMNetworkID,action:v,type:u.z.literal(h.enum.refetch),data:u.z.object({resource:u.z.string()})}),E=u.z.union([T,C,x]),I=u.z.object({action:v,chainId:o.ZodSolanaNetworkID,type:u.z.literal(h.enum.transaction),data:u.z.object({transaction:u.z.string()})}),P=u.z.union([E,I]),F=u.z.object({steps:u.z.array(P),orderId:u.z.string().optional()}),N=new(0,c.CollectiblesError)("Failed to fetch collectible sell steps."),D=(e,t)=>g(void 0,void 0,void 0,(function*(){var n,o,r;try{const n=`${e}/collectibles/v1/sell`,o=yield a.rb.validateStatus(!0).post(n,t);return F.parse(o.data)}catch(t){if((0,a.isRequestBuilderError)(t)){const i=null===(n=t.response)||void 0===n?void 0:n.status;if((0,l.captureClientError)(t,i,"collectible-instant-sell-steps",{apiEnv:e}),null===(r=null===(o=t.response)||void 0===o?void 0:o.data)||void 0===r?void 0:r.code){const{code:e}=t.response.data;throw{code:e}}if(i)throw t}throw N}})),O=({sellAsset:e,getApiEnvironment:t})=>{const n=void 0!==e.details.orderId;return(0,r.useQuery)({enabled:n,queryKey:p.collectiblesQueryKeys.collectibleSellSteps(e),staleTime:f.StaleTime.Never,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1,retry:(e,t)=>!t.code&&e<3,queryFn(){return g(this,void 0,void 0,(function*(){return D(t(),e)}))}})},M=e=>{const t=(0,r.useQueryClient)();return(0,s.useCallback)((n=>g(void 0,[n],void 0,(function*({collectible:n,bid:o}){const r=L((0,m.createBidAsset)(n),o,n);yield t.prefetchQuery(p.collectiblesQueryKeys.collectibleSellSteps(r),(()=>g(void 0,void 0,void 0,(function*(){return D(e(),r)}))))}))),[e,t])},L=(e,t,n)=>{var o,r;const i=null==n?void 0:n.chainData,a=(0,d.isEvmCollectibleChainData)(i),s=(0,d.isSolanaCollectibleChainData)(i),u=null==n?void 0:n.owner,c=a?null==u?void 0:u.toLowerCase():u,l=null==t?void 0:t.id,p=null===(o=null==t?void 0:t.source)||void 0===o?void 0:o.name,f=s?{minPrice:null===(r=null==t?void 0:t.price)||void 0===r?void 0:r.netAmount,tokenAccount:i.tokenAccount}:{};return{details:Object.assign({asset:e,owner:c,orderId:l,marketplace:p},f)}}})),i.register("kKWDy",(function(t,n){e(t.exports,"useCollectibleTransferTransaction",(function(){return y}),(function(e){return y=e}));var o=i("iOvk1"),r=i("3tdpt"),a=i("beWYh"),s=i("7gANb"),u=i("RVqnc"),c=i("29o0l"),l=i("LfKcR"),d=i("1t9vJ"),p=i("4LWYd"),f=i("9DWl5"),m=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const g="collectible-transfer-tx",v=(0,u.toMilliseconds)({seconds:30});function y({accountHooks:e,priorityFeeService:t,sendCollectibleState:n,transactionHooks:o}){var i,u,y,S,b;const{data:k}=e.useSelectedMultiChainAccount(),w=null!==(y=(0,s.useResolveDomainOwnerIfNecessary)(null===(i=null==n?void 0:n.sendFormValues)||void 0===i?void 0:i.recipient,null===(u=null==n?void 0:n.collectible)||void 0===u?void 0:u.chain.id))&&void 0!==y?y:"",A=(0,c.useMemo)((()=>{if(k)return(0,d.createTransferArgs)(n,w)}),[k,n,w]),T=null===(S=null==n?void 0:n.collectible)||void 0===S?void 0:S.owner,{data:C}=e.useSelectedChainAddress({address:T,networkID:null==A?void 0:A.networkID}),{data:x}=o.useUtxoState(C),E=null!==(b=null==n?void 0:n.sendFormValues.transactionSpeed)&&void 0!==b?b:s.TransactionSpeed.standard,{data:I}=o.useTransactionSpeedsToUnitCost({networkID:null==A?void 0:A.networkID,enableFallback:!0}),P=I?I[E]:void 0;return(0,r.useQuery)({staleTime:v,enabled:h(A,x),queryKey:f.collectiblesQueryKeys.transferTransaction(A,P,x),queryFn(){return m(this,void 0,void 0,(function*(){if(A)return(0,p.createTransferTransaction)(A,x,t,P)}))},onError(e){var t;if((0,a.isRequestBuilderError)(e)){const n=null===(t=e.response)||void 0===t?void 0:t.status;(0,l.captureClientError)(e,n,g,{})}}})}function h(e,t){if(!e)return!1;if(o.Chains.isBitcoinNetworkID(e.networkID)&&!t)return!1;return!new(0,u.BigNumber)(e.amount).isNaN()}})),i.register("1t9vJ",(function(t,n){e(t.exports,"createTransferArgs",(function(){return u}));var o=i("iOvk1"),r=i("5slFC"),a=i("7mQ3Y"),s=i("7gANb");function u(e,t){var n;const i=null===(n=null==e?void 0:e.collectible)||void 0===n?void 0:n.chain.id;if(i)return o.Chains.isBitcoinNetworkID(i)?function(e,t,n){const o=t.collectible;if(!o||!o.owner||!t.sendFormValues)throw new Error("State is missing necessary data");const{chainData:r}=o,{firstCreatedInscriptionId:i,utxoDetails:a,outputValue:s,utxoHash:u,utxoIndex:c}=r;let l;if(a)l={type:"raresats",networkID:e,hash:a.hash,index:a.index,value:a.value.toString(),senderAddress:o.owner,destination:n,amount:1};else{if(!u||void 0===c)throw new Error(`Unable to determine transfer type for collectible: ${o.id}`);l={type:"ordinal",networkID:e,inscriptionId:i,value:s,amount:1,senderAddress:o.owner,destination:n,utxoHash:u,utxoIndex:c}}return l}(i,e,t):o.Chains.isSolanaNetworkID(i)?function(e,t,n){var o;const i=t.collectible;if(!i||!t.sendFormValues)throw new Error("State is missing necessary data");const{decimals:s="0"}=i,u=parseFloat(s),c=i.chainData,{mint:l,standard:d,tokenAccount:p,compression:f}=c,{amountAsset:m}=t.sendFormValues,g={networkID:i.chain.id,addressType:a.AddressType.Solana,address:null!==(o=i.owner)&&void 0!==o?o:""},v=(0,r.getTransferHookProgramId)(i);switch(d){case r.SPLTokenStandard.NonFungible:case r.SPLTokenStandard.NonFungibleEdition:case r.SPLTokenStandard.ProgrammableNonFungible:case r.SPLTokenStandard.ProgrammableNonFungibleEdition:return{type:"transferSPLToken",networkID:e,senderAddress:g,destination:n,amount:"1",senderAccount:p,mint:l,decimals:u,standard:d,compression:f,programId:c.programId,transferHookProgramId:v};case r.SPLTokenStandard.SemiFungible:return{type:"transferSPLToken",networkID:e,senderAddress:g,destination:n,amount:m.isZero()?"1":m.toString(),senderAccount:p,mint:l,decimals:u,standard:d,programId:c.programId,transferHookProgramId:v};default:throw new Error("Unknown fungible token type")}}(i,e,t):o.Chains.isEVMNetworkID(i)?function(e,t,n){var o;const r=t.collectible;if(!r||!t.sendFormValues)throw new Error("State is missing necessary data");const{chainData:i}=r,{id:s,contract:u,standard:c}=i,{amountAsset:l}=t.sendFormValues,d={networkID:r.chain.id,addressType:a.AddressType.EVM,address:null!==(o=r.owner)&&void 0!==o?o:""};switch(c){case"ERC721":return{type:"transferERC721Evm",networkID:e,senderAddress:d,destination:n,amount:1,contractAddress:u,tokenID:s};case"ERC1155":return{type:"transferERC1155Evm",networkID:e,senderAddress:d,destination:n,amount:null!=l?l:"1",contractAddress:u,tokenID:s};default:throw new Error("Unknown fungible token type")}}(i,e,t):(0,s.assertNever)(i)}})),i.register("4LWYd",(function(t,n){e(t.exports,"createTransferTransaction",(function(){return c}),(function(e){return c=e}));var o=i("iOvk1"),r=i("l9NUK"),a=i("kr432"),s=i("coKjz"),u=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};function c(e,t,n,o){return u(this,void 0,void 0,(function*(){if(l(e))return(0,s.createSolanaTransferTransaction)({transferArgs:e,priorityFeeService:n});if(d(e))return(0,a.createEvmTransferTransaction)(e);if(p(e)){if(!t)throw new Error("Missing utxo state for Bitcoin transaction.");return(0,r.createBitcoinTransferTransaction)(e,t,o)}throw new Error(`Unsupported transaction type: ${JSON.stringify(e)}`)}))}const l=e=>o.Chains.isSolanaNetworkID(e.networkID),d=e=>o.Chains.isEVMNetworkID(e.networkID),p=e=>o.Chains.isBitcoinNetworkID(e.networkID)})),i.register("l9NUK",(function(t,n){e(t.exports,"createBitcoinTransferTransaction",(function(){return u}));var o=i("7gANb"),r=i("l8aZk"),a=i("2RDER"),s=i("aINOL");function u(e,t,n){let i,u,c;const l=n,d=Math.round(l?(0,o.toSatoshisPerVirtualByte)(l.btcPerKilobyte).toNumber():o.DEFAULT_FEE_RATE);if((0,r.isTransferOrdinalArgs)(e))[i,u,c]=(0,a.createOrdinalsTransaction)(Object.assign(Object.assign({},e),{utxoState:t,feerate:d}));else{if(!(0,r.isTransferRareSatsArgs)(e))return(0,o.assertNever)(e);[i,u,c]=(0,s.createRareSatsTransaction)(Object.assign(Object.assign({},e),{utxoState:t,feerate:d}))}return{networkID:e.networkID,psbt:i,vb:c,psbtChain:void 0,inputsToSign:u}}})),i.register("2RDER",(function(t,n){e(t.exports,"createOrdinalsTransaction",(function(){return u}));var o=i("iOvk1"),r=i("7gANb"),a=i("dG1lS"),s=(a=i("dG1lS"),i("8vz5Y"));const u=({value:e,senderAddress:t,destination:n,utxoState:{safeToSendUtxos:i},feerate:u,utxoHash:c,utxoIndex:l})=>{const d={transactionHash:c,index:l,value:e,isSafeToSend:!1,owner:t},p=[d],f=[{address:n,value:parseFloat(d.value),script:(0,s.toOutputScript)(n)}],m=(0,r.coinSelect)((0,o.addressTypeFromAddress)(o.NetworkIDs.Bitcoin.Mainnet,t),i,f,u,p),g=new(0,a.Psbt)({network:a.networks.bitcoin});if("success"===m.type){const{inputs:e,outputs:n}=m;g.addInputs(e.map((e=>(0,r.utxoToInput)(e,t,!0)))),g.addOutputs(n)}return[g,g.data.inputs.map(((e,n)=>({address:t,signingIndexes:[n]}))),m.vb]}})),i.register("aINOL",(function(t,n){e(t.exports,"createRareSatsTransaction",(function(){return u}));var o=i("iOvk1"),r=i("7gANb"),a=i("dG1lS"),s=(a=i("dG1lS"),i("8vz5Y"));const u=({hash:e,index:t,value:n,senderAddress:i,destination:u,utxoState:{safeToSendUtxos:c},feerate:l})=>{const d={index:t,transactionHash:e,value:n,isSafeToSend:!1,owner:i},p=[d],f=[{address:u,value:parseFloat(d.value),script:(0,s.toOutputScript)(u)}],m=(0,r.coinSelect)((0,o.addressTypeFromAddress)(o.NetworkIDs.Bitcoin.Mainnet,i),c,f,l,p),g=new(0,a.Psbt)({network:a.networks.bitcoin});if("success"===m.type){const{inputs:e,outputs:t}=m;g.addInputs(e.map((e=>(0,r.utxoToInput)(e,i,!0)))),g.addOutputs(t)}const v=g.data.inputs.map(((e,t)=>({address:i,signingIndexes:[t]})));return[g,v,m.vb]}})),i.register("kr432",(function(n,o){e(n.exports,"createEvmTransferTransaction",(function(){return d}),(function(e){return d=e}));var r=i("7gANb"),a=i("kAKNF"),s=i("l8aZk"),u=i("a6llY"),c=i("4TZoA"),l=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};function d(e){return l(this,void 0,void 0,(function*(){let n;if((0,s.isTransferERC721EvmArgs)(e)){const{networkID:t,senderAddress:o,destination:r,contractAddress:i,tokenID:a}=e;n=yield(0,u.createErc721TransferTransaction)({sender:o.address,networkID:t,destination:r,contractAddress:i,tokenID:a,value:1,ethereumNetworkID:t})}else{if(!(0,s.isTransferERC1155EvmArgs)(e))return(0,r.assertNever)(e);{const{networkID:o,senderAddress:r,destination:i,contractAddress:s,tokenID:u,amount:l}=e;n=yield(0,c.createErc1155TransferTransaction)({sender:r.address,networkID:o,destination:i,contractAddress:s,tokenID:u,value:"string"==typeof l?new(t(a))(l,10):l,ethereumNetworkID:o})}}return{networkID:e.networkID,unsignedTransaction:n}}))}})),i.register("a6llY",(function(n,o){e(n.exports,"createErc721TransferTransaction",(function(){return p}),(function(e){return p=e}));var r=i("iOvk1"),a=i("cFUcx"),s=i("7gANb"),u=i("kAKNF"),c=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const l=["function safeTransferFrom(address from, address to, uint256 tokenId)","function transferFrom(address from, address to, uint256 tokenId)"],d=new Error("Error populating ERC721 transaction data."),p=e=>c(void 0,void 0,void 0,(function*(){const{sender:n,networkID:o,destination:i,contractAddress:c,tokenID:p,ethereumNetworkID:f}=e,m=(0,s.getContract)(o,c,l,n);let g;try{const e=yield m.populateTransaction.safeTransferFrom(n,i,new(t(u))(p).toString(10));if(!e.data)throw d;g=e.data}catch(e){throw d}return a.EthUnsignedTransactionObject.parse({type:a.TransactionTypes.eip1559,from:n,to:c,chainId:"number"==typeof f?f:r.Chains.getEVMNetworkIDValue(f),data:g})}))})),i.register("4TZoA",(function(n,o){e(n.exports,"createErc1155TransferTransaction",(function(){return p}),(function(e){return p=e}));var r=i("iOvk1"),a=i("cFUcx"),s=i("7gANb"),u=i("kAKNF"),c=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const l=["function safeTransferFrom(address from, address to, uint256 id, uint256 amount, bytes data)","function transferFrom(address from, address to, uint256 id, uint256 amount, bytes data)"],d=new Error("Error populating ERC1155 transaction data."),p=e=>c(void 0,void 0,void 0,(function*(){const{sender:n,networkID:o,destination:i,contractAddress:c,tokenID:p,value:f,ethereumNetworkID:m}=e,g=(0,s.getContract)(o,c,l,n);let v;try{const e=yield g.populateTransaction.safeTransferFrom(n,i,new(t(u))(p).toString(10),f.toString(10),[]);if(!e.data)throw d;v=e.data}catch(e){throw d}return a.EthUnsignedTransactionObject.parse({type:a.TransactionTypes.eip1559,from:n,to:c,chainId:"number"==typeof m?m:r.Chains.getEVMNetworkIDValue(m),data:v})}))})),i.register("coKjz",(function(t,n){e(t.exports,"createSolanaTransferTransaction",(function(){return p}),(function(e){return p=e}));var o=i("6ElgT"),r=i("hMVEP"),a=i("7gANb"),s=i("l8aZk"),u=i("jeIJC"),c=i("7WB30"),l=i("gbDrv"),d=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};function p(e){return d(this,arguments,void 0,(function*({transferArgs:e,priorityFeeService:t}){const{networkID:n,mint:i}=e,d=(0,a.createConnectionBySolanaNetworkID)(n);let p;if((0,s.isTransferCompressedTokenArgs)(e))p=yield(0,u.createCompressedTokenTransferTransaction)(e);else if((0,s.isTransferProgrammableNftArgs)(e))p=yield(0,l.createProgrammableNftTransferTransaction)(e);else if((0,s.isTransferOcpTokenArgs)(e)&&(yield(0,o.getOCPMintState)(new(0,r.PublicKey)(i),d)))p=yield(0,c.createOcpTokenTransferTransaction)(Object.assign({},e));else{if(!(0,a.isTransferDefaultSPLTokenArgs)(e))throw new Error("Unsupported transferSPLSolana args");p=yield(0,a.createDefaultSplTokenTransferTransaction)(Object.assign(Object.assign({},e),{connection:d}))}const{memo:f}=e;return f&&p.add((0,a.writeMemo)({memoText:f})),p.feePayer=new(0,r.PublicKey)(e.senderAddress.address),t&&(p=yield t.addPriorityFee(p,{connection:d})),p.recentBlockhash=(yield d.getLatestBlockhash("confirmed")).blockhash,{networkID:e.networkID,transaction:[p]}}))}})),i.register("jeIJC",(function(t,n){e(t.exports,"createCompressedTokenTransferTransaction",(function(){return u}),(function(e){return u=e}));var o=i("2onIY"),r=i("hMVEP"),a=i("foQia"),s=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};function u(e){return s(this,void 0,void 0,(function*(){const{senderAddress:t,mint:n}=e,s=new(0,r.Transaction),u=(0,o.getAPIEnvironment)(),c=yield(0,a.getCompressionProof)({apiEnv:u,networkID:t.networkID,mintAddress:n}),{createCompressedNftTransferIX:l}=yield Promise.resolve(i("6ElgT"));return s.add(yield l(Object.assign(Object.assign({},e),c))),s}))}})),i.register("foQia",(function(t,n){e(t.exports,"getCompressionProof",(function(){return u}),(function(e){return u=e}));var o=i("beWYh"),r=i("csW2r"),a=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};class s extends Error{constructor(e){super(e),this.name="ProofError"}}function u(e){return a(this,arguments,void 0,(function*({apiEnv:e,networkID:t,mintAddress:n}){const i=`${e}/collectibles/v1/proof`;let a;try{a=yield o.rb.post(i,{chainId:t,address:n})}catch(e){const o=new s(`Failed to fetch proof for ${n} on network ${t}.`);throw r.telemetry.captureError(o,r.FeatureTag.Collectibles),o}if(200!==a.status){const e=new s(`Failed to fetch proof for ${n} on network ${t}.`);throw r.telemetry.captureError(e,r.FeatureTag.Collectibles),e}return yield a.data}))}})),i.register("7WB30",(function(t,n){e(t.exports,"createOcpTokenTransferTransaction",(function(){return u}),(function(e){return u=e}));var o=i("2onIY"),r=i("hMVEP"),a=i("7gANb"),s=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};function u(e){return s(this,arguments,void 0,(function*({networkID:e,destination:t,mint:n,senderAddress:i}){const{createComputeBudgetIx:s,createOCPTransferIX:u,getOCPMintState:c}=yield(0,a.getMetaplexDeps)(),l=(0,a.createConnectionBySolanaNetworkID)(e),d=new(0,r.PublicKey)(n),p=yield c(d,l);if(!p)throw new Error("Mint state not found for OCP transfer");(0,o.isDevelopment)()&&console.log("This is a Magic Eden Open Creator Protocol Token");const f=new(0,r.Transaction);f.add(s());const{destinationAddress:m}=yield(0,a.ensureDestinationDetails)({solanaConnection:l,destination:new(0,r.PublicKey)(t),mint:d,programId:a.TOKEN_PROGRAM_ID}),g=new(0,r.PublicKey)(i.address),{initAccountIX:v,transferIX:y}=yield u({senderAddress:g,destinationAddress:m,mintAddress:d,mintState:p,connection:l});return v&&f.add(v),f.add(y),f}))}})),i.register("gbDrv",(function(t,n){e(t.exports,"createProgrammableNftTransferTransaction",(function(){return s}),(function(e){return s=e}));var o=i("hMVEP"),r=i("7gANb"),a=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};function s(e){return a(this,arguments,void 0,(function*({networkID:e,senderAddress:t,senderAccount:n,destination:i,mint:a}){const s=(0,r.createConnectionBySolanaNetworkID)(e),u=new(0,o.PublicKey)(a),{destinationAddress:c,destinationAccount:l}=yield(0,r.ensureDestinationDetails)({solanaConnection:s,destination:new(0,o.PublicKey)(i),mint:u,programId:r.TOKEN_PROGRAM_ID}),{createPNFTTransferIX:d}=yield(0,r.getMetaplexDeps)(),p=new(0,o.Transaction),f=new(0,o.PublicKey)(t.address),m=new(0,o.PublicKey)(n);let g=l;if(!g){const[e,t]=yield(0,r.createAssociatedTokenAccountIx)(f,c,u,r.TOKEN_PROGRAM_ID);p.add((0,r.assertOwner)({account:c,owner:o.SystemProgram.programId})),p.add(e),g=t}return p.add(yield d({senderAddress:f,tokenAccount:m,destinationAddress:c,destinationAccount:g,mintAddress:u,connection:s})),p}))}})),i.register("dAQq7",(function(t,n){e(t.exports,"useCollections",(function(){return v}),(function(e){return v=e})),e(t.exports,"useCollectionsAreTrimmed",(function(){return y}),(function(e){return y=e}));var o=i("iOvk1"),r=i("3tdpt"),a=i("29o0l"),s=i("iHNyV"),u=i("5ltZX"),c=i("jAhHS"),l=i("f6alZ"),d=i("doOus"),p=i("9DWl5"),f=i("iSOyc"),m=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const g=({addresses:e,getApiEnvironment:t,queryClient:n,queryOptions:i={staleTime:f.StaleTime.Short,refetchInterval:f.RefetchInterval.Long},select:a})=>{const g=p.collectiblesQueryKeys.collections(e);return(0,r.useQuery)({enabled:0!==e.length&&e.every((e=>!o.Chains.isLocalNetworkID(e.networkID))),queryKey:g,cacheTime:f.CacheTime.Medium,staleTime:i.staleTime,refetchInterval:i.refetchInterval,queryFn(e){return m(this,arguments,void 0,(function*({queryKey:[,,{addresses:e}]}){const o=t(),[r,i]=yield Promise.allSettled([(0,u.getListings)(o,e),(0,s.getCollectibles)(o,e)]);if("rejected"===i.status)throw new Error("failed to load unlisted collections");const{allCollectibles:a,isTrimmed:p}="fulfilled"===i.status?i.value:{allCollectibles:[],isTrimmed:!1},f="fulfilled"===r.status?r.value:[],m=(0,l.mergeCollectibles)(f,a),g=(0,c.mapCollectiblesToCollections)(m),v=yield(0,d.getOptimisticUpdates)(n),y=(0,d.applyOptimisticUpdates)(g,v);return{items:y,nrOfItems:y.reduce(((e,t)=>e+t.items.length),0),isTrimmed:p}}))},select:a})},v=e=>g(Object.assign(Object.assign({},e),{select:(0,a.useCallback)((e=>e.items),[])})),y=e=>{var t;return null!==(t=g(Object.assign(Object.assign({},e),{select:(0,a.useCallback)((e=>e.isTrimmed),[])})).data)&&void 0!==t&&t}})),i.register("5ltZX",(function(t,n){e(t.exports,"getListings",(function(){return l}),(function(e){return l=e}));var o=i("iOvk1"),r=i("RVqnc"),a=i("fuDmO"),s=i("9VD5Q"),u=i("l8aZk"),c=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const l=(e,t)=>c(void 0,void 0,void 0,(function*(){const n=t.find((e=>o.Chains.isSolanaNetworkID(e.chainId)));if(!n)throw new Error("no solana account");const{chainId:i}=n,c=yield(0,r.withRetry)((()=>(0,s.getSPLListings)(e,n)),(()=>!0)),l=c.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.asset.mintPubKey]:t})),{}),d=c.map((e=>({chainId:i,address:e.asset.mintPubKey}))),p=(0,r.chunks)(d,100).map((t=>(0,a.getCollectiblesDetails)(e,t))),f=(yield Promise.all(p)).flat().reduce(((e,t)=>{if(!(0,u.isSolanaCollectibleChainData)(t.chainData))return e;const{asset:n,listings:o}=l[t.chainData.mint];return e.push(Object.assign(Object.assign(Object.assign({},t),{chainData:Object.assign(Object.assign({},t.chainData),{tokenAccount:n.pubkey})}),o?{listings:o}:{})),e}),[]);return f}))})),i.register("fuDmO",(function(t,n){e(t.exports,"getCollectiblesDetails",(function(){return l}),(function(e){return l=e}));var o=i("beWYh"),r=i("LfKcR"),a=i("2cD4e"),s=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const u="collectibles",c=new Error("Failed to fetch collectibles details for addresses");function l(e,t){return s(this,void 0,void 0,(function*(){const n=`${e}/collectibles/v1/collectibles-details`;let i;try{const e=yield o.rb.post(n,{addresses:t});if(i=e.status,!(0,o.responseIsOkay)(e))throw c;const r=e.data;if(!r.collectibles)throw c;return(0,a.parseCollectiblesResponse)(r.collectibles)}catch(t){const n=t instanceof Error?t:new Error("Non-Error was thrown during fetching of collectibles details");throw(0,r.captureClientError)(n,i,u,{apiEnv:e}),n}}))}})),i.register("jAhHS",(function(t,n){e(t.exports,"mapCollectiblesToCollections",(function(){return r}));var o=i("jyEze");function r(e){var t;const n=new Map;for(const o of e){const e=o.collection.id,r=null!==(t=n.get(e))&&void 0!==t?t:[];r.push(o),n.set(e,r)}return(0,o.sortCollections)(n)}})),i.register("jyEze",(function(t,n){e(t.exports,"sortCollections",(function(){return r}));var o=i("l8aZk");const r=e=>{const t=[];for(const[n,o]of e){o.sort(((e,t)=>{var n,o;const r=null!==(n=e.name)&&void 0!==n?n:"",i=null!==(o=t.name)&&void 0!==o?o:"",s=r.localeCompare(i);if(r.localeCompare(i))return s;const u=a(e),c=a(t);return u.localeCompare(c)}));const[e]=o;e&&t.push(Object.assign(Object.assign(Object.assign({},"externalUrl"in e?{externalUrl:e.externalUrl}:void 0),e.collection),{items:o}))}return t.sort(((e,t)=>{var n,o,r,i;if(e.items.length>t.items.length)return-1;if(t.items.length>e.items.length)return 1;const a=null!==(o=null!==(n=e.name)&&void 0!==n?n:e.id)&&void 0!==o?o:"",s=null!==(i=null!==(r=t.name)&&void 0!==r?r:t.id)&&void 0!==i?i:"";return a.localeCompare(s)}))};function a(e){const t=e.chainData;return(0,o.isSolanaCollectibleChainData)(t)?t.tokenAccount:(0,o.isEvmCollectibleChainData)(t)?t.id:((0,o.isBitcoinCollectibleChainData)(t),e.id)}})),i.register("f6alZ",(function(t,n){e(t.exports,"mergeCollectibles",(function(){return o}));const o=(e,t)=>{const n=[],o=new Set,r=[...e,...t];for(const e of r)o.has(e.id)||(n.push(e),o.add(e.id));return n}})),i.register("doOus",(function(n,o){e(n.exports,"pushOptimisticUpdate",(function(){return l}),(function(e){return l=e})),e(n.exports,"getOptimisticUpdates",(function(){return d}),(function(e){return d=e})),e(n.exports,"applyOptimisticUpdates",(function(){return p}),(function(e){return p=e}));var r=i("RVqnc"),a=i("kAKNF"),s=i("9DWl5"),u=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const c=20;function l(e,t){var n;const o=s.collectiblesQueryKeys.optimisticUpdates(),r=null!==(n=e.getQueryData(o))&&void 0!==n?n:[];e.setQueryData(o,[...r,t])}function d(e,t){return u(this,void 0,void 0,(function*(){var n;const o=s.collectiblesQueryKeys.optimisticUpdates(),i=yield e.getQueryState(o);if(i){if((null!=t?t:Date.now())-i.dataUpdatedAt>(0,r.toMilliseconds)({seconds:c}))return e.removeQueries(o),[];return null!==(n=null==i?void 0:i.data)&&void 0!==n?n:[]}return[]}))}function p(e,n){const o=n.reduce(((e,n)=>{var o;const{id:r,amount:i}=n,s=new(t(a))(i);return e[r]=(null!==(o=e[r])&&void 0!==o?o:new(t(a))(0)).plus(s),e}),{});for(const n of e)n.items=n.items.reduce(((e,n)=>{var r;const i=n.id,s=o[i];if(s){const o=new(t(a))(null!==(r=n.balance)&&void 0!==r?r:0);return o.minus(s).isGreaterThan(0)?e.concat(Object.assign(Object.assign({},n),{balance:o.minus(s).toString()})):e}return e.concat(n)}),[]);return e=e.filter((e=>e.items.length>0))}})),i.register("1El9w",(function(t,n){e(t.exports,"useHiddenCollections",(function(){return l}),(function(e){return l=e}));var o=i("3tdpt"),r=i("csW2r"),a=i("cemvj"),s=i("9DWl5"),u=i("iSOyc"),c=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const l=(e,t)=>(0,o.useQuery)({enabled:0!==e.length,queryKey:s.collectiblesQueryKeys.hiddenCollections(e),cacheTime:u.CacheTime.Long,staleTime:u.StaleTime.Never,queryFn(){return c(this,void 0,void 0,(function*(){try{const n=yield(0,a.getCollectibleVisibilityOverridesByAccount)(t,e);return Array.from(n.values()).filter((e=>(0,a.isHiddenCollectibleFromValue)(e,{spamStatus:a.SpamStatus.NotVerified}))).map((({id:e})=>e))}catch(e){return e instanceof Error&&r.telemetry.captureError(e,r.FeatureTag.Collectibles),[]}}))}})})),i.register("aTZIn",(function(t,n){e(t.exports,"useHideCollection",(function(){return d}),(function(e){return d=e}));var o=i("3tdpt"),r=i("cemvj"),a=i("j8YST"),s=i("9DWl5"),u=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const c=2e3;class l extends a.CollectiblesError{constructor(e){super(e),this.name="UseHideCollectionError"}}function d(e,t){const n=(0,o.useQueryClient)();return(0,o.useMutation)({mutationFn(n){return u(this,void 0,void 0,(function*(){const{collectionId:o,accountId:i}=n,a=yield(0,r.getCollectibleVisibilityOverridesCount)(e);if(!(yield(0,r.getCollectibleVisibilityOverridesByAccount)(e,i)).has(o)&&a>=c)throw new l("Too many ids hidden");yield(0,r.setCollectibleVisibilityOverridesByAccount)(e,t,{accountId:i,mutations:[{id:o,visibility:r.VisibilityStatus.Hidden}]})}))},onSuccess(e,t){return u(this,void 0,void 0,(function*(){yield n.invalidateQueries(s.collectiblesQueryKeys.hiddenCollections(t.accountId)),yield n.invalidateQueries(s.collectiblesQueryKeys.unhiddenCollections(t.accountId))}))}})}})),i.register("iNEbF",(function(t,n){e(t.exports,"usePinCollection",(function(){return d}),(function(e){return d=e}));var o=i("3tdpt"),r=i("dK8f3"),a=i("j8YST"),s=i("9DWl5"),u=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const c=2e3;class l extends a.CollectiblesError{constructor(e){super(e),this.name="UsePinCollectionError"}}function d(e){const t=(0,o.useQueryClient)();return(0,o.useMutation)({mutationFn(t){return u(this,arguments,void 0,(function*({collectionId:t,accountId:n,pinned:o}){var i,a;const s=null!==(i=yield(0,r.getPinnedCollections)(e))&&void 0!==i?i:{},u=null!==(a=s[n])&&void 0!==a?a:[];if(o){if(Object.values(s).flat().length+1>c)throw new l("Pinned limit reached");const o=[...new Set([...u,t])],i=Object.assign(Object.assign({},s),{[n]:o});yield(0,r.setPinnedCollections)(e,i)}else{const o=u.indexOf(t);if(-1===o)throw new l("Collection not previously pinned");const i=[...u];i.splice(o,1);const a=Object.assign(Object.assign({},s),{[n]:i});yield(0,r.setPinnedCollections)(e,a)}}))},onSuccess(e,n){return u(this,void 0,void 0,(function*(){yield t.invalidateQueries(s.collectiblesQueryKeys.pinnedCollections(n.accountId))}))}})}})),i.register("dK8f3",(function(t,n){e(t.exports,"getPinnedCollections",(function(){return f}),(function(e){return f=e})),e(t.exports,"setPinnedCollections",(function(){return g}),(function(e){return g=e}));var o,r,a=i("j8YST"),s=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};class u extends a.CollectiblesError{constructor(e){super(e),this.name="GetHiddenCollectionsError"}}class c extends a.CollectiblesError{constructor(e){super(e),this.name="SetHiddenCollectionsError"}}class l extends a.CollectiblesError{constructor(e){super(e),this.name="GetUnhiddenCollectionsError"}}class d extends a.CollectiblesError{constructor(e){super(e),this.name="SetUnhiddenCollectionsError"}}class p extends a.CollectiblesError{constructor(e){super(e),this.name="GetPinnedCollectionsError"}}function f(e){return s(this,void 0,void 0,(function*(){try{return yield e.get(o.PinnedCollections)}catch(e){throw new p("")}}))}class m extends a.CollectiblesError{constructor(e){super(e),this.name="SetPinnedCollectionsError"}}function g(e,t){return s(this,void 0,void 0,(function*(){try{return yield e.set(o.PinnedCollections,t)}catch(e){throw new m("")}}))}(r=o||(o={})).HiddenCollections="hiddenCollections",r.PinnedCollections="pinnedCollections",r.UnhiddenCollections="unhiddenCollections"})),i.register("82MEA",(function(t,n){e(t.exports,"usePinnedCollections",(function(){return l}),(function(e){return l=e}));var o=i("3tdpt"),r=i("csW2r"),a=i("dK8f3"),s=i("9DWl5"),u=i("iSOyc"),c=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const l=(e,t)=>(0,o.useQuery)({enabled:0!==e.length,queryKey:s.collectiblesQueryKeys.pinnedCollections(e),cacheTime:u.CacheTime.Long,staleTime:u.StaleTime.Never,refetchInterval:!1,refetchOnMount:!0,queryFn(){return c(this,void 0,void 0,(function*(){var n;try{return(null!==(n=yield(0,a.getPinnedCollections)(t))&&void 0!==n?n:{})[e]||[]}catch(e){return e instanceof Error&&r.telemetry.captureError(e,r.FeatureTag.Collectibles),[]}}))}})})),i.register("5cOz4",(function(t,n){e(t.exports,"useReportCollectibleEvent",(function(){return u}),(function(e){return u=e}));var o=i("3tdpt"),r=i("h59xO"),a=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};class s extends Error{constructor(e){super(e),this.name="UseReportCollectibleEventError"}}function u(e){return(0,o.useMutation)({mutationFn(t){return a(this,arguments,void 0,(function*({event:t}){try{yield(0,r.reportCollectibleEvent)(e(),[t])}catch(e){}}))}})}})),i.register("h59xO",(function(t,n){e(t.exports,"reportCollectibleEvent",(function(){return s}),(function(e){return s=e}));var o=i("beWYh"),r=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const a=new Error("Failed to report event for collectible");function s(e,t){return r(this,void 0,void 0,(function*(){try{const n=yield o.rb.post(`${e}/collectibles/v1/events`,{events:t});if(!(0,o.responseIsOkay)(n))throw new Error}catch(e){throw a}}))}})),i.register("3OEe5",(function(t,n){e(t.exports,"useTransferCollectible",(function(){return c}),(function(e){return c=e}));var o=i("3tdpt"),r=i("csW2r"),a=i("7gANb"),s=i("doOus"),u=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};function c({collectiblesSdk:e,accountHooks:t,accountSigner:n,storage:i,queryClient:c,utxoManager:l}){const{data:d}=t.useSelectedMultiChainAccountIdentifier();return(0,o.useMutation)({mutationFn:t=>u(this,[t],void 0,(function*({multichainTransaction:t,pendingTransactionInput:o,senderAddress:r,optimisticUpdate:u,gasEstimation:p}){var f;if(!d)throw new Error("No account identifier found");const{networkID:m}=t,g=null!==(f=e.get(m).onBeforeSend({multichainTransaction:t,gasEstimation:p}))&&void 0!==f?f:t,v=yield(0,a.signAndSendTransaction)({accountIdentifier:d,accountSigner:n,multichainTransaction:g,networkID:m,pendingTransactionInput:o,senderAddress:r,storage:i,utxoManager:l});return u&&(0,s.pushOptimisticUpdate)(c,u),(0,a.createTransactionReceipt)(m,v)})),onError(e){e instanceof Error&&r.telemetry.captureError(e,r.FeatureTag.Collectibles)}})}})),i.register("hawzv",(function(t,n){e(t.exports,"useUnhiddenCollections",(function(){return l}),(function(e){return l=e}));var o=i("3tdpt"),r=i("csW2r"),a=i("cemvj"),s=i("9DWl5"),u=i("iSOyc"),c=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const l=(e,t)=>(0,o.useQuery)({enabled:0!==e.length,queryKey:s.collectiblesQueryKeys.unhiddenCollections(e),cacheTime:u.CacheTime.Long,staleTime:u.StaleTime.Never,queryFn(){return c(this,void 0,void 0,(function*(){try{const n=yield(0,a.getCollectibleVisibilityOverridesByAccount)(t,e);return Array.from(n.values()).filter((e=>(0,a.isVisibleCollectibleFromValue)(e,{spamStatus:a.SpamStatus.NotVerified}))).map((({id:e})=>e))}catch(e){return e instanceof Error&&r.telemetry.captureError(e,r.FeatureTag.Collectibles),[]}}))}})})),i.register("9EdxR",(function(t,n){e(t.exports,"useUnhideCollection",(function(){return l}),(function(e){return l=e}));var o=i("3tdpt"),r=i("cemvj"),a=i("9DWl5"),s=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const u=2e3;class c extends Error{constructor(e){super(e),this.name="UseUnhideCollectionError"}}function l(e,t){const n=(0,o.useQueryClient)();return(0,o.useMutation)({mutationFn(n){return s(this,void 0,void 0,(function*(){const{collectionId:o,accountId:i}=n,a=yield(0,r.getCollectibleVisibilityOverridesCount)(e);if(!(yield(0,r.getCollectibleVisibilityOverridesByAccount)(e,i)).has(o)&&a>=u)throw new c("Too many ids unhidden");yield(0,r.setCollectibleVisibilityOverridesByAccount)(e,t,{accountId:i,mutations:[{id:o,visibility:r.VisibilityStatus.Visible}]})}))},onSuccess(e,t){return s(this,void 0,void 0,(function*(){yield n.invalidateQueries(a.collectiblesQueryKeys.unhiddenCollections(t.accountId)),yield n.invalidateQueries(a.collectiblesQueryKeys.hiddenCollections(t.accountId))}))}})}})),i.register("bKVfi",(function(t,n){e(t.exports,"useVisibilityOverrides",(function(){return l}),(function(e){return l=e}));var o=i("3tdpt"),r=i("csW2r"),a=i("cemvj"),s=i("9DWl5"),u=i("iSOyc"),c=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};function l(e,t){return(0,o.useQuery)({cacheTime:u.CacheTime.Long,staleTime:u.StaleTime.Never,enabled:!!t,queryKey:s.collectiblesQueryKeys.visibilityOverrides(null!=t?t:""),queryFn(){return c(this,void 0,void 0,(function*(){return t?yield(0,a.getCollectibleVisibilityOverridesByAccount)(e,t):new Map}))},onError(e){e instanceof Error&&r.telemetry.captureError(e,r.FeatureTag.Fungibles)}})}})),i.register("hc5YT",(function(t,n){e(t.exports,"useCollectible",(function(){return a}));var o=i("29o0l"),r=i("dAQq7");const a=({id:e,addresses:t,getApiEnvironment:n,queryClient:i})=>{const{data:a,isSuccess:s}=(0,r.useCollections)({addresses:t,getApiEnvironment:n,queryClient:i});return(0,o.useMemo)((()=>{const t={isSuccess:s,data:void 0};for(const n of null!=a?a:[])for(const o of n.items)if(o.id===e)return Object.assign(Object.assign({},t),{data:o});return t}),[e,a,s])}})),i.register("1n4u8",(function(t,n){e(t.exports,"useCollectiblesHideUnhide",(function(){return l})),e(t.exports,"useGetCollectibleVisibilityStatus",(function(){return d})),e(t.exports,"useGetCollectionVisibilityStatus",(function(){return p})),e(t.exports,"useCollectionVisibilityOverrides",(function(){return f}));var o=i("cemvj"),r=i("29o0l"),a=i("bKVfi"),s=i("kbuCx"),u=i("iUPCV"),c=i("5UbQM");function l({storage:e,analytics:t,accountId:n,collectible:i,toast:s}){const l=(0,u.useHideCollectible)({storage:e,analytics:t,accountId:n,toast:s}),d=(0,r.useCallback)((()=>{i&&l(i)}),[l,i]),p=(0,c.useUnhideCollectible)({storage:e,analytics:t,accountId:n,toast:s}),f=(0,r.useCallback)((()=>{i&&p(i)}),[p,i]),{data:m}=(0,a.useVisibilityOverrides)(e,null!=n?n:""),g=(0,r.useMemo)((()=>{var e,t;return null==m?void 0:m.get(null!==(t=null!==(e=null==i?void 0:i.collection.id)&&void 0!==e?e:null==i?void 0:i.id)&&void 0!==t?t:"")}),[m,i]),v=(0,r.useMemo)((()=>!!i&&(0,o.isHiddenCollectibleFromValue)(g,{spamStatus:i.collection.spamStatus})),[i,g]),y=(0,r.useCallback)((()=>{v?f():d()}),[v,d,f]);return(0,r.useMemo)((()=>({isHidden:v,onHideCollectible:d,onUnhideCollectible:f,onToggleHide:y})),[d,y,f,v])}function d({storage:e,accountId:t}){const{data:n,isLoading:i}=(0,a.useVisibilityOverrides)(e,t),s=(0,r.useCallback)((e=>{if(!e)return!1;const t=e.collection.id||e.id;return(0,o.isHiddenCollectible)(n,{spamStatus:e.collection.spamStatus,key:t})}),[n]),u=(0,r.useCallback)((e=>{if(!e)return o.SpamStatus.NotVerified;const t=e.collection.id||e.id;return(0,o.getCollectibleDerivedSpamStatus)(n,{spamStatus:e.collection.spamStatus,key:t})}),[n]),c=(0,r.useCallback)((e=>(0,o.isSpamFromStatus)(u(e))),[u]);return(0,r.useMemo)((()=>({getIsHidden:s,getSpamStatus:u,getIsSpam:c,isLoading:i})),[s,u,c,i])}function p({storage:e,accountId:t}){const{data:n,isLoading:i}=(0,a.useVisibilityOverrides)(e,t),s=(0,r.useCallback)((e=>{if(!e)return!1;const t=e.id;return(0,o.isHiddenCollectible)(n,{spamStatus:e.spamStatus,key:t})}),[n]),u=(0,r.useCallback)((e=>{if(!e)return o.SpamStatus.NotVerified;const t=e.id;return(0,o.getCollectibleDerivedSpamStatus)(n,{spamStatus:e.spamStatus,key:t})}),[n]),c=(0,r.useCallback)((e=>(0,o.isSpamFromStatus)(u(e))),[u]);return(0,r.useMemo)((()=>({getIsHidden:s,getSpamStatus:u,getIsSpam:c,isLoading:i})),[s,u,c,i])}function f({storage:e,accountId:t,analytics:n}){const o=p({storage:e,accountId:t}),i=(0,s.useMarkCollectionAsHidden)({analytics:n,storage:e,accountId:t}),a=(0,s.useMarkCollectionAsVisible)({analytics:n,storage:e,accountId:t});return(0,r.useMemo)((()=>Object.assign(Object.assign({},o),{hideCollection:i,unhideCollection:a})),[o,i,a])}})),i.register("kbuCx",(function(t,n){e(t.exports,"computeCollectibleAnalyticsPayload",(function(){return f}),(function(e){return f=e})),e(t.exports,"useMarkAsSpam",(function(){return m}),(function(e){return m=e})),e(t.exports,"useMarkAsNotSpam",(function(){return g}),(function(e){return g=e})),e(t.exports,"useMarkAsHidden",(function(){return v}),(function(e){return v=e})),e(t.exports,"useMarkAsVisible",(function(){return y}),(function(e){return y=e})),e(t.exports,"useMarkCollectionAsHidden",(function(){return h}),(function(e){return h=e})),e(t.exports,"useMarkCollectionAsVisible",(function(){return S}),(function(e){return S=e}));var o=i("iOvk1"),r=i("cemvj"),a=i("29o0l"),s=i("fymix"),u=i("bKVfi"),c=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};function l(e){return c(this,arguments,void 0,(function*({collectible:e,visibilityOverrides:t,setVisibilityOverrides:n,accountId:o,desiredVisibility:r,onSuccess:i,onError:a}){var s;if(!t)return;const u=e.collection.id||e.id,c=null===(s=t.get(u))||void 0===s?void 0:s.status;try{const t=p(r,e.collection);yield n({accountId:o,mutations:[{id:u,visibility:t}]}),yield i({collectible:e,desiredVisibility:r,previousVisibility:c,updatedVisibility:t})}catch(t){yield a(t,{collectible:e,desiredVisibility:r})}}))}function d(e){return c(this,arguments,void 0,(function*({collection:e,visibilityOverrides:t,setVisibilityOverrides:n,accountId:o,desiredVisibility:r,onSuccess:i,onError:a}){var s;if(!t)return;const u=e.id,c=null===(s=t.get(u))||void 0===s?void 0:s.status;try{const t=p(r,e);yield n({accountId:o,mutations:[{id:u,visibility:t}]}),i&&(yield i({collection:e,desiredVisibility:r,previousVisibility:c,updatedVisibility:t}))}catch(t){a&&(yield a(t,{collection:e,desiredVisibility:r}))}}))}function p(e,t){const{spamStatus:n}=t;switch(e){case r.VisibilityStatus.HiddenSpam:if(n===r.SpamStatus.NotVerified||n===r.SpamStatus.Verified)return r.VisibilityStatus.HiddenSpam;if(n===r.SpamStatus.PossibleSpam||n===r.SpamStatus.Spam)return null;throw new Error(`Unexpected spam status: ${n} found while marking spam.`);case r.VisibilityStatus.VisibleNotSpam:if(n===r.SpamStatus.NotVerified||n===r.SpamStatus.Verified)return null;if(n===r.SpamStatus.PossibleSpam||n===r.SpamStatus.Spam)return r.VisibilityStatus.VisibleNotSpam;throw new Error(`Unexpected spam status: ${n} found while marking not spam.`);case r.VisibilityStatus.Hidden:if(n===r.SpamStatus.NotVerified||n===r.SpamStatus.Verified)return r.VisibilityStatus.Hidden;if(n===r.SpamStatus.PossibleSpam||n===r.SpamStatus.Spam)return null;throw new Error(`Unexpected spam status: ${n} found while marking hidden.`);case r.VisibilityStatus.Visible:if(n===r.SpamStatus.NotVerified||n===r.SpamStatus.Verified)return null;if(n===r.SpamStatus.PossibleSpam||n===r.SpamStatus.Spam)return r.VisibilityStatus.Visible;throw new Error(`Unexpected spam status: ${n} found while marking visible.`)}throw new Error(`Unexpected desired visibility: ${e} found while calculating new visibility.`)}function f(e){return{networkId:e.chain.id,chainId:o.Chains.getChainID(e.chain.id),collectionId:e.collection.id,collectibleId:e.id,collectibleName:e.name,collectibleDescription:e.description,collectionName:e.collection.name,collectionDescription:e.collection.description,collectionUrl:e.collection.externalUrl}}function m({storage:e,accountId:t,analytics:n,onError:o,onSuccess:i}){const{data:d}=(0,u.useVisibilityOverrides)(e,t),{mutateAsync:p}=(0,s.useSetVisibilityOverrides)(e,n);return(0,a.useCallback)((e=>c(this,void 0,void 0,(function*(){yield l({collectible:e,visibilityOverrides:d,setVisibilityOverrides:p,accountId:t,desiredVisibility:r.VisibilityStatus.HiddenSpam,onSuccess:i,onError:o})}))),[d,p,t,o,i])}function g({storage:e,accountId:t,analytics:n,onError:o,onSuccess:i}){const{data:d}=(0,u.useVisibilityOverrides)(e,t),{mutateAsync:p}=(0,s.useSetVisibilityOverrides)(e,n);return(0,a.useCallback)((e=>c(this,void 0,void 0,(function*(){yield l({collectible:e,visibilityOverrides:d,setVisibilityOverrides:p,accountId:t,desiredVisibility:r.VisibilityStatus.VisibleNotSpam,onSuccess:i,onError:o})}))),[d,p,t,o,i])}function v({storage:e,accountId:t,analytics:n,onError:o,onSuccess:i}){const{data:d}=(0,u.useVisibilityOverrides)(e,t),{mutateAsync:p}=(0,s.useSetVisibilityOverrides)(e,n);return(0,a.useCallback)((e=>c(this,void 0,void 0,(function*(){yield l({collectible:e,visibilityOverrides:d,setVisibilityOverrides:p,accountId:t,desiredVisibility:r.VisibilityStatus.Hidden,onSuccess:i,onError:o})}))),[d,p,t,o,i])}function y({storage:e,accountId:t,analytics:n,onError:o,onSuccess:i}){const{data:d}=(0,u.useVisibilityOverrides)(e,t),{mutateAsync:p}=(0,s.useSetVisibilityOverrides)(e,n);return(0,a.useCallback)((e=>c(this,void 0,void 0,(function*(){yield l({collectible:e,visibilityOverrides:d,setVisibilityOverrides:p,accountId:t,desiredVisibility:r.VisibilityStatus.Visible,onSuccess:i,onError:o})}))),[d,p,t,o,i])}function h({storage:e,accountId:t,analytics:n,onError:o,onSuccess:i}){const{data:l}=(0,u.useVisibilityOverrides)(e,t),{mutateAsync:p}=(0,s.useSetVisibilityOverrides)(e,n);return(0,a.useCallback)((e=>c(this,void 0,void 0,(function*(){yield d({collection:e,visibilityOverrides:l,setVisibilityOverrides:p,accountId:t,desiredVisibility:r.VisibilityStatus.Hidden,onSuccess:i,onError:o})}))),[l,p,t,o,i])}function S({storage:e,accountId:t,analytics:n,onError:o,onSuccess:i}){const{data:l}=(0,u.useVisibilityOverrides)(e,t),{mutateAsync:p}=(0,s.useSetVisibilityOverrides)(e,n);return(0,a.useCallback)((e=>c(this,void 0,void 0,(function*(){yield d({collection:e,visibilityOverrides:l,setVisibilityOverrides:p,accountId:t,desiredVisibility:r.VisibilityStatus.Visible,onSuccess:i,onError:o})}))),[l,p,t,o,i])}})),i.register("fymix",(function(t,n){e(t.exports,"useSetVisibilityOverrides",(function(){return u}),(function(e){return u=e}));var o=i("3tdpt"),r=i("cemvj"),a=i("9DWl5"),s=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};function u(e,t){const n=(0,o.useQueryClient)();return(0,o.useMutation)({mutationFn(n){return s(this,arguments,void 0,(function*({accountId:n,mutations:o}){yield(0,r.setCollectibleVisibilityOverridesByAccount)(e,t,{accountId:n,mutations:o})}))},onSuccess(e,t){return s(this,arguments,void 0,(function*(e,{accountId:t}){yield n.invalidateQueries(a.collectiblesQueryKeys.visibilityOverrides(t)),yield Promise.allSettled([n.invalidateQueries(a.collectiblesQueryKeys.hiddenCollections(t)),n.invalidateQueries(a.collectiblesQueryKeys.unhiddenCollections(t))])}))}})}})),i.register("iUPCV",(function(t,n){e(t.exports,"useHideCollectible",(function(){return s}));var o=i("43063"),r=i("29o0l"),a=i("kbuCx");const s=({storage:e,analytics:t,toast:n,accountId:i})=>{const{t:s}=(0,o.useTranslation)(),u=(0,r.useCallback)((({collectible:e,updatedVisibility:o})=>{null!==o&&t.capture("collectionHidden",{data:(0,a.computeCollectibleAnalyticsPayload)(e)}),n&&n.success(s("collectionHideSuccess"),{position:"top-center"})}),[s,n,t]),c=(0,r.useCallback)(((e,t)=>{n&&n.error(s("collectionHideFail"),{position:"top-center"})}),[s,n]);return(0,a.useMarkAsHidden)({storage:e,accountId:i,analytics:t,onSuccess:u,onError:c})}})),i.register("5UbQM",(function(t,n){e(t.exports,"useUnhideCollectible",(function(){return s}));var o=i("43063"),r=i("29o0l"),a=i("kbuCx");const s=({storage:e,analytics:t,toast:n,accountId:i})=>{const{t:s}=(0,o.useTranslation)(),u=(0,r.useCallback)((({collectible:e,updatedVisibility:o})=>{null!==o&&t.capture("collectionUnhidden",{data:(0,a.computeCollectibleAnalyticsPayload)(e)}),n&&n.success(s("collectionUnhideSuccess"),{position:"top-center"})}),[s,n,t]),c=(0,r.useCallback)(((e,t)=>{n&&n.error(s("collectionUnhideFail"),{position:"top-center"})}),[s,n]);return(0,a.useMarkAsVisible)({storage:e,accountId:i,analytics:t,onSuccess:u,onError:c})}})),i.register("d8v4t",(function(t,n){e(t.exports,"useCollectiblesReportSpam",(function(){return c}));var o=i("cemvj"),r=i("29o0l"),a=i("bKVfi"),s=i("c4g5P"),u=i("5qOs9");function c({storage:e,analytics:t,accountId:n,collectible:i,toast:c}){const l=(0,u.useReportSpam)({storage:e,analytics:t,collectible:i,accountId:n,toast:c}),d=(0,r.useCallback)((()=>{i&&l(i)}),[l,i]),p=(0,s.useReportNotSpam)({storage:e,analytics:t,collectible:i,accountId:n,toast:c}),f=(0,r.useCallback)((()=>{i&&p(i)}),[p,i]),{data:m}=(0,a.useVisibilityOverrides)(e,null!=n?n:""),g=(0,r.useMemo)((()=>{var e,t;return null==m?void 0:m.get(null!==(t=null!==(e=null==i?void 0:i.collection.id)&&void 0!==e?e:null==i?void 0:i.id)&&void 0!==t?t:"")}),[m,i]),v=(0,r.useMemo)((()=>i?(0,o.getCollectibleDerivedSpamStatusFromValue)(g,{spamStatus:i.collection.spamStatus}):o.SpamStatus.NotVerified),[i,g]),y=(0,o.isSpamFromStatus)(v);return(0,r.useMemo)((()=>({isSpam:y,spamStatus:v,onReportSpam:y?void 0:d,onReportNotSpam:y?f:void 0})),[v,y,d,f])}})),i.register("c4g5P",(function(t,n){e(t.exports,"useReportNotSpam",(function(){return u}));var o=i("43063"),r=i("cemvj"),a=i("29o0l"),s=i("kbuCx");const u=({storage:e,analytics:t,toast:n,accountId:i})=>{const{t:u}=(0,o.useTranslation)(),c=(0,a.useCallback)((({collectible:e,previousVisibility:o,updatedVisibility:i})=>{null!==i&&t.capture("collectiblesReportAsNotSpam",{data:(0,s.computeCollectibleAnalyticsPayload)(e)}),n.success(o===r.VisibilityStatus.Visible?u("collectiblesNotSpamSuccess"):u("collectiblesNotSpamAndUnhiddenSuccess"),{position:"top-center"})}),[u,n,t]),l=(0,a.useCallback)(((e,t)=>{n.error(u("collectiblesNotSpamFail"),{position:"top-center"})}),[u,n]);return(0,s.useMarkAsNotSpam)({storage:e,accountId:i,analytics:t,onSuccess:c,onError:l})}})),i.register("5qOs9",(function(t,n){e(t.exports,"useReportSpam",(function(){return u}));var o=i("43063"),r=i("cemvj"),a=i("29o0l"),s=i("kbuCx");const u=({storage:e,analytics:t,toast:n,accountId:i})=>{const{t:u}=(0,o.useTranslation)(),c=(0,a.useCallback)((({collectible:e,previousVisibility:o,updatedVisibility:i})=>{null!==i&&t.capture("collectiblesReportAsSpam",{data:(0,s.computeCollectibleAnalyticsPayload)(e)}),n.success(o===r.VisibilityStatus.Hidden?u("collectiblesSpamSuccess"):u("collectiblesSpamAndHiddenSuccess"),{position:"top-center"})}),[u,n,t]),l=(0,a.useCallback)(((e,t)=>{n.error(u("collectiblesSpamFail"),{position:"top-center"})}),[u,n]);return(0,s.useMarkAsSpam)({storage:e,accountId:i,analytics:t,onSuccess:c,onError:l})}})),i.register("cySm1",(function(n,o){e(n.exports,"useCollectibleSummaryItems",(function(){return m}));var r=i("iOvk1"),a=i("2onIY"),s=i("5slFC"),u=i("43063"),c=i("gXOkW"),l=i("29o0l"),d=i("5YWWl"),p=i("fRcP8"),f=i("l8aZk");const m=(e,n,o)=>{const{t:i}=(0,u.useTranslation)();return(0,l.useMemo)((()=>{const u=[];if(!n)return u;const l=null==n?void 0:n.chain.id,f=e.get(l).collectibleDetailPrecision;let m,v,y,h;if(n.collection.name&&u.push({label:i("collectibleScreenCollectionLabel"),value:n.collection.name}),n.collection.floorPrice){const{price:e,token:t}=n.collection.floorPrice;if(t&&t.decimals&&t.symbol){const{decimals:n,symbol:o}=t,r=(0,d.amountToBalance)(e,n);u.push({label:i("collectiblesFloorPrice"),value:`${(0,p.formatValue)(r,f)} ${o}`}),m=r,v=o}}if(n.lastSalePrice){const{price:e,token:t}=n.lastSalePrice;if(t&&t.decimals&&(t.symbol||t.name)){const{decimals:n,symbol:o,name:r}=t,a=(0,d.amountToBalance)(e,n);u.push({label:i("collectiblesLastSalePrice"),value:`${(0,p.formatValue)(a,f)} ${null!=o?o:r}`}),y=a,h=o}}if(m&&y&&v===h){const e=m-y;u.push({label:i("collectiblesTotalReturn"),value:`${(0,p.formatValue)(e,f)} ${h}`,color:e>0?null==o?void 0:o.positiveColor:0===e||null==o?void 0:o.negativeColor})}return n.collection.ownerCount&&u.push({label:i("collectiblesUniqueHolders"),value:t(c)(n.collection.ownerCount).format("0,0")}),n.chain.name&&u.push({label:i("sendFungibleSummaryNetwork"),value:r.Chains.getNetworkName(n.chain.id)}),(0,a.isDevelopment)()&&u.push({label:"Standard",value:g(n)}),(0,s.getIsNonTransferable)(n)&&u.push({label:i("collectiblesNonTransferable"),value:i("collectiblesNonTransferableYes")}),u}),[n,e,null==o?void 0:o.negativeColor,null==o?void 0:o.positiveColor,i])};function g(e){const t=e.chainData;return(0,f.isSolanaCollectibleChainData)(t)||(0,f.isEvmCollectibleChainData)(t)?t.standard:(0,f.isBitcoinCollectibleChainData)(t)?"Ordinals":void 0}})),i.register("5YWWl",(function(t,n){e(t.exports,"amountToBalance",(function(){return r}));var o=i("kAKNF");function r(e,t){return new(0,o.BigNumber)(e).div(new(0,o.BigNumber)(10).pow(t)).toNumber()}o.BigNumber.config({EXPONENTIAL_AT:1e3,DECIMAL_PLACES:78})})),i.register("fRcP8",(function(t,n){e(t.exports,"formatValue",(function(){return r}));var o=i("kAKNF");const r=(e,t)=>{const n=new(0,o.BigNumber)(e);if(n.isZero())return"0";const r=new(0,o.BigNumber)(10).pow(-t);return n.abs().lt(r)?n.isPositive()?`<${r.toFixed()}`:`-<${r.toFixed()}`:parseFloat(n.toString()).toLocaleString(void 0,{maximumFractionDigits:t})}})),i.register("3P9Mr",(function(t,n){e(t.exports,"useCollection",(function(){return a}));var o=i("29o0l"),r=i("dAQq7");const a=({id:e,addresses:t,getApiEnvironment:n,queryClient:i})=>{const{data:a}=(0,r.useCollections)({addresses:t,getApiEnvironment:n,queryClient:i});return(0,o.useMemo)((()=>(null!=a?a:[]).find((t=>t.id===e))),[e,a])}})),i.register("h2jNW",(function(t,n){e(t.exports,"useHideCollectionProps",(function(){return S}));var o=i("iOvk1"),r=i("43063"),a=i("29o0l"),s=i("1El9w"),u=i("aTZIn"),c=i("iNEbF"),l=i("82MEA"),d=i("5cOz4"),p=i("hawzv"),f=i("9EdxR"),m=i("j8YST"),g=i("kVQvU"),v=i("21c1X"),y=i("gfoNl"),h=i("3YGzV");const S=({storage:e,analytics:t,getApiEnvironment:n,toast:i,collectible:S,accountId:b})=>{var k,w,A;const{t:T}=(0,r.useTranslation)(),C=null===(k=null==S?void 0:S.collection)||void 0===k?void 0:k.id,x=null===(w=null==S?void 0:S.collection)||void 0===w?void 0:w.isSpam,{mutateAsync:E}=(0,u.useHideCollection)(e,t),{mutateAsync:I}=(0,f.useUnhideCollection)(e,t),{data:P=[]}=(0,s.useHiddenCollections)(b||"",e),{data:F=[]}=(0,p.useUnhiddenCollections)(b||"",e),N=(0,y.useIsCollectionHidden)(P,F,null!=C?C:"",!!x),{mutateAsync:D}=(0,c.usePinCollection)(e),{data:O=[]}=(0,l.usePinnedCollections)(b||"",e),M=(0,h.useIsCollectionPinned)(O,null!=C?C:""),{mutateAsync:L}=(0,d.useReportCollectibleEvent)(n),R=(0,g.useCollectibleEvent)(m.ReportCollectibleEventType.userHid,S),B=(0,g.useCollectibleEvent)(m.ReportCollectibleEventType.userUnhid,S),U=(0,a.useMemo)((()=>({hideSuccess:T("collectionHideSuccess"),hideFail:T("collectionHideFail"),unhideSuccess:T("collectionUnhideSuccess"),unhideFail:T("collectionUnhideFail")})),[T]),_=(0,a.useCallback)((e=>{var n;const r=null===(n=null==S?void 0:S.chain)||void 0===n?void 0:n.id;r&&t.capture(e,{data:{networkId:r,chainId:o.Chains.getChainID(r)}})}),[t,null===(A=null==S?void 0:S.chain)||void 0===A?void 0:A.id]),z=(0,v.useHideCollectionToggle)({accountId:b,collectionId:C,isHidden:N,hideMessages:U,hideCollection:E,unhideCollection:I,reportCollectibleEvent:L,hideEvent:R,unhideEvent:B,toast:i,sendAnalyticEvent:_,pinCollection:D,isPinned:M});return(0,a.useMemo)((()=>({isHidden:N,onToggleHide:z})),[N,z])}})),i.register("kVQvU",(function(t,n){e(t.exports,"useCollectibleEvent",(function(){return a}));var o=i("29o0l"),r=i("l8aZk");const a=(e,t)=>(0,o.useMemo)((()=>{var n;if(!(null===(n=null==t?void 0:t.chain)||void 0===n?void 0:n.id))return;let o,i;return(0,r.isSolanaCollectibleChainData)(t.chainData)?o=t.chainData.mint:(0,r.isEvmCollectibleChainData)(t.chainData)&&(o=t.chainData.contract),o?((0,r.isEvmCollectibleChainData)(t.chainData)&&(i=t.chainData.id),Object.assign({chainId:t.chain.id,event:e,address:o},i?{tokenId:i}:{})):void 0}),[e,t])})),i.register("21c1X",(function(t,n){e(t.exports,"useHideCollectionToggle",(function(){return a}),(function(e){return a=e}));var o=i("29o0l"),r=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const a=({accountId:e,collectionId:t,isHidden:n,hideMessages:i,hideCollection:a,unhideCollection:s,reportCollectibleEvent:u,hideEvent:c,unhideEvent:l,toast:d,sendAnalyticEvent:p,pinCollection:f,isPinned:m})=>(0,o.useCallback)((()=>{r(void 0,void 0,void 0,(function*(){if(c&&l&&t&&e)try{n?(yield s({collectionId:t,accountId:e}),yield u({event:l})):(yield a({collectionId:t,accountId:e}),yield u({event:c}),m&&(yield f({collectionId:t,accountId:e,pinned:!1}))),d.success(n?i.unhideSuccess:i.hideSuccess,{position:"top-center"}),p&&p(n?"collectionUnhidden":"collectionHidden")}catch(e){d.error(n?i.unhideFail:i.hideFail,{position:"top-center"})}else d.error(n?i.unhideFail:i.hideFail,{position:"top-center"})}))}),[t,e,n,i,a,s,u,c,l,d,p,f,m])})),i.register("gfoNl",(function(t,n){e(t.exports,"useIsCollectionHidden",(function(){return r}));var o=i("29o0l");const r=(e,t,n,r)=>(0,o.useMemo)((()=>!t.includes(n)&&(!!e.includes(n)||!!r)),[e,t,n,r])})),i.register("3YGzV",(function(t,n){e(t.exports,"useIsCollectionPinned",(function(){return r}));var o=i("29o0l");const r=(e,t)=>(0,o.useMemo)((()=>!!t&&e.includes(t)),[t,e])})),i.register("5rkl9",(function(n,o){e(n.exports,"useInstantSell",(function(){return g})),e(n.exports,"Marketplace",(function(){return S})),e(n.exports,"formatEstimatedFees",(function(){return k}));var r=i("43063"),a=i("RVqnc"),s=i("gXOkW"),u=i("29o0l"),c=i("7qAtp"),l=i("ctsJe"),d=i("5YWWl"),p=i("lw87t"),f=i("l8aZk");const m={steps:[],orderId:""},g=({getApiEnvironment:e,collectible:t})=>{const{t:n}=(0,r.useTranslation)(),o=(0,u.useMemo)((()=>(0,c.createBidAsset)(t)),[t]),i=(0,u.useMemo)((()=>y(t)),[t]),{data:a=[],isLoading:s,isError:d}=(0,c.useCollectibleBids)({bidAsset:o,getApiEnvironment:e,isEnabled:!i}),p=(0,u.useMemo)((()=>a.length>0?a[0]:void 0),[a]),f=(0,u.useMemo)((()=>(0,l.createSellAsset)(o,p,t)),[o,p,t]),{data:g=m,isLoading:v,isError:h,refetch:S,error:k}=(0,l.useCollectibleSellSteps)({sellAsset:f,getApiEnvironment:e}),w=(0,u.useMemo)((()=>p&&t?b({t:n,bid:p,collectible:t}):void 0),[n,p,t]),A=(0,u.useMemo)((()=>!!h&&Number.isInteger(k.code)),[h,k]);return{bid:p,bidSummary:w,isLoadingBids:s,isErrorBids:d,sellSteps:g,isLoadingSellSteps:v,isErrorSellSteps:h,refetchSellSteps:S,sellStepsError:k,isSellErrorCode:A,isListedOnSolana:i}},v=({lastSale:e,receiveAmount:t})=>void 0!==e?t-e:t,y=e=>{if(!e)return!1;const{listings:t,chainData:n}=e,o=t?Object.keys(t):[],r=Boolean(o.length>0),i=!!n&&(0,f.isSolanaCollectibleChainData)(n);return r&&i},h=e=>{if(!e||!e.previews)return;const{previews:t}=e;return t.small?t.small:t.medium?t.medium:t.large?t.large:void 0};var S;(S||(S={})).BLUR="Blur";const b=({bid:e,collectible:n,t:o})=>{var r;const{lastSalePrice:i,media:u,name:c,collection:l}=n,{name:p,logo:f}=e.source,{amount:m,netAmount:g,feeBreakdown:y,token:b,totalFeeBps:k}=e.price,{symbol:w,caip19:A}=b,T=g,C=l.id,x=n.id,E=(e=>{if(e){const{price:t,token:n}=e,o=null==n?void 0:n.decimals;if(o)return(0,d.amountToBalance)(t,o)}})(i),I=w.slice(0,6),P=n.chain.symbol,F=(e=>{if(e){const{price:t,token:n}=e,o=null==n?void 0:n.decimals;if(o)return(0,d.amountToBalance)(t,o)}})(l.floorPrice),N=F?(({offerAmount:e,collectionFloor:t})=>e-t)({offerAmount:m,collectionFloor:F}):void 0,D=N?(e=>{const n=Math.abs(e)<.001?"0.0000%":"0.00%";return`${e>0?"+":""}${t(s)(e).format(n)}`})(N):void 0;return{bidTokenSymbol:I,caip19:A,collectionId:C,collectibleId:x,orderId:e.id,collectibleChainId:n.chain.id,collectibleChainSymbol:P,collectionFloor:F,collectibleImage:h(u),collectibleName:null!=c?c:o("collectiblesUnknownCollectible"),collectionName:null!==(r=l.name)&&void 0!==r?r:o("collectiblesUnknownCollection"),currencySymbol:e.source.name===S.BLUR?P:I,fees:y,floorDifference:N,floorDifferencePercent:D,lastSale:E,marketplace:p,marketplaceLogoURL:f,offerAmount:m,offerAmountFormatted:(0,a.formatTokenAmount)(m),phantomFeePercentage:0,pnl:v({lastSale:E,receiveAmount:T}),receiveAmount:T,receiveAmountFormatted:(0,a.formatTokenAmount)(T),totalFeeBps:k}},k=({gasFee:e,totalFeeBps:t,offerAmount:n})=>{const o=(0,p.bpsToValue)(t,n)+e.toNumber();return{raw:o,formatted:(0,a.formatTokenAmount)(o)}}})),i.register("lw87t",(function(t,n){e(t.exports,"bpsToPercent",(function(){return o})),e(t.exports,"bpsToValue",(function(){return r}));const o=e=>e/100+"%",r=(e,t)=>e*t/100/100})),i.register("lkQLo",(function(n,o){e(n.exports,"useInstantSellEvmGasEstimation",(function(){return l}));var r=i("7gANb"),a=i("kAKNF"),s=i("ctsJe"),u=i("5rkl9");const c=new Map([[s.StepActionEnum.enum["nft-approval"],8e4],[s.StepActionEnum.enum["blur-swap"],42e3],[s.StepActionEnum.enum.sale,39e4],["default",42e4]]),l=({sellSteps:e,marketplace:n,transactionHooks:o,nativeTokenBalance:i,collectibleChainId:l})=>{var d;const p=n===u.Marketplace.BLUR;let f=e.filter((e=>"transaction"===e.type)).map((({action:e})=>({action:e})));if(f.some((({action:e})=>e===s.StepActionEnum.enum["nft-approval"]))||(f=[...f,{action:s.StepActionEnum.enum["nft-approval"]}]),p){const e=f.some((({action:e})=>e===s.StepActionEnum.enum.sale)),t=f.some((({action:e})=>e===s.StepActionEnum.enum["blur-swap"]));e||(f=[...f,{action:s.StepActionEnum.enum.sale}]),t||(f=[...f,{action:s.StepActionEnum.enum["blur-swap"]}])}const m=null==f?void 0:f.reduce(((e,{action:t})=>{var n;const o=null!==(n=c.get(t))&&void 0!==n?n:c.get("default");return e+(null!=o?o:0)}),0),g=new(t(a))(m),{status:v,data:y}=o.useEvmGasEstimation({gasLimit:g,networkID:l,transactionSpeed:r.TransactionSpeed.standard}),{data:h}=o.useGasEstimationPrice(l,y),S=(0,r.getNetworkFeeUiAmount)(y),b=Number(null!==(d=null==S?void 0:S.replace(/[^\d.]/g,""))&&void 0!==d?d:0);return{gasEvm:b,gasEstimation:y,gasEstimationStatus:v,ethFeeUI:S,gasEstimationPrice:h,hasEnoughGas:!!i&&i.isGreaterThan(b)}}})),i.register("jKoFs",(function(t,n){e(t.exports,"useInstantSellExecuteEvmSteps",(function(){return x}),(function(e){return x=e}));var o=i("4xbAj"),r=i("iOvk1"),a=i("43063"),s=i("7mQ3Y"),u=i("beWYh"),c=i("cFUcx"),l=i("csW2r"),d=i("7gANb"),p=i("RVqnc"),f=i("29o0l"),m=i("9RVtu"),g=i("cWcF4"),v=i("ctsJe"),y=i("doOus"),h=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))},S=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(n){t[n]=e[n]&&function(t){return new Promise((function(o,r){(function(e,t,n,o){Promise.resolve(o).then((function(t){e({value:t,done:n})}),t)})(o,r,(t=e[n](t)).done,t.value)}))}}};const b=(e,t,n,o,i,a,s)=>h(void 0,void 0,void 0,(function*(){try{if(!n)throw new Error("Gas estimation is required");if(!s)throw new Error("Bid summary is required");const{data:u,chainId:l,action:f}=t,{collectionName:m,marketplace:g,receiveAmount:v,currencySymbol:y,collectibleChainSymbol:h,bidTokenSymbol:S}=s,b=(0,p.capitalizeFirstLetter)(g);let k={};"nft-approval"===f&&(k={topRight:{label:""},bottomRight:{label:""},topLeft:{label:e("collectiblesApproveCollection",{collectionName:m})},bottomLeft:{label:b}}),"sale"===f&&(k={topRight:{label:`+${v} ${y}`},topLeft:{label:e("collectiblesSoldCollectible")},bottomRight:{label:`-${m}`},bottomLeft:{label:b}}),"blur-swap"===f&&(k={topRight:{label:`+${v} ${h}`},topLeft:{label:e("transactionsSwapped")},bottomRight:{label:`-${v} ${S}`},bottomLeft:{label:b}});const w=c.EthUnsignedTransactionObject.parse({type:c.TransactionTypes.eip1559,to:u.to,from:u.from,data:u.data,chainId:r.Chains.getEVMNetworkIDValue(l),gas:`0x${n.gasLimit.toString(16)}`,maxFeePerGas:`0x${n.maxFeePerGas.toString(16)}`,maxPriorityFeePerGas:`0x${n.maxPriorityFeePerGas.toString(16)}`}),A=(({networkID:e,unsignedTransaction:t,pendingActivityRows:n,accountIdentifier:o,accountSigner:r,storage:i,includeCallPayload:a})=>Object.assign(Object.assign({accountSigner:r,accountIdentifier:o,networkID:e,unsignedTransaction:t},a&&{callPayload:{from:t.from,to:t.to,data:t.data,value:t.value}}),{pendingTransactionInput:{ownerAddress:t.from,networkID:e,data:{nonce:"",unsignedTransaction:t,hash:""},type:d.PendingTransactionType.Sell,display:{summary:n}},storage:i}))({storage:o,accountSigner:i,pendingActivityRows:k,includeCallPayload:!1,networkID:l,unsignedTransaction:w,accountIdentifier:a.accountIdentifier}),T=yield(0,d.signAndSendEvmTransactionAsync)(A);return{type:t.type,data:T}}catch(e){return{type:t.type,error:e}}})),k=(e,t,n,o)=>h(void 0,void 0,void 0,(function*(){try{const{chainId:r,data:i}=t,{signatureData:a,signatureKind:c,postData:l}=i;if("eip191"===c&&"message"in a){const i=yield n.sign(o.accountIdentifier,{signingType:"message",chainType:s.AddressType.EVM,message:a.message});if("success"===i.status)return yield((e,t,n,o)=>{const r=`${e}/collectibles/v1/submit-signature`;return u.rb.post(r,{chainId:t,signature:n,postData:o})})(e(),r,i.signature,l),{type:t.type,data:"success"};throw new Error("Execute Sell: Couldn't sign message")}throw new Error("Execute Sell: EIP721 is not yet supported")}catch(e){return{type:t.type,error:e}}})),w=(e,t)=>h(void 0,void 0,void 0,(function*(){try{const{resource:n}=e.data;if("/sell"===n){const{data:n}=yield t();return{type:e.type,data:null==n?void 0:n.steps}}throw new Error("Execute Sell: Resource is not supported")}catch(t){return{type:e.type,error:t}}})),A=[v.StepActionEnum.enum.auth,v.StepActionEnum.enum["nft-approval"],v.StepActionEnum.enum.sale];class T extends Error{constructor(){super(...arguments),this.message="Steps are required"}}class C extends Error{constructor(){super(...arguments),this.message="These steps are not from the same bid"}}const x=({stepsOrderId:e,getApiEnvironment:t,storage:n,accountSigner:r,accountHooks:i,initialSteps:s,gasEstimation:u,refetchSellSteps:c,bidSummary:d,analytics:x,queryClient:E,tokenPrice:I})=>{const[P,F]=(0,f.useState)("idle"),[N,D]=(0,f.useState)(null),[O,M]=(0,f.useState)(null),{t:L}=(0,a.useTranslation)(),R=(e=>{const{data:t}=e.useSelectedMultiChainAccount();return(0,f.useMemo)((()=>{var e,n,r;const i=null==t?void 0:t.type,a=null!==(e=null==t?void 0:t.name)&&void 0!==e?e:"",s=null!==(n=null==t?void 0:t.addresses)&&void 0!==n?n:[],u=null!==(r=null==t?void 0:t.identifier)&&void 0!==r?r:"";return{isLedger:(null==t?void 0:t.type)===o.AccountType.Ledger,accountName:a,accountType:i,chainAddresses:s,accountIdentifier:u}}),[t])})(i),{chainAddresses:B,isLedger:U}=R;(0,f.useEffect)((function(){"loading"===P&&(0,g.invalidateBidsAndSellSteps)(E,d)}),[P,E,d]),(0,f.useEffect)((function(){"success"===P&&d&&(0,y.pushOptimisticUpdate)(E,{id:d.collectibleId,amount:1})}),[P,E,B,d]);const _=I&&(null==d?void 0:d.receiveAmount)?d.receiveAmount*I:void 0,z=(o,...i)=>h(void 0,[o,...i],void 0,(function*(o,i=new Map){var a,f,g,y,E;const I=null!=o?o:s;try{if(e&&""!==e&&e!==(null==d?void 0:d.orderId))throw new C;if(!Array.isArray(I)||0===I.length)throw new T;F("loading");try{for(var P,N=!0,O=S(I);!(a=(P=yield O.next()).done);N=!0){y=P.value,N=!1;const e=y,{action:o}=e,a="success"===i.get(o),s=o===v.StepActionEnum.enum.sale,l=o===v.StepActionEnum.enum.refetch,f=A.some((e=>e===o));if(a)continue;l||i.set(o,"loading");const{type:g,data:S,error:T}=yield(0,m.match)(e).with({type:v.StepType.enum.transaction},(e=>b(L,e,u,n,r,R,d))).with({type:v.StepType.enum.signature},(e=>h(void 0,void 0,void 0,(function*(){return k(t,e,r,R)})))).with({type:v.StepType.enum.refetch},(e=>w(e,c))).exhaustive();if(f&&T)throw T;if(S&&(l||i.set(o,"success"),g===v.StepType.enum.transaction&&s&&M(S),g===v.StepType.enum.refetch))return yield(0,p.delayAsync)(500),yield z(S,i)}}catch(e){f={error:e}}finally{try{N||a||!(g=O.return)||(yield g.call(O))}finally{if(f)throw f.error}}F("success"),x.capture("collectibleSellSuccess",{data:{bidSummary:d,usdSaleValue:_}})}catch(e){const t=null!==(E=null==e?void 0:e.message)&&void 0!==E?E:"";e instanceof T&&e instanceof C||(l.telemetry.captureError(e,l.FeatureTag.Collectibles),x.capture("collectibleSellFailure",{data:{bidSummary:d,usdSaleValue:_,errorMessage:t}})),F("error"),D(e)}}));return{executeSellEvmSteps:z,reset:()=>{F("idle"),D(null),M(null)},error:N,result:O,status:P,isLedger:U}}})),i.register("9RVtu",(function(t,n){e(t.exports,"match",(function(){return c}));var o=Symbol("@ts-pattern/matcher"),r="@ts-pattern/anonymous-select-key",i=function(e){return Boolean(e&&"object"==typeof e)},a=function(e){return e&&!!e[o]},s=function e(t,n,r){if(i(t)){if(a(t)){var s=t[o]().match(n),u=s.matched,c=s.selections;return u&&c&&Object.keys(c).forEach((function(e){return r(e,c[e])})),u}if(!i(n))return!1;if(Array.isArray(t))return!!Array.isArray(n)&&t.length===n.length&&t.every((function(t,o){return e(t,n[o],r)}));if(t instanceof Map)return n instanceof Map&&Array.from(t.keys()).every((function(o){return e(t.get(o),n.get(o),r)}));if(t instanceof Set){if(!(n instanceof Set))return!1;if(0===t.size)return 0===n.size;if(1===t.size){var l=Array.from(t.values())[0];return a(l)?Array.from(n.values()).every((function(t){return e(l,t,r)})):n.has(l)}return Array.from(t.values()).every((function(e){return n.has(e)}))}return Object.keys(t).every((function(i){var s,u=t[i];return(i in n||a(s=u)&&"optional"===s[o]().matcherType)&&e(u,n[i],r)}))}return Object.is(n,t)};function u(e){var t;return(t={})[o]=function(){return{match:function(t){return{matched:Boolean(e(t))}}}},t}u((function(e){return!0})),u((function(e){return"string"==typeof e})),u((function(e){return"number"==typeof e})),u((function(e){return"boolean"==typeof e})),u((function(e){return"bigint"==typeof e})),u((function(e){return"symbol"==typeof e})),u((function(e){return null==e}));function c(e){return new l(e,[])}var l=function(){function e(e,t){this.value=void 0,this.cases=void 0,this.value=e,this.cases=t}var t=e.prototype;return t.with=function(){var t=[].slice.call(arguments),n=t[t.length-1],o=[t[0]],i=[];return 3===t.length&&"function"==typeof t[1]?(o.push(t[0]),i.push(t[1])):t.length>2&&o.push.apply(o,t.slice(1,t.length-1)),new e(this.value,this.cases.concat([{match:function(e){var t={},n=Boolean(o.some((function(n){return s(n,e,(function(e,n){t[e]=n}))}))&&i.every((function(t){return t(e)})));return{matched:n,value:n&&Object.keys(t).length?r in t?t[r]:t:e}},handler:n}]))},t.when=function(t,n){return new e(this.value,this.cases.concat([{match:function(e){return{matched:Boolean(t(e)),value:e}},handler:n}]))},t.otherwise=function(t){return new e(this.value,this.cases.concat([{match:function(e){return{matched:!0,value:e}},handler:t}])).run()},t.exhaustive=function(){return this.run()},t.run=function(){for(var e=this.value,t=void 0,n=0;n<this.cases.length;n++){var o=this.cases[n],r=o.match(this.value);if(r.matched){e=r.value,t=o.handler;break}}if(!t){var i;try{i=JSON.stringify(this.value)}catch(e){i=this.value}throw new Error("Pattern matching error: no pattern matches value "+i)}return t(e,this.value)},e}()})),i.register("cWcF4",(function(t,n){e(t.exports,"invalidateBidsAndSellSteps",(function(){return r}));var o=i("9DWl5");const r=(e,t)=>{e.invalidateQueries(o.BIDS_SCOPE),e.invalidateQueries({predicate:({queryKey:e})=>e.includes("collectibleSellSteps")&&e[2].details.orderId===(null==t?void 0:t.orderId)})}})),i.register("2jrTu",(function(t,n){e(t.exports,"StepsFromDifferentBidErrorMessage",(function(){return S}),(function(e){return S=e})),e(t.exports,"useInstantSellExecuteSolanaSteps",(function(){return w}),(function(e){return w=e}));var o=i("4xbAj"),r=i("iOvk1"),a=i("43063"),s=i("hMVEP"),u=i("csW2r"),c=i("7gANb"),l=i("RVqnc"),d=i("29o0l"),p=i("9RVtu"),f=i("cWcF4"),m=i("ctsJe"),g=i("doOus"),v=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))},y=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(n){t[n]=e[n]&&function(t){return new Promise((function(o,r){(function(e,t,n,o){Promise.resolve(o).then((function(t){e({value:t,done:n})}),t)})(o,r,(t=e[n](t)).done,t.value)}))}}};const h=(e,t,n,o,r,i)=>v(void 0,void 0,void 0,(function*(){if(!i)throw new Error("Bid summary is required");const{collectionName:a,marketplace:u,receiveAmount:d,currencySymbol:p}=i,f={topRight:{label:`+${d} ${p}`},topLeft:{label:e("collectiblesSoldCollectible")},bottomRight:{label:`-${a}`},bottomLeft:{label:(0,l.capitalizeFirstLetter)(u)}},{data:m,chainId:g,type:v}=t,{transaction:y}=m,h=(0,s.transactionStringToTransaction)(y,"base64"),S={ownerAddress:n.solanaPublicKey,networkID:g,data:{signature:""},type:c.PendingTransactionType.Sell,display:{summary:f}},{accountIdentifier:b,solanaPublicKey:k,connection:w}=n,A=new(0,s.PublicKey)(k);return{type:v,data:yield(0,c.signAndSendSolanaTransactionAsync)({accountIdentifier:b,feePayer:A,transaction:h,pendingTransactionInput:S,connection:w,accountSigner:o,storage:r,opts:{skipPreflight:!0}})}})),S="These steps are not from the same bid";class b extends Error{constructor(){super(...arguments),this.message="Steps are required"}}class k extends Error{constructor(){super(...arguments),this.message=S}}const w=({stepsOrderId:e,storage:t,accountSigner:n,accountHooks:i,initialSteps:l,bidSummary:S,analytics:w,queryClient:A,tokenPrice:T})=>{const[C,x]=(0,d.useState)("idle"),[E,I]=(0,d.useState)(null),[P,F]=(0,d.useState)(null),{t:N}=(0,a.useTranslation)(),D=(e=>{const{data:t}=e.useSelectedMultiChainAccount();return(0,d.useMemo)((()=>{var e,n,i;const a=null!==(e=null==t?void 0:t.identifier)&&void 0!==e?e:"",s=(null==t?void 0:t.type)===o.AccountType.Ledger,u=null!==(n=null==t?void 0:t.addresses)&&void 0!==n?n:[],l=u.find(r.isSolanaChainAddress),d=null==l?void 0:l.networkID,p=null!==(i=null==l?void 0:l.address)&&void 0!==i?i:"",f=(0,c.getClusterBySolanaChainId)(d);return{accountIdentifier:a,chainAddresses:u,chainId:d,solanaPublicKey:p,isLedger:s,cluster:f,connection:(0,c.createConnection)(f)}}),[t])})(i),{chainId:O,connection:M,chainAddresses:L,isLedger:R}=D,B=O&&r.Chains.isSolanaNetworkID(O)?O:r.NetworkIDs.Solana.Mainnet,U=((e,t)=>{const[n,o]=(0,d.useState)(void 0);return(0,d.useEffect)((()=>{v(void 0,void 0,void 0,(function*(){var n;if(!e)return;const r=e.find((e=>"transaction"===e.type)),i=null===(n=null==r?void 0:r.data)||void 0===n?void 0:n.transaction;if(!i)return;const a=(0,s.transactionStringToTransaction)(i,"base64"),u=yield(0,c.estimateFeeFromMessages)(t,[a.message]),l=(0,s.lamportsToSolana)(u.value);o(l)}))}),[e,t]),n})(l,B);(0,d.useEffect)((function(){"loading"===C&&(0,f.invalidateBidsAndSellSteps)(A,S)}),[C,A,S]),(0,d.useEffect)((function(){"success"===C&&S&&(0,g.pushOptimisticUpdate)(A,{id:S.collectibleId,amount:1})}),[C,A,L,S]);const _=T&&(null==S?void 0:S.receiveAmount)?S.receiveAmount*T:void 0;return{executeSellSolanaSteps:()=>v(void 0,void 0,void 0,(function*(){var o,r,i,a,s;try{if(e&&e!==(null==S?void 0:S.orderId))throw new k;if(!Array.isArray(l)||0===l.length)throw new b;x("loading");try{for(var d,f=!0,g=y(l);!(o=(d=yield g.next()).done);f=!0){a=d.value,f=!1;const e=a,o=yield(0,p.match)(e).with({type:m.StepType.enum.transaction},(e=>h(N,e,D,n,t,S))).exhaustive();o.type===m.StepType.enum.transaction&&F(o.data),yield(0,c.waitForTransactionConfirmation)({connection:M,signature:o.data})}}catch(e){r={error:e}}finally{try{f||o||!(i=g.return)||(yield i.call(g))}finally{if(r)throw r.error}}x("success"),w.capture("collectibleSellSuccess",{data:{bidSummary:S,usdSaleValue:_}})}catch(e){const t=null!==(s=null==e?void 0:e.message)&&void 0!==s?s:"";e instanceof b&&e instanceof k||(u.telemetry.captureError(e,u.FeatureTag.Collectibles),w.capture("collectibleSellFailure",{data:{bidSummary:S,usdSaleValue:_,errorMessage:t}})),x("error"),I(e)}})),reset:()=>{x("idle"),I(null),F(null)},gas:U,error:E,result:P,status:C,isLedger:R}}})),i.register("j1qxo",(function(t,n){e(t.exports,"useInstantSellSolanaGasEstimation",(function(){return r}));var o=i("5slFC");const r=({bidSummary:e,fungibleHooks:t})=>{const{fungible:n}=t.useGetFungibleBalance({key:(0,o.networkIdToNativeTokenFungibleKey)(e.collectibleChainId)}),r=null==n?void 0:n.data.balance;return{hasEnoughGas:!!r&&r.isGreaterThan(.01)}}})),i.register("dzcGy",(function(t,n){e(t.exports,"useManageCollectionsVisibilityViewState",(function(){return f}));var o=i("h0VH5"),r=i("RVqnc"),a=i("29o0l"),s=i("dAQq7"),u=i("1n4u8"),c=i("cprKX"),l=i("1heCw");const d=(0,r.toMilliseconds)({seconds:10}),p=(0,r.toMilliseconds)({seconds:5});function f({storage:e,account:t,getApiEnvironment:n,queryClient:i}){var f,m,g;const v=(0,o.useAnalytics)(),y=null!==(f=null==t?void 0:t.identifier)&&void 0!==f?f:"",h=null!==(m=null==t?void 0:t.addresses)&&void 0!==m?m:[],{data:S=[],isLoading:b}=(0,s.useCollections)({getApiEnvironment:n,queryClient:i,addresses:h,queryOptions:{staleTime:p,refetchInterval:d}}),[k,w]=(0,a.useState)(""),A=null!==(g=(0,r.useDebouncedState)(k))&&void 0!==g?g:"",T=(0,a.useCallback)((e=>w("string"==typeof e?e:e.currentTarget.value)),[w]),{getIsHidden:C,getIsSpam:x,getSpamStatus:E,hideCollection:I,unhideCollection:P,isLoading:F}=(0,u.useCollectionVisibilityOverrides)({analytics:v,storage:e,accountId:y}),N=(0,a.useMemo)((()=>{const{collections:e,hiddenCollections:t,spamCollections:n}=(0,c.orderedCollections)({allCollections:S,getIsHidden:C,getIsSpam:x});return[...e,...t,...n]}),[S]),D=(0,l.useSearchCollections)(N,A),O=(0,a.useCallback)((({item:e,status:t})=>"show"===t?P(e):I(e)),[P,I]);return{viewState:(0,a.useMemo)((()=>({accountId:y,listItems:A?D.collections:N,searchQuery:k,debouncedSearchQuery:A,handleSearch:T,getIsHidden:C,getIsSpam:x,getSpamStatus:E,onToggleHidden:O})),[y,D.collections,k,T,N,O,C,x,E,A]),viewStateLoading:F||b}}})),i.register("cprKX",(function(t,n){e(t.exports,"orderedCollections",(function(){return a})),e(t.exports,"useOrderedCollections",(function(){return s}));var o=i("29o0l");const r=e=>e.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:1})),{});function a({allCollections:e=[],pinnedCollectionIds:t=[],getIsHidden:n,getIsSpam:o}){const i=[],a=[],s=[],u=[],c=r(t),l={};for(const t of e)o(t)&&n(t)?u.push(t):n(t)?a.push(t):c[t.id]?l[t.id]=t:o(t)?s.push(t):i.push(t);const d=[];for(const e of t)l[e]&&d.push(l[e]);return{collections:[...d,...i,...s],hiddenCollections:a,spamCollections:u}}const s=({allCollections:e=[],pinnedCollectionIds:t=[],getIsHidden:n,getIsSpam:r})=>(0,o.useMemo)((()=>a({allCollections:e,pinnedCollectionIds:t,getIsHidden:n,getIsSpam:r})),[e,n,r,t])})),i.register("1heCw",(function(t,n){e(t.exports,"useSearchCollections",(function(){return s})),e(t.exports,"useSearchCollectiblesStrict",(function(){return u}));i("4qm9q");var o=i("29o0l");const r={location:0,distance:50,threshold:.3},a=(Object.assign(Object.assign({},r),{keys:["name"]}),Object.assign(Object.assign({},r),{keys:["name"]}),Object.assign(Object.assign({},r),{keys:["name"]}),(e,t)=>{if(void 0===t)return!1;const n=e.toLowerCase();return t.toLowerCase().split(" ").map((e=>e.startsWith(n)||n.startsWith(e)&&t.toLowerCase().includes(n))).includes(!0)}),s=(e,t)=>(0,o.useMemo)((()=>({collections:e.filter((e=>a(t,e.name||e.items[0].name)))})),[t,e]),u=(e,t,n,r)=>{const i=(0,o.useMemo)((()=>e.flatMap((e=>e.items))),[e]);return(0,o.useMemo)((()=>({collections:e.filter((e=>a(r,e.name))),collectibles:i.filter((e=>a(r,e.name))),hiddenCollections:t.filter((e=>a(r,e.name))),spamCollections:n.filter((e=>a(r,e.name)))})),[r,i,e,t,n])}})),i.register("kPRJD",(function(t,n){e(t.exports,"usePinCollectionProps",(function(){return g}));var o=i("iOvk1"),r=i("43063"),a=i("29o0l"),s=i("1El9w"),u=i("iNEbF"),c=i("82MEA"),l=i("hawzv"),d=i("9EdxR"),p=i("gfoNl"),f=i("3YGzV"),m=i("7TvBs");const g=({storage:e,collectionId:t,isSpam:n,accountId:i,networkId:g,toast:v,analytics:y})=>{const{t:h}=(0,r.useTranslation)(),{mutateAsync:S}=(0,d.useUnhideCollection)(e,y),{data:b=[]}=(0,s.useHiddenCollections)(i||"",e),{data:k=[]}=(0,l.useUnhiddenCollections)(i||"",e),w=(0,p.useIsCollectionHidden)(b,k,null!=t?t:"",!!n),{mutateAsync:A}=(0,u.usePinCollection)(e),{data:T=[]}=(0,c.usePinnedCollections)(i||"",e),C=(0,f.useIsCollectionPinned)(T,null!=t?t:""),x=(0,a.useMemo)((()=>({pinSuccess:h("collectionPinSuccess"),pinFail:h("collectionPinFail"),unpinSuccess:h("collectionUnpinSuccess"),unpinFail:h("collectionUnpinFail")})),[h]),E=(0,a.useCallback)((e=>{g&&y.capture(e,{data:{networkId:g,chainId:o.Chains.getChainID(g)}})}),[y,g]),I=(0,m.usePinCollectionToggle)({accountId:i,collectionId:t,isPinned:C,pinMessages:x,pinCollection:A,toast:v,sendAnalyticEvent:E,unhideCollection:S,isHidden:w});return(0,a.useMemo)((()=>({isPinned:C,onTogglePin:I})),[C,I])}})),i.register("7TvBs",(function(t,n){e(t.exports,"usePinCollectionToggle",(function(){return a}),(function(e){return a=e}));var o=i("29o0l"),r=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const a=({accountId:e,collectionId:t,isPinned:n,pinMessages:i,pinCollection:a,toast:s,sendAnalyticEvent:u,unhideCollection:c,isHidden:l})=>(0,o.useCallback)((()=>{r(void 0,void 0,void 0,(function*(){if(t&&e)try{yield a({collectionId:t,accountId:e,pinned:!n}),l&&!n&&(yield c({collectionId:t,accountId:e})),s.success(n?i.unpinSuccess:i.pinSuccess,{position:"top-center"}),u&&u(n?"collectionUnpinned":"collectionPinned")}catch(e){s.error(n?i.unpinFail:i.pinFail,{position:"top-center"})}else s.error(n?i.unpinFail:i.pinFail,{position:"top-center"})}))}),[t,e,n,i,a,s,u,c,l])})),i.register("3IRsP",(function(t,n){e(t.exports,"useSendCollectibleStatusViewState",(function(){return d}));var o,r,a=i("43063"),s=i("7gANb"),u=i("29o0l"),c=i("lcNVz"),l=i("j8YST");(r=o||(o={})).SUCCESS="SUCCESS",r.ERROR="ERROR",r.LOADING="LOADING";const d=({networkID:e,isTxError:t,isTxConfirmed:n,isTxSubmitted:r,collectiblesSdk:i})=>{const d=i.get(e).sendSuccessCondition,p=(0,u.useMemo)((()=>t?o.ERROR:d===l.SendSuccessCondition.SUBMISSION&&r||d===l.SendSuccessCondition.CONFIRMATION&&n?o.SUCCESS:o.LOADING),[n,t,r,d]),f=d===l.SendSuccessCondition.CONFIRMATION?"sendStatusConfirmedSuccessTitle":"sendStatusSubmittedSuccessTitle",m=(0,u.useMemo)((()=>{switch(p){case o.LOADING:return a.i18next.t("sendStatusLoadingTitle");case o.ERROR:return a.i18next.t("sendStatusErrorTitle");case o.SUCCESS:return a.i18next.t(f)}}),[p,f]),{isError:g,isSuccess:v}=(0,u.useMemo)((()=>({isError:p===o.ERROR,isSuccess:p===o.SUCCESS})),[p]),{transactionSpeed:y=s.TransactionSpeed.standard}=(0,c.useCollectiblesStore)((e=>e.sendFormValues)),h=(0,u.useMemo)((()=>{const t=(0,s.getEstimatedConfirmationTime)(e);return t?a.i18next.t(t[y]):""}),[e,y]);return{title:m,isError:g,isSuccess:v,sendSuccessCondition:d,estimatedTime:h}}})),i.register("lcNVz",(function(n,o){e(n.exports,"useCollectiblesStore",(function(){return d}));var r=i("gTwcH"),a=i("4hmje"),s=i("fKtK0"),u=i("b3zIP"),c=i("fgk7x"),l=i("3Pu9B");const d=t(r)(((e,t)=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,l.createSendCollectibleSlice)(e,t)),(0,u.createListCollectibleSlice)(e,t)),(0,a.createBurnCollectibleSlice)(e,t)),(0,c.createMultichainListCollectibleSlice)(e,t)),(0,s.createMultichainSellCollectibleSlice)(e,t))))})),i.register("4hmje",(function(t,n){e(t.exports,"createBurnCollectibleSlice",(function(){return r}));const o={burnCollectibleTx:void 0,burnCollectibleTxFee:void 0},r=e=>Object.assign(Object.assign({},o),{resetBurnCollectible:()=>e(Object.assign({},o)),setBurnCollectibleTx:t=>e({burnCollectibleTx:t}),setBurnCollectibleTxFee:t=>e({burnCollectibleTxFee:t})})})),i.register("fKtK0",(function(t,n){e(t.exports,"createMultichainSellCollectibleSlice",(function(){return r}));const o={multichainSellCollectible:void 0},r=e=>Object.assign(Object.assign({},o),{resetMultichainSellCollectible:()=>e(Object.assign({},o)),setMultichainSellCollectible:t=>e({multichainSellCollectible:t})})})),i.register("b3zIP",(function(t,n){e(t.exports,"createListCollectibleSlice",(function(){return r}));const o={listCollectible:null,listCollectiblePrice:null,editListCollectiblePrice:null,unlistCollectible:null,transactionURL:null},r=e=>Object.assign(Object.assign({},o),{reset:()=>e(Object.assign({},o)),setListCollectible:t=>e({listCollectible:t}),setListPrice:t=>e({listCollectiblePrice:t}),setEditListPrice:t=>e({editListCollectiblePrice:t}),setUnlistCollectible:t=>e({unlistCollectible:t}),setTransactionURL:t=>e({transactionURL:t})})})),i.register("fgk7x",(function(t,n){e(t.exports,"createMultichainListCollectibleSlice",(function(){return r}));const o={multichainListCollectible:null,multichainListCollectiblePrice:null,editMultichainListCollectiblePrice:null,unlistMultichainCollectible:null,multichainTransactionURL:null},r=e=>Object.assign(Object.assign({},o),{reset:()=>e(Object.assign({},o)),setMultichainListCollectible:t=>e({multichainListCollectible:t}),setMultichainListPrice:t=>e({multichainListCollectiblePrice:t}),setEditMultichainListPrice:t=>e({editMultichainListCollectiblePrice:t}),setUnlistMultichainCollectible:t=>e({unlistMultichainCollectible:t}),setMultichainTransactionURL:t=>e({multichainTransactionURL:t})})})),i.register("3Pu9B",(function(t,n){e(t.exports,"createSendCollectibleSlice",(function(){return r}));const o={collectible:void 0,sendFormValues:i("5slFC").DEFAULT_SEND_FORM_VALUES,shouldRequireAmount:!1},r=e=>Object.assign(Object.assign({},o),{resetSendSlice:()=>{e(Object.assign({},o))},setSendCollectible:t=>{e({collectible:t})},setSendFormValues:t=>{e({sendFormValues:t})},setShouldRequireAmount:t=>{e({shouldRequireAmount:t})}})})),i.register("a3mbF",(function(t,n){e(t.exports,"useEditListCollectible",(function(){return d}),(function(e){return d=e}));var o=i("beWYh"),r=i("hMVEP"),a=i("29o0l"),s=i("iK4RJ"),u=i("fRdQq"),c=i("8tcqI").Buffer,l=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const d=()=>{const e=(0,s.useListCollectibleStore)((e=>e.listCollectible)),t=(0,s.useListCollectibleStore)((e=>e.editListCollectiblePrice)),[n,i]=(0,a.useState)(),[d,p]=(0,a.useState)(!1),[f,m]=(0,a.useState)();return{editList:(0,a.useCallback)(((n,a,s)=>l(void 0,void 0,void 0,(function*(){if(i(void 0),p(!0),!e||!t)return i(new Error("missing collectible or price")),void p(!1);try{const l=new URLSearchParams;l.set("pubKey",s.toBase58()),l.set("mint",e.asset.mintPubKey),l.set("account",e.asset.pubkey),l.set("quotePrice",`${(0,u.solanaToLamports)(t)}`),l.set("marketplace","magic_eden");const d=(0,u.getTokenListNetworkIDByCluster)(a);l.set("chainId",d.toString());const f=`${n}/solana/composer/v1/list?${l.toString()}`,g=(yield o.rb.retry(3,2e3).get(f)).data,v=r.Transaction.from(c.from(g.transaction,"base64"));(0,u.performNotaryCheck)(v)?m(v):i(new Error("Failed to initialize transaction")),p(!1)}catch(e){console.error(e),i(new Error("Failed to initialize transaction")),p(!1)}}))),[e,t]),isLoading:d,error:n,transaction:f}}})),i.register("iK4RJ",(function(n,o){e(n.exports,"useListCollectibleStore",(function(){return s}));var r=i("gTwcH");const a={listCollectible:null,listCollectiblePrice:null,editListCollectiblePrice:null,unlistCollectible:null,transactionURL:null},s=t(r)((e=>Object.assign(Object.assign({},a),{reset:()=>e(Object.assign({},a)),setListCollectible:t=>e({listCollectible:t}),setListPrice:t=>e({listCollectiblePrice:t}),setEditListPrice:t=>e({editListCollectiblePrice:t}),setUnlistCollectible:t=>e({unlistCollectible:t}),setTransactionURL:t=>e({transactionURL:t})})))})),i.register("28sgo",(function(t,n){e(t.exports,"useListCollectible",(function(){return p}),(function(e){return p=e}));var o=i("beWYh"),r=i("hMVEP"),a=i("csW2r"),s=i("29o0l"),u=i("iK4RJ"),c=i("fRdQq"),l=i("8tcqI").Buffer,d=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const p=()=>{const e=(0,u.useListCollectibleStore)((e=>e.listCollectible)),t=(0,u.useListCollectibleStore)((e=>e.listCollectiblePrice)),[n,i]=(0,s.useState)(),[p,f]=(0,s.useState)(!1),[m,g]=(0,s.useState)(),v=(0,s.useCallback)(((n,s,u)=>d(void 0,void 0,void 0,(function*(){if(i(void 0),f(!0),!e||!t)return i(new Error("missing collectible or price")),void f(!1);try{const a=new URLSearchParams;a.set("pubKey",u.toBase58()),a.set("mint",e.asset.mintPubKey),a.set("account",e.asset.pubkey),a.set("quotePrice",`${(0,c.solanaToLamports)(t)}`),a.set("marketplace","magic_eden");const d=(0,c.getTokenListNetworkIDByCluster)(s);a.set("chainId",d.toString());const p=`${n}/solana/composer/v1/list?${a.toString()}`,m=(yield o.rb.retry(3,2e3).get(p)).data,v=r.Transaction.from(l.from(m.transaction,"base64"));(0,c.performNotaryCheck)(v)?g(v):i(new Error("Failed to initialize transaction")),f(!1)}catch(e){i(new Error("Failed to initialize transaction")),f(!1),a.telemetry.captureError(e,a.FeatureTag.MagicEden)}}))),[e,t]);return{list:v,isLoading:p,error:n,transaction:m}}})),i.register("18W1y",(function(t,n){e(t.exports,"useUnlistCollectible",(function(){return p}),(function(e){return p=e}));var o=i("beWYh"),r=i("hMVEP"),a=i("csW2r"),s=i("29o0l"),u=i("iK4RJ"),c=i("fRdQq"),l=i("8tcqI").Buffer,d=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const p=()=>{const e=(0,u.useListCollectibleStore)((e=>e.unlistCollectible)),[t,n]=(0,s.useState)(),[i,p]=(0,s.useState)(!1),[f,m]=(0,s.useState)(),g=(0,s.useCallback)(((t,i,s)=>d(void 0,void 0,void 0,(function*(){if(n(void 0),p(!0),!e)return n(new Error("missing collectible")),void p(!1);try{const a=new URLSearchParams;a.set("pubKey",s.toBase58()),a.set("mint",e.asset.mintPubKey),a.set("account",e.asset.pubkey),a.set("marketplace","magic_eden");const u=(0,c.getTokenListNetworkIDByCluster)(i);a.set("chainId",u.toString());const d=`${t}/solana/composer/v1/unlist?${a.toString()}`,f=(yield o.rb.retry(3,2e3).get(d)).data,g=r.Transaction.from(l.from(f.transaction,"base64"));(0,c.performNotaryCheck)(g)?m(g):n(new Error("Failed to initialize transaction")),p(!1)}catch(e){n(new Error("Failed to initialize transaction")),p(!1),a.telemetry.captureError(e,a.FeatureTag.MagicEden)}}))),[e]);return{unlist:g,isLoading:i,error:t,transaction:f}}})),i.register("egicy",(function(n,o){e(n.exports,"useTokenAccountMinBalance",(function(){return v}),(function(e){return v=e}));var r=i("3tdpt"),a=i("kAKNF"),s=i("lCwV5"),u=i("fRdQq"),c=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const l="token-account-min-balances",d=s.struct([s.blob(32,"mint"),s.blob(32,"owner"),s.nu64("amount"),s.blob(93)]),p=(s.struct([s.blob(44),s.u8("decimals"),s.blob(37)]),s.struct([s.blob(679)])),f=s.struct([s.u8("edition"),s.blob(281)]),m=e=>c(void 0,void 0,void 0,(function*(){return e.getMinimumBalanceForRentExemption(d.span).then(t(a))})),g=e=>c(void 0,void 0,void 0,(function*(){return t(a)((yield e.getMinimumBalanceForRentExemption(p.span))+(yield e.getMinimumBalanceForRentExemption(f.span))+(yield e.getMinimumBalanceForRentExemption(d.span)))}));function v({tokenEdition:e,connection:n}){const o=[l,{tokenEdition:e}];return(0,r.useQuery)({queryKey:o,queryFn:()=>c(this,void 0,void 0,(function*(){return n?null!==e&&(0,u.isMasterEdition)(e)?g(n):m(n):t(a)(0)}))})}})),i.register("1kJQ3",(function(t,n){e(t.exports,"useCollectibleMediaURI",(function(){return r})),e(t.exports,"parseCollectibleMediaURI",(function(){return a}));var o=i("29o0l");const r=(e,t,n=!1,r)=>(0,o.useMemo)((()=>{if(e)return a({collectibleMedia:e,isImageAnimationEnabled:n,previewSize:null!=r?r:"medium",mediaTypeOverride:t})}),[e,t,n,r]),a=({collectibleMedia:e,isImageAnimationEnabled:t,previewSize:n,mediaTypeOverride:o})=>{var r,i;const a=null!=o?o:e.type;if(("image"===a||"other"===a)&&(null===(r=e.previews)||void 0===r?void 0:r[n])){const o=t?"":`${"medium"===n?"=":"-"}k`;return`${e.previews[n]}${o}`}return null===(i=e[a])||void 0===i?void 0:i.url}})),i.register("bzPWR",(function(t,n){e(t.exports,"useCollectionMediaUri",(function(){return a}));var o=i("29o0l"),r=i("1kJQ3");const a=e=>(0,o.useMemo)((()=>s(e)),[e]),s=(e,t="small")=>{if(!e)return;const{media:n,collection:o}=e;return n?(0,r.parseCollectibleMediaURI)({collectibleMedia:n,isImageAnimationEnabled:false,previewSize:t,mediaTypeOverride:"image"}):o.imageUrl}})),i.register("ToLjI",(function(t,n){e(t.exports,"useCollectionCollectible",(function(){return r}));var o=i("29o0l");const r=e=>(0,o.useMemo)((()=>{var t;if(e)return null!==(t=(e=>{const{items:t}=e;if(0!==t.length)return t.find((({media:e})=>"image"===(null==e?void 0:e.type)))})(e))&&void 0!==t?t:e.items[0]}),[e])})),i.register("b4hOH",(function(t,n){e(t.exports,"useCollectionItemsCount",(function(){return s}));var o=i("5slFC"),r=i("29o0l"),a=i("l8aZk");const s=e=>(0,r.useMemo)((()=>{if(e&&0!==e.items.length)return u(e)}),[e]),u=e=>{const{items:t}=e,{length:n}=t;if(1===n){const[{balance:e="",chainData:n}]=t;if((0,a.isSolanaCollectibleChainData)(n)&&n.standard===o.SPLTokenStandard.SemiFungible){const t=parseInt(e,10);return isNaN(t)?1:t}}return n}})),i.register("7moAU",(function(t,n){e(t.exports,"useOnlyImageCollectibles",(function(){return r}));var o=i("29o0l");const r=e=>(0,o.useMemo)((()=>e.filter((e=>{var t;return"image"===(null===(t=null==e?void 0:e.media)||void 0===t?void 0:t.type)}))),[e])})),i.register("bB55c",(function(t,n){e(t.exports,"useCollectibleExplorer",(function(){return s}));var o=i("5uSEV"),r=i("29o0l"),a=i("l8aZk");const s=(e,t)=>(0,r.useMemo)((()=>{var n;if(!e||!t)return;const r=e.chain.id,i=null!==(n=t.explorers[r])&&void 0!==n?n:(0,o.getDefaultExplorerTypeByNetworkID)(r);let s,u;if((0,a.isSolanaCollectibleChainData)(e.chainData))u="address",s=e.chainData.mint;else if((0,a.isEvmCollectibleChainData)(e.chainData))u="address",s=e.chainData.contract;else{if(!(0,a.isBitcoinCollectibleChainData)(e.chainData))throw new Error(`Unhandled collectible explorer for chain id: ${e.chain.id}`);if(!(0,a.isBitcoinRareSatsCollectibleChainData)(e.chainData))return{name:"Ordinals",url:`https://ordinals.com/inscription/${e.chainData.firstCreatedInscriptionId}`};{const{hash:t,index:n}=e.chainData.utxoDetails;u="transaction",s=`${t}#flow=&vout=${n}`}}if(!s)return;const c=(0,o.generateExplorerUrl)({networkID:r,endpoint:u,explorerType:i,param:s});return c?{name:o.SUPPORTED_EXPLORER_NAMES[i],url:c}:void 0}),[e,t])})),i.register("hnd43",(function(t,n){e(t.exports,"useDedupeCollectibles",(function(){return r}));var o=i("29o0l");const r=e=>(0,o.useMemo)((()=>{const t=new Set;return e.filter((e=>{var n,o;if(!(null===(o=null===(n=null==e?void 0:e.media)||void 0===n?void 0:n.image)||void 0===o?void 0:o.url))return!1;const{url:r}=e.media.image;return!t.has(r)&&(t.add(r),!0)}))}),[e])})),i.register("dGF9e",(function(t,n){e(t.exports,"useCollectibleChainSpecificInfoSection",(function(){return u}));var o=i("43063"),r=i("RVqnc"),a=i("29o0l"),s=i("l8aZk");const u=e=>{const{t:t}=(0,o.useTranslation)();return(0,a.useMemo)((()=>{var n;const o=[];if(!e)return;const i=e.chainData;if((0,s.isBitcoinCollectibleChainData)(i)){const{outputValue:e,satNumber:a,satName:s,inscriptionId:u,inscriptionNumber:l,protocolName:d,createdAt:p,utxoDetails:f}=i,m=t(u?"collectibleDetailOrdinalInfo":"collectibleDetailRareSatsInfo");let g;return e?g=parseFloat(e).toLocaleString():f&&(g=f.value.toLocaleString()),o.push(g?{label:t("collectibleDetailSatsInUtxo"),value:null!==(n=t("collectibleDetailSatsInUtxoValue",{satsInUtxo:g}))&&void 0!==n?n:void 0}:null),o.push(a?{label:t("collectibleDetailSatNumber"),value:a}:null),o.push(s?{label:t("collectibleDetailSatName"),value:s}:null),o.push(u?{label:t("collectibleDetailInscriptionId"),value:(0,r.ellipsize)(u,5,3)}:null),o.push(l?{label:t("collectibleDetailInscriptionNumber"),value:l}:null),o.push(d?{label:t("collectibleDetailStandard"),value:null==d?void 0:d.toUpperCase()}:null),o.push(p?{label:t("collectibleDetailCreated"),value:c(new Date(p))}:null),{label:m,items:o.filter(r.nonNullable)}}}),[e,t])};function c(e){return`${e.toLocaleDateString(void 0,{month:"numeric",day:"numeric",year:"numeric"})} ${e.toLocaleTimeString()}`}})),i.register("3elfT",(function(t,n){e(t.exports,"useCollectibleCTABar",(function(){return c}));var o=i("5slFC"),r=i("43063"),a=i("29o0l");const s=()=>{},u=new Map([["send",1],["list",2],["pin",3],["unpin",4],["share",5],["setAsAvatar",6],["saveToLibrary",7],["hide",8],["reportAsSpam",9],["reportAsNotSpam",10],["burnToken",11],["viewOnExplorer",12]]);function c(e){const{amountToBurn:t=0,explorerName:n,isBurnable:i,isHidden:c,isPinned:l,isSpam:d,onBurnToken:p,onList:f,onReportNotSpam:m,onReportSpam:g,onSaveToLibrary:v,onSend:y,onSetAsAvatar:h,onShare:S,onToggleHide:b,onTogglePin:k,onViewOnExplorer:w,shortcuts:A,shouldDisplaySend:T,shouldDisplayShortcuts:C,shouldDisplayListOnSolana:x}=e,{t:E}=(0,r.useTranslation)();return(0,a.useMemo)((()=>{const e=[];if(T&&e.push({text:E("commandSend"),type:"send",onClick:null!=y?y:s}),x&&e.push({text:E("collectibleDetailList"),type:"list",onClick:f}),v&&e.push({text:E("assetDetailSaveToPhotos"),singleWordAltText:E("commandSave"),type:"saveToLibrary",menuOnly:!0,onClick:null!=v?v:s}),h&&!d&&e.push({text:E("collectibleDetailSetAsAvatar"),singleWordAltText:E("collectibleDetailSetAsAvatarSingleWorkAlt"),type:"setAsAvatar",menuOnly:!0,onClick:null!=h?h:s}),S&&e.push({text:E("collectibleDetailShare"),singleWordAltText:E("commandShare"),type:"share",menuOnly:!0,onClick:null!=S?S:s}),k){const t=E(l?"assetDetailUnpinCollection":"assetDetailPinCollection"),n=E(l?"commandUnpin":"commandPin"),o=l?"unpin":"pin";e.push({text:t,singleWordAltText:n,type:o,menuOnly:!0,onClick:null!=k?k:s})}if(b){const t=E(c?"assetDetailUnhideCollection":"assetDetailHideCollection"),n=E(c?"commandUnhide":"commandHide"),o=c?"unhide":"hide";e.push({text:t,singleWordAltText:n,type:o,menuOnly:!0,onClick:null!=b?b:s})}if(m){const t=E("collectiblesReportAsNotSpam");e.push({text:t,type:"reportAsNotSpam",singleWordAltText:E("collectiblesReportNotSpam"),menuOnly:!0,isDestructive:!0,onClick:m})}if(g){const t=E("collectiblesReportAsSpam");e.push({text:t,type:"reportAsSpam",singleWordAltText:E("commandReport"),menuOnly:!0,isDestructive:!0,onClick:g})}if(i){const n=E(1===t?"collectibleBurnTitleWithCount_one":"collectibleBurnTitleWithCount_other");e.push({text:n,singleWordAltText:E("commandBurn"),type:"burnToken",menuOnly:!0,isDestructive:!0,onClick:null!=p?p:s})}return!!w&&!!n&&e.push({text:E("assetDetailViewOnExplorer",{explorer:n}),singleWordAltText:E("commandView"),type:"viewOnExplorer",menuOnly:!0,onClick:null!=w?w:s}),e.sort(((e,t)=>{var n,o;return(null!==(n=u.get(e.type))&&void 0!==n?n:100)-(null!==(o=u.get(t.type))&&void 0!==o?o:100)})),{actions:(0,o.splitCTABarActionsV1)(e,4),shortcuts:C?A:[]}}),[t,n,i,c,l,d,p,f,m,g,v,y,h,S,b,k,w,A,T,C,x,E])}})),i.register("2eSHG",(function(t,n){e(t.exports,"getInstantSellError",(function(){return r}));var o=i("2jrTu");const r=({t:e,apiErrors:t,clientErrors:n})=>{var r,i,a;const s={title:e("collectiblesSellStatusErrorTitle"),subtitle:e("collectiblesSellStatusErrorSubtitle")};return t.isSellErrorCode?1===(null===(r=null==t?void 0:t.sellStepsError)||void 0===r?void 0:r.code)?{title:e("collectiblesSellRecentlyTransferedNFTTitle"),subtitle:e("collectiblesSellRecentlyTransferedNFTSubtitle")}:3===(null===(i=null==t?void 0:t.sellStepsError)||void 0===i?void 0:i.code)||9===(null===(a=null==t?void 0:t.sellStepsError)||void 0===a?void 0:a.code)?{title:e("collectiblesSellNotAvailableAnymoreTitle"),subtitle:e("collectiblesSellNotAvailableAnymoreSubtitle")}:s:n.hasEnoughGas?n.executeSellError?n.executeSellError.message===o.StepsFromDifferentBidErrorMessage?{title:e("collectiblesSellNotAvailableAnymoreTitle"),subtitle:e("collectiblesSellNotAvailableAnymoreSubtitle")}:s:null:{title:e("collectiblesSellInsufficientFundsTitle"),subtitle:e("collectiblesSellInsufficientFundsSubtitle")}}})),i.register("1yqzk",(function(t,n){e(t.exports,"isCollectibleSemiFungible",(function(){return a}));var o=i("5slFC"),r=i("l8aZk");const a=e=>(0,r.isEvmCollectibleChainData)(e)?e.standard===o.ERCTokenStandard.ERC1155:!!(0,r.isSolanaCollectibleChainData)(e)&&e.standard===o.SPLTokenStandard.SemiFungible})),i.register("8PxwR",(function(e,t){})),i.register("jDpXe",(function(t,n){e(t.exports,"createTransferPendingTransactionInput",(function(){return s}));var o=i("iOvk1"),r=i("cFUcx"),a=i("7gANb");const s=(e,t,n,i,s,u,c)=>{if(o.Chains.isEVMNetworkID(e)){const o=a.ESTIMATED_EVM_CONFIRMATION_TIMES_SEC[e][null!=t?t:a.TransactionSpeed.standard];return{ownerAddress:n.address,networkID:e,data:{hash:"",nonce:"",unsignedTransaction:r.EthUnsignedTransactionObject.parse({from:n.address}),estimatedTimeToMineInSeconds:o},type:a.PendingTransactionType.Send,display:{summary:{topLeft:{label:`${c("transactionsPendingSending")} ${u} ${i}`},bottomLeft:{label:`${c("transactionsToParagraphInterpolated",{to:s})}`}},detail:{header:`${u} ${i}`,uiRecipient:s}}}}if(o.Chains.isSolanaNetworkID(e))return{ownerAddress:n.address,networkID:e,data:{signature:""},type:a.PendingTransactionType.Send,display:{summary:{topLeft:{label:`${c("transactionsPendingSending")} ${u} ${i}`},bottomLeft:{label:`${c("transactionsToParagraphInterpolated",{to:s})}`}}}};if(o.Chains.isBitcoinNetworkID(e))return{ownerAddress:n.address,networkID:e,data:{txID:""},type:a.PendingTransactionType.Send,display:{summary:{topLeft:{label:`${c("transactionsPendingSending")} ${u} ${i}`},bottomLeft:{label:`${c("transactionsToParagraphInterpolated",{to:s})}`}}}};throw new Error(`Unable to create pending transaction input for network id ${e}}`)}})),i.register("hK5G2",(function(t,n){e(t.exports,"selectBestCollectionName",(function(){return r}));var o=i("RVqnc");const r=(e,t)=>{if(e.name&&e.name.length>0)return e.name;if(e.externalUrl){const t=(0,o.formatURL)({url:e.externalUrl,format:"domain"});if(t)return t}if(null==t?void 0:t.name){const e=t.name.replace(/(\/|-|_|#)+?\d+(?!-|_|\/)+/g,"").replace(/\d+( of )\d+/g,"").trim();if(e)return e}return(null==t?void 0:t.symbol)?t.symbol:void 0}})),i.register("dig1v",(function(t,n){e(t.exports,"convertCollectibleToSPLTokenAccount",(function(){return r}));var o=i("l8aZk");const r=(e,t)=>{var n,r,i,a,s,u,c,l,d;if((0,o.isSolanaCollectibleChainData)(e.chainData))return{standard:e.chainData.standard,pubkey:e.chainData.tokenAccount,mintPubKey:e.chainData.mint,ownerPubKey:t,decimals:parseInt(null!==(n=e.decimals)&&void 0!==n?n:"0",10),amount:null!==(r=e.balance)&&void 0!==r?r:"0",delegate:null,delegatedAmount:"",logoURI:null,name:null!==(i=e.name)&&void 0!==i?i:null,symbol:null!==(a=e.symbol)&&void 0!==a?a:null,coingeckoId:null,state:"initialized",collectionPubKey:e.collection.id,uses:null,creators:[],uri:null!==(s=e.uri)&&void 0!==s?s:"",collectionName:null!==(u=e.collection.name)&&void 0!==u?u:void 0,collectibleImage:null!==(d=null===(l=null===(c=e.media)||void 0===c?void 0:c.previews)||void 0===l?void 0:l.medium)&&void 0!==d?d:void 0}}})),i.register("1nhJ5",(function(n,o){e(n.exports,"formatCount",(function(){return a}));var r=i("gXOkW");const a=e=>e>1e6?">1M":e<1e4?t(r)(e).format("0,0.[000]"):t(r)(e).format("0.[0]a").toUpperCase()})),i.register("2of6v",(function(t,n){e(t.exports,"getBurnTransactionWithPriorityFee",(function(){return g}),(function(e){return g=e}));var o=i("8tcqI"),r=i("6ElgT"),a=i("hMVEP"),s=i("7gANb"),u=i("kS3W3"),c=i("eHKNV"),l=i("dNfx5"),d=i("bfrkk"),p=i("fRdQq"),f=i("5fQ1M"),m=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const g=e=>m(void 0,[e],void 0,(function*({mintAddress:e,owner:t,amountToBurn:n,collectionPubKey:i,tokenEdition:g,chainId:v,compression:y,priorityFeeService:h,programId:S,isProgrammable:b}){const k=(0,s.createConnectionBySolanaNetworkID)(v),w=yield(A={mintAddress:e,owner:t,amountToBurn:n,collectionPubKey:i,tokenEdition:g,compression:y,programId:S,isProgrammable:b,connection:k},m(void 0,[A],void 0,(function*({mintAddress:e,owner:t,amountToBurn:n,collectionPubKey:i,tokenEdition:m,compression:g,programId:v,isProgrammable:y,connection:h}){const S=new(0,a.Transaction),b=new(0,a.PublicKey)(e),k=yield(0,l.getAssociatedTokenAddress)(b,t);if(null==g?void 0:g.compressed)return(0,f.createCompressedTokenBurnTransaction)({compression:g,mint:e});if(v===r.MPL_CORE_PROGRAM_ID)return(0,s.createMplCoreBurnTransaction)({mint:e,connection:h,owner:t.toBase58()});if(y)return(0,r.createPNFTBurnTX)({senderAddress:t,senderAccount:k,mintAddress:new(0,a.PublicKey)(e)});if(null!==m&&(0,p.isMasterEdition)(m)){const e=o.Buffer.from(b.toBytes()),n=(0,p.getMetadataPDA)(e),s=(0,p.getMasterEditionPDA)(e);let u;if(null!==i){const e=new(0,a.PublicKey)(i),t=o.Buffer.from(e.toBytes());u=(0,p.getCollectionMetadataPDA)(t)}const c={metadata:n,owner:t,mint:b,tokenAccount:k,masterEditionAccount:s,splTokenProgram:d.TOKEN_PROGRAM_ID,collectionMetadata:u},{createBurnNftInstruction:l}=yield(0,r.getMetaplexFoundationDeps)(),f=l(c,r.METADATA_PROGRAM_ID);S.add(f)}else{const e=(0,u.createBurnInstruction)(k,b,t,n),o=(0,c.createCloseAccountInstruction)(k,t,t);S.add(e,o)}return S})));var A;w.recentBlockhash=(yield k.getLatestBlockhash("confirmed")).blockhash,w.feePayer=t;const T=yield h.addPriorityFee(w,{connection:k}),C=yield(0,s.estimateFeeFromMessages)(v,[T.compileMessage()]);return{burnTxWithPriority:T,networkFeeUiAmount:(0,s.getSolanaNetworkFeeUiAmount)(C)}}))})),i.register("kS3W3",(function(t,n){e(t.exports,"createBurnInstruction",(function(){return p}));var o=i("faf7S"),r=i("6kYG1"),a=i("liYfk"),s=i("bfrkk"),u=(i("22JpE"),i("j8p5h")),c=i("7RkLx"),l=i("8tcqI").Buffer;const d=(0,o.struct)([(0,o.u8)("instruction"),(0,r.u64)("amount")]);function p(e,t,n,o,r=[],i=s.TOKEN_PROGRAM_ID){const p=(0,u.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],n,r),f=l.alloc(d.span);return d.encode({instruction:c.TokenInstruction.Burn,amount:BigInt(o)},f),new(0,a.TransactionInstruction)({keys:p,programId:i,data:f})}})),i.register("5fQ1M",(function(t,n){e(t.exports,"createCompressedTokenBurnTransaction",(function(){return c}),(function(e){return c=e}));var o=i("iOvk1"),r=i("2onIY"),a=i("hMVEP"),s=i("foQia"),u=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};function c(e){return u(this,void 0,void 0,(function*(){const{mint:t}=e,n=new(0,a.Transaction),u=(0,r.getAPIEnvironment)(),c=yield(0,s.getCompressionProof)({apiEnv:u,networkID:o.SolanaNetworkID.Mainnet,mintAddress:t}),{createCompressedNftBurnIX:l}=yield Promise.resolve(i("6ElgT"));return n.add(yield l(Object.assign(Object.assign({},e),c))),n}))}})),i.register("jXsY4",(function(e,t){})),i.register("7he9C",(function(t,n){e(t.exports,"createListingAnalytics",(function(){return r})),e(t.exports,"getCollectibleData",(function(){return i("gIsWN").getCollectibleData}));var o=i("h0VH5");i("gIsWN");const r=e=>new(0,o.SequenceAnalytics)(e,"list")})),i.register("gIsWN",(function(t,n){e(t.exports,"getCollectibleData",(function(){return r}));var o=i("h0VH5");function r({chainID:e,amount:t,collectible:n,symbol:r}){const i=(0,o.chainFromNetworkID)(e);switch(i.chainName){case"solana":return Object.assign(Object.assign({},i),{asset:{amount:t.toString(),mint:"mint"in n?n.mint:"UNKNOWN",symbol:r,type:"collectible"}});case"ethereum":case"polygon":return Object.assign(Object.assign({},i),{asset:{amount:t.toString(),address:"contract"in n?n.contract:"UNKNOWN",symbol:r,type:"collectible"}});case"bitcoin":return Object.assign(Object.assign({},i),{asset:{id:"firstCreatedInscriptionId"in n?n.firstCreatedInscriptionId:"UNKNOWN",symbol:r,type:"collectible"}})}}})),i.register("789Pd",(function(t,n){e(t.exports,"CollectiblesSdk",(function(){return i("1zuDM").CollectiblesSdk}));i("1zuDM")})),i.register("1zuDM",(function(t,n){e(t.exports,"CollectiblesSdk",(function(){return u}));var o=i("iOvk1"),r=i("3vOWl"),a=i("7VUwN"),s=i("KaKJg");class u extends o.Sdk{constructor(e=!1){super(),this.registry.register(o.Chain.Solana,(0,s.createSolanaSDK)(e)),this.registry.register(o.Chain.Ethereum,a.evmSdk),this.registry.register(o.Chain.Polygon,a.evmSdk),this.registry.register(o.Chain.Bitcoin,r.bitcoinSdk)}}})),i.register("3vOWl",(function(n,o){e(n.exports,"bitcoinSdk",(function(){return p}));var r=i("iOvk1"),a=i("43063"),s=i("RVqnc"),u=i("kAKNF"),c=i("j8YST"),l=i("l8aZk");const d="#F7931A",p={sendSuccessCondition:c.SendSuccessCondition.SUBMISSION,displayFeeTooltip:!0,collectibleDetailPrecision:7,onBeforeSend:e=>e.multichainTransaction,collectibleDetailCtaBanner:(e,n)=>{var o;const i=e.chainData;if((0,l.isBitcoinRareSatsCollectibleChainData)(i)&&n){const e=new(t(u))(null!==(o=i.utxoDetails.value)&&void 0!==o?o:0);if(e.lte(5e4))return;const c=Object.values(i.utxoDetails.satributes).reduce(((e,{count:t})=>e+t),0),l=(0,s.amountToUiAmount)(c,r.Chains.bitcoin.tokenDecimals),p=(0,s.amountToUiAmount)(e,r.Chains.bitcoin.tokenDecimals),f=(0,s.formatDollarAmount)(p.minus(l).times(n));return{title:a.i18next.t("collectibleDetailUtxoSplitterCtaTitle"),subtitle:a.i18next.t("collectibleDetailUtxoSplitterCtaSubtitle",{value:f}),iconFill:d,modal:{title:a.i18next.t("collectibleDetailUtxoSplitterModalCtaTitle"),subtitle:a.i18next.t("collectibleDetailUtxoSplitterModalCtaSubtitle",{value:f}),buttonText:a.i18next.t("collectibleDetailUtxoSplitterModalCtaButton"),uri:"https://help.magiceden.io/en/articles/8450002-mastering-utxo-management-extracting-splitting-sats-on-magic-eden-bitcoin",iconFill:d}}}}}})),i.register("7VUwN",(function(t,n){e(t.exports,"evmSdk",(function(){return r}));var o=i("7gANb");const r={sendSuccessCondition:i("j8YST").SendSuccessCondition.CONFIRMATION,displayFeeTooltip:!0,collectibleDetailPrecision:5,collectibleDetailCtaBanner:void 0,onBeforeSend({multichainTransaction:e,gasEstimation:t}){if(!(0,o.isEvmTransaction)(e))throw new Error("MultichainTransaction is not of type EVM");if(!t||!(0,o.isEvmGasEstimation)(t))throw new Error("No gas estimation found");return(0,o.applyEvmGasEstimation)(e,t)}}})),i.register("KaKJg",(function(t,n){e(t.exports,"createSolanaSDK",(function(){return r}));var o=i("j8YST");const r=(e=!1)=>({sendSuccessCondition:o.SendSuccessCondition.CONFIRMATION,displayFeeTooltip:!0,collectibleDetailPrecision:5,collectibleDetailCtaBanner:void 0,onBeforeSend:({multichainTransaction:e})=>e})})),i.register("hM5LD",(function(t,n){e(t.exports,"createExploreHooks",(function(){return i("7i964").createExploreHooks})),e(t.exports,"useExploreSearchList",(function(){return i("5JgZn").useExploreSearchList})),e(t.exports,"ExploreProvider",(function(){return i("aAtpt").ExploreProvider})),e(t.exports,"useExplore",(function(){return i("aAtpt").useExplore})),e(t.exports,"ExploreAnalytics",(function(){return i("5MRwA").ExploreAnalytics})),e(t.exports,"EXPLORE_BASE_QUERY_KEY",(function(){return i("hSXsO").EXPLORE_BASE_QUERY_KEY})),e(t.exports,"getAccountMainnetNetworkIds",(function(){return i("ggjh9").getAccountMainnetNetworkIds})),e(t.exports,"shouldNavigateToSwapper",(function(){return i("eDtr3").shouldNavigateToSwapper}));i("7i964"),i("5JgZn"),i("aAtpt"),i("5MRwA"),i("hSXsO"),i("ggjh9"),i("eDtr3")})),i.register("7i964",(function(t,n){e(t.exports,"createExploreHooks",(function(){return v}));var o=i("lFxNk"),r=i("2gAtf"),a=i("lyOQw"),s=i("6ksRG"),u=i("jpW7j"),c=i("1z5C9"),l=i("9A7Xn"),d=i("iD3EL"),p=i("5FhX9"),f=i("7YRkB"),m=i("9HxvY"),g=i("iH1mQ");function v(e,t,n,i,v){return{useExploreSites:()=>(0,m.useSites)(e,t(),n,i,v),useExploreTokens:()=>(0,g.useTokens)(e,t(),n,i,v),useExploreCollections:()=>(0,o.useCollections)(e,t(),n,i,v),useExploreRecommendedCollections:()=>(0,l.useRecommendedCollections)(t(),n,i,v),useExploreRecommendedSites:()=>(0,p.useRecommendedSites)(t(),n,i,v),useExploreRecommendedTokens:()=>(0,f.useRecommendedTokens)(t(),n,i,v),useLearn:()=>(0,c.useLearn)(t(),n,v),useRecommendedSearchDapps:d.useRecommendedSearchDapps,useExploreSortOption:()=>(0,r.useExploreSortOption)(e),useExploreSelectedNetwork:()=>(0,r.useExploreSelectedNetwork)(e,n,v),useIsExploreSitesLoading:()=>(0,s.useIsExploreSitesLoading)(e,t(),n,i,v),useIsExploreTokensLoading:()=>(0,u.useIsExploreTokensLoading)(e,t(),n,i,v),useIsExploreCollectionsLoading:()=>(0,a.useIsExploreCollectionsLoading)(e,t(),n,i,v)}}})),i.register("lFxNk",(function(t,n){e(t.exports,"useCollections",(function(){return p}));var o=i("43063"),r=i("3tdpt"),a=i("5uSEV"),s=i("RVqnc"),u=i("aAtpt"),c=i("1vyom"),l=i("hSXsO"),d=i("2gAtf");const p=(e,t,n,i,p)=>{var f;const{platform:m,appVersion:g,activeSection:v}=(0,u.useExplore)(),{networkIds:y}=(0,d.useExploreSelectedNetwork)(e,n,p),{data:h}=n.useSelectedMultiChainAccount(),{data:S,isLoading:b}=(0,d.useExploreSortCollections)(e),k=null!==(f=(0,a.getSupportedLanguageValue)(o.i18next.language))&&void 0!==f?f:"en";return(0,r.useQuery)({queryKey:l.exploreQueryKeys.collections(S,y,g,k),enabled:!b&&!!h&&"collections"===v,queryFn:()=>{if(!h)throw new Error("No account found");return(0,c.getCollections)(S,y,t,g,k,m,h,i)},keepPreviousData:!0,cacheTime:(0,s.toMilliseconds)({minutes:10}),staleTime:(0,s.toMilliseconds)({minutes:10})})}})),i.register("aAtpt",(function(n,o){e(n.exports,"useExplore",(function(){return s})),e(n.exports,"ExploreProvider",(function(){return c}));var r=i("29o0l");const a=(0,r.createContext)(void 0);function s(){const e=(0,r.useContext)(a);if(!e)throw new Error("useExplore must be used within a ExploreProvider");return e}const u=["sites","tokens","collections","quests","learn"];function c({children:e,platform:n,appVersion:o,initialSection:i=u[0]}){const[s,c]=t(r).useState(i),l={platform:n,appVersion:o,sections:u,activeSection:s,setActiveSection:c};return t(r).createElement(a.Provider,{value:l},e)}})),i.register("1vyom",(function(t,n){e(t.exports,"getCollections",(function(){return u}),(function(e){return u=e}));var o=i("4xbAj"),r=i("iOvk1"),a=i("beWYh"),s=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const u=(e,t,n,i,u,c,l,d)=>s(void 0,void 0,void 0,(function*(){var s,p;const f=null!==(s=null==l?void 0:l.addresses.map(r.chainAddressToCaip19Address))&&void 0!==s?s:[],m=(null==l?void 0:l.type)===o.AccountType.Seed?l.seedIdentifier:null,g=null!==(p=null==l?void 0:l.identifier)&&void 0!==p?p:"",v={appVersion:i,locale:u,platform:c,limit:10,timeframe:"24h",rankBy:"top"===e?"volume":e,chainIds:t,accountId:g,deviceId:d,rootId:m,selectedAccountAddresses:f},y=`${n}/explore/v1/trending-collections`,h=yield a.rb.post(y,v);if(!(0,a.responseIsOkay)(h))throw new Error("Failed to fetch collections");const S=h.data;return Object.assign(Object.assign({},S),{data:S.data.filter((e=>e.floorPrices.length>0&&e.marketplacePages.length>0))})}))})),i.register("hSXsO",(function(t,n){e(t.exports,"EXPLORE_BASE_QUERY_KEY",(function(){return o})),e(t.exports,"exploreQueryKeys",(function(){return r}));const o="@phantom/explore",r={sites:(e,t,n,r)=>[o,"sites",n,r,e,t],recommendedSites:(e,t,n)=>[o,"sites","recommended",e,n,t],tokens:(e,t,n,r)=>[o,"tokens",n,r,e,t],recommendedTokens:(e,t,n)=>[o,"tokens","recommended",e,n,t],collections:(e,t,n,r)=>[o,"collections",n,r,e,t],recommendedCollections:(e,t,n)=>[o,"collections","recommended",e,n,t],learn:(e,t,n)=>[o,"learn",e,n,t],exploreSortSites:[o,"sort:sites"],exploreSortCollections:[o,"sort:collections"],exploreSortTokens:[o,"sort:tokens"],exploreSelectedNetwork:e=>[o,"selected:network",e]}})),i.register("2gAtf",(function(t,n){e(t.exports,"useExploreSortSites",(function(){return m}),(function(e){return m=e})),e(t.exports,"useExploreSortCollections",(function(){return g}),(function(e){return g=e})),e(t.exports,"useExploreSortTokens",(function(){return v}),(function(e){return v=e})),e(t.exports,"useExploreSelectedNetwork",(function(){return y}),(function(e){return y=e})),e(t.exports,"useExploreSortOption",(function(){return h}),(function(e){return h=e}));var o=i("3tdpt"),r=i("HlEsU"),a=i("29o0l"),s=i("hSXsO"),u=i("ggjh9"),c=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const l=r.StorageKeys.ExploreFilters,d={currentNetwork:"all_networks",sortSites:"trending",sortCollections:"trending",sortTokens:"volume"};function p(e){return c(this,void 0,void 0,(function*(){const t=yield e.get(l);return null!=t?t:d}))}function f(e,t){return c(this,void 0,void 0,(function*(){yield e.set(l,t)}))}function m(e){const t=(0,o.useQueryClient)(),{data:n,isLoading:r}=(0,o.useQuery)({queryKey:s.exploreQueryKeys.exploreSortSites,refetchOnMount:"always",queryFn(){return c(this,void 0,void 0,(function*(){return(yield p(e)).sortSites}))}}),{mutate:i}=(0,o.useMutation)({mutationFn(t){return c(this,void 0,void 0,(function*(){const n=yield p(e);yield f(e,Object.assign(Object.assign({},n),{sortSites:t}))}))},onSuccess(){return c(this,void 0,void 0,(function*(){yield t.invalidateQueries(s.exploreQueryKeys.exploreSortSites)}))}});return{data:null!=n?n:d.sortSites,isLoading:r&&!n,mutate:i}}function g(e){const t=(0,o.useQueryClient)(),{data:n,isLoading:r}=(0,o.useQuery)({queryKey:s.exploreQueryKeys.exploreSortCollections,refetchOnMount:"always",queryFn(){return c(this,void 0,void 0,(function*(){return(yield p(e)).sortCollections}))}}),{mutate:i}=(0,o.useMutation)({mutationFn(t){return c(this,void 0,void 0,(function*(){const n=yield p(e);yield f(e,Object.assign(Object.assign({},n),{sortCollections:t}))}))},onSuccess(){return c(this,void 0,void 0,(function*(){yield t.invalidateQueries(s.exploreQueryKeys.exploreSortCollections)}))}});return{data:null!=n?n:d.sortCollections,isLoading:r&&!n,mutate:i}}function v(e){const t=(0,o.useQueryClient)(),{data:n,isLoading:r}=(0,o.useQuery)({queryKey:s.exploreQueryKeys.exploreSortTokens,refetchOnMount:"always",queryFn(){return c(this,void 0,void 0,(function*(){return(yield p(e)).sortTokens}))}}),{mutate:i}=(0,o.useMutation)({mutationFn(t){return c(this,void 0,void 0,(function*(){const n=yield p(e);yield f(e,Object.assign(Object.assign({},n),{sortTokens:t}))}))},onSuccess(){return c(this,void 0,void 0,(function*(){yield t.invalidateQueries(s.exploreQueryKeys.exploreSortTokens)}))}});return{data:null!=n?n:d.sortTokens,isLoading:r&&!n,mutate:i}}function y(e,t,n){const r=(0,o.useQueryClient)(),{data:i}=t.useSelectedMultiChainAccount(),l=(0,a.useMemo)((()=>i?(0,u.getAccountMainnetNetworkIds)(i,n()):[]),[i,n]),{data:m,isLoading:g}=(0,o.useQuery)({queryKey:s.exploreQueryKeys.exploreSelectedNetwork(l),refetchOnMount:"always",queryFn(){return c(this,void 0,void 0,(function*(){return(yield p(e)).currentNetwork}))}}),{mutate:v}=(0,o.useMutation)({mutationFn(t){return c(this,void 0,void 0,(function*(){const n=yield p(e);yield f(e,Object.assign(Object.assign({},n),{currentNetwork:t}))}))},onSuccess(){return c(this,void 0,void 0,(function*(){yield r.invalidateQueries(s.exploreQueryKeys.exploreSelectedNetwork(l))}))}}),y=null!=m?m:d.currentNetwork,h="all_networks"===y||l.includes(y)?y:"all_networks";return{data:h,isLoading:g&&!m,networkIds:"all_networks"===h?l:[h],mutate:v}}function h(e){const{data:t,isLoading:n,mutate:o}=m(e),{data:r,isLoading:i,mutate:a}=v(e),{data:s,isLoading:u,mutate:c}=g(e);return{currentSortOption:e=>{switch(e){case"sites":return t;case"collections":return s;case"tokens":return r;default:return"trending"}},getSortOptions:e=>{switch(e){case"sites":case"collections":return["trending","top"];case"tokens":return["gainers","losers","volume","market_cap"];default:return[]}},setSortOption:(e,t)=>{"sites"===e?o(t):"collections"===e?c(t):"tokens"===e&&a(t)},isLoading:n||i||u}}})),i.register("ggjh9",(function(t,n){e(t.exports,"createExploreDappQueryKey",(function(){return r})),e(t.exports,"getAccountMainnetNetworkIds",(function(){return a})),e(t.exports,"shouldNavigateToSwapper",(function(){return i("eDtr3").shouldNavigateToSwapper}));var o=i("iOvk1");i("eDtr3");const r=e=>["explore-dapp",e],a=(e,t)=>{var n;return null!==(n=e.addresses.map((e=>o.Chains.getMainnetNetworkID(e.networkID))).filter((e=>e!==o.BitcoinNetworkID.Mainnet||t)))&&void 0!==n?n:[]}})),i.register("eDtr3",(function(t,n){e(t.exports,"shouldNavigateToSwapper",(function(){return r}));var o=i("iOvk1");const r=(e,t)=>{var n,r,i,a;const s=null===(a=null===(i=null===(r=null===(n=null==t?void 0:t.tokens)||void 0===n?void 0:n[0])||void 0===r?void 0:r.data)||void 0===i?void 0:i.chain)||void 0===a?void 0:a.id;return!e&&!!s&&!o.Chains.isBitcoinNetworkID(s)}})),i.register("lyOQw",(function(t,n){e(t.exports,"useIsExploreCollectionsLoading",(function(){return s}));var o=i("29o0l"),r=i("lFxNk"),a=i("9A7Xn");function s(e,t,n,i,s){const{isLoading:u}=(0,a.useRecommendedCollections)(t,n,i,s),{isLoading:c,isPreviousData:l}=(0,r.useCollections)(e,t,n,i,s),d=c||u&&!l;return(0,o.useMemo)((()=>({isExploreCollectionsLoading:d})),[d])}})),i.register("9A7Xn",(function(t,n){e(t.exports,"useRecommendedCollections",(function(){return f}));var o=i("43063"),r=i("3tdpt"),a=i("5uSEV"),s=i("RVqnc"),u=i("29o0l"),c=i("aAtpt"),l=i("2gKV2"),d=i("hSXsO"),p=i("ggjh9");const f=(e,t,n,i)=>{var f;const{platform:m,appVersion:g,activeSection:v}=(0,c.useExplore)(),{data:y}=t.useSelectedMultiChainAccount(),h=(0,u.useMemo)((()=>y?(0,p.getAccountMainnetNetworkIds)(y,i()):[]),[y,i]),S=null!==(f=(0,a.getSupportedLanguageValue)(o.i18next.language))&&void 0!==f?f:"en";return(0,r.useQuery)({queryKey:d.exploreQueryKeys.recommendedCollections(g,h,S),enabled:!!y&&"collections"===v,queryFn:()=>{if(!y)throw new Error("No account found");return(0,l.getRecommendedCollections)(e,h,g,S,m,y,n)},cacheTime:(0,s.toMilliseconds)({minutes:10}),staleTime:(0,s.toMilliseconds)({minutes:10})})}})),i.register("2gKV2",(function(t,n){e(t.exports,"getRecommendedCollections",(function(){return u}),(function(e){return u=e}));var o=i("4xbAj"),r=i("iOvk1"),a=i("beWYh"),s=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const u=(e,t,n,i,u,c,l)=>s(void 0,void 0,void 0,(function*(){var s,d;const p=null!==(s=null==c?void 0:c.addresses.map(r.chainAddressToCaip19Address))&&void 0!==s?s:[],f=(null==c?void 0:c.type)===o.AccountType.Seed?c.seedIdentifier:null,m=null!==(d=null==c?void 0:c.identifier)&&void 0!==d?d:"",g={appVersion:n,locale:i,platform:u,limit:6,timeframe:"24h",chainIds:t,accountId:m,deviceId:l,rootId:f,selectedAccountAddresses:p},v=`${e}/explore/v1/featured-collections`,y=yield a.rb.post(v,g);if(!(0,a.responseIsOkay)(y))throw new Error("Failed to fetch collections");const h=y.data;return Object.assign(Object.assign({},h),{data:h.data.filter((e=>e.floorPrices.length>0&&e.marketplacePages.length>0))})}))})),i.register("6ksRG",(function(t,n){e(t.exports,"useIsExploreSitesLoading",(function(){return s}));var o=i("29o0l"),r=i("5FhX9"),a=i("9HxvY");function s(e,t,n,i,s){const{isLoading:u,isPreviousData:c}=(0,a.useSites)(e,t,n,i,s),{isLoading:l}=(0,r.useRecommendedSites)(t,n,i,s),d=u&&!c||l;return(0,o.useMemo)((()=>({isExploreSitesLoading:d})),[d])}})),i.register("5FhX9",(function(t,n){e(t.exports,"useRecommendedSites",(function(){return f}));var o=i("43063"),r=i("3tdpt"),a=i("5uSEV"),s=i("RVqnc"),u=i("29o0l"),c=i("aAtpt"),l=i("kOrpb"),d=i("hSXsO"),p=i("ggjh9");const f=(e,t,n,i)=>{var f;const{platform:m,appVersion:g,activeSection:v}=(0,c.useExplore)(),{data:y}=t.useSelectedMultiChainAccount(),h=(0,u.useMemo)((()=>y?(0,p.getAccountMainnetNetworkIds)(y,i()):[]),[y,i]),S=null!==(f=(0,a.getSupportedLanguageValue)(o.i18next.language))&&void 0!==f?f:"en";return(0,r.useQuery)({queryKey:d.exploreQueryKeys.recommendedSites(g,h,S),enabled:!!y&&"sites"===v,queryFn:()=>{if(!y)throw new Error("No account found");return(0,l.getRecommendedSites)(e,h,g,S,m,y,n)},cacheTime:(0,s.toMilliseconds)({minutes:10}),staleTime:(0,s.toMilliseconds)({minutes:10})})}})),i.register("kOrpb",(function(t,n){e(t.exports,"getRecommendedSites",(function(){return u}),(function(e){return u=e}));var o=i("4xbAj"),r=i("iOvk1"),a=i("beWYh"),s=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const u=(e,t,n,i,u,c,l)=>s(void 0,void 0,void 0,(function*(){var s,d;const p=null!==(s=null==c?void 0:c.addresses.map(r.chainAddressToCaip19Address))&&void 0!==s?s:[],f=(null==c?void 0:c.type)===o.AccountType.Seed?c.seedIdentifier:null,m=null!==(d=null==c?void 0:c.identifier)&&void 0!==d?d:"",g={appVersion:n,locale:i,platform:u,limit:6,timeframe:"24h",chainIds:t,accountId:m,deviceId:l,rootId:f,selectedAccountAddresses:p},v=`${e}/explore/v1/featured-dapps`,y=yield a.rb.post(v,g);if(!(0,a.responseIsOkay)(y))throw new Error("Failed to fetch sites");return yield y.data}))})),i.register("9HxvY",(function(t,n){e(t.exports,"useSites",(function(){return p}));var o=i("43063"),r=i("3tdpt"),a=i("5uSEV"),s=i("RVqnc"),u=i("aAtpt"),c=i("9d4Nm"),l=i("hSXsO"),d=i("2gAtf");const p=(e,t,n,i,p)=>{var f;const{platform:m,appVersion:g,activeSection:v}=(0,u.useExplore)(),{networkIds:y}=(0,d.useExploreSelectedNetwork)(e,n,p),{data:h,isLoading:S}=(0,d.useExploreSortSites)(e),{data:b}=n.useSelectedMultiChainAccount(),k=null!==(f=(0,a.getSupportedLanguageValue)(o.i18next.language))&&void 0!==f?f:"en";return(0,r.useQuery)({queryKey:l.exploreQueryKeys.sites(h,y,g,k),enabled:!S&&!!b&&"sites"===v,queryFn:()=>{if(!b)throw new Error("No account found");return(0,c.getSites)(h,y,t,g,k,m,b,i)},keepPreviousData:!0,cacheTime:(0,s.toMilliseconds)({minutes:10}),staleTime:(0,s.toMilliseconds)({minutes:10})})}})),i.register("9d4Nm",(function(t,n){e(t.exports,"getSites",(function(){return u}),(function(e){return u=e}));var o=i("4xbAj"),r=i("iOvk1"),a=i("beWYh"),s=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const u=(e,t,n,i,u,c,l,d)=>s(void 0,void 0,void 0,(function*(){var s,p;const f=null!==(s=null==l?void 0:l.addresses.map(r.chainAddressToCaip19Address))&&void 0!==s?s:[],m=(null==l?void 0:l.type)===o.AccountType.Seed?l.seedIdentifier:null,g=null!==(p=null==l?void 0:l.identifier)&&void 0!==p?p:"",v={appVersion:i,locale:u,platform:c,limit:10,timeframe:"24h",rankBy:e,chainIds:t,accountId:g,deviceId:d,rootId:m,selectedAccountAddresses:f},y=`${n}/explore/v1/trending-dapps`,h=yield a.rb.post(y,v);if(!(0,a.responseIsOkay)(h))throw new Error("Failed to fetch sites");return h.data}))})),i.register("jpW7j",(function(t,n){e(t.exports,"useIsExploreTokensLoading",(function(){return u}));var o=i("29o0l"),r=i("2gAtf"),a=i("7YRkB"),s=i("iH1mQ");function u(e,t,n,i,u){const{isLoading:c}=(0,a.useRecommendedTokens)(t,n,i,u),{isLoading:l,isPreviousData:d}=(0,s.useTokens)(e,t,n,i,u),{isLoading:p}=(0,r.useExploreSortOption)(e),f=l&&!d||c||p;return(0,o.useMemo)((()=>({isExploreTokensLoading:f})),[f])}})),i.register("7YRkB",(function(t,n){e(t.exports,"useRecommendedTokens",(function(){return f}));var o=i("43063"),r=i("3tdpt"),a=i("5uSEV"),s=i("RVqnc"),u=i("29o0l"),c=i("aAtpt"),l=i("8v9Wp"),d=i("hSXsO"),p=i("ggjh9");const f=(e,t,n,i)=>{var f;const{platform:m,appVersion:g,activeSection:v}=(0,c.useExplore)(),{data:y}=t.useSelectedMultiChainAccount(),h=(0,u.useMemo)((()=>y?(0,p.getAccountMainnetNetworkIds)(y,i()):[]),[y,i]),S=null!==(f=(0,a.getSupportedLanguageValue)(o.i18next.language))&&void 0!==f?f:"en";return(0,r.useQuery)({queryKey:d.exploreQueryKeys.recommendedTokens(g,h,S),enabled:!!y&&"tokens"===v,queryFn:()=>{if(!y)throw new Error("No account found");return(0,l.getRecommendedTokens)(e,h,g,S,m,y,n)},cacheTime:(0,s.toMilliseconds)({minutes:10}),staleTime:(0,s.toMilliseconds)({minutes:10})})}})),i.register("8v9Wp",(function(t,n){e(t.exports,"getRecommendedTokens",(function(){return u}),(function(e){return u=e}));var o=i("4xbAj"),r=i("iOvk1"),a=i("beWYh"),s=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const u=(e,t,n,i,u,c,l)=>s(void 0,void 0,void 0,(function*(){var s,d;const p=null!==(s=null==c?void 0:c.addresses.map(r.chainAddressToCaip19Address))&&void 0!==s?s:[],f=(null==c?void 0:c.type)===o.AccountType.Seed?c.seedIdentifier:null,m=null!==(d=null==c?void 0:c.identifier)&&void 0!==d?d:"",g={appVersion:n,locale:i,platform:u,limit:6,timeframe:"24h",chainIds:t,accountId:m,deviceId:l,rootId:f,selectedAccountAddresses:p},v=yield a.rb.post(`${e}/explore/v1/featured-tokens`,g);if(!(0,a.responseIsOkay)(v))throw new Error("Failed to fetch tokens");const y=v.data;return Object.assign(Object.assign({},y),{data:y.data.filter((e=>e.tokens.length>0))})}))})),i.register("iH1mQ",(function(t,n){e(t.exports,"useTokens",(function(){return p}));var o=i("43063"),r=i("3tdpt"),a=i("5uSEV"),s=i("RVqnc"),u=i("aAtpt"),c=i("2dXn0"),l=i("hSXsO"),d=i("2gAtf");const p=(e,t,n,i,p)=>{var f;const{platform:m,appVersion:g,activeSection:v}=(0,u.useExplore)(),{networkIds:y}=(0,d.useExploreSelectedNetwork)(e,n,p),{data:h}=n.useSelectedMultiChainAccount(),{data:S,isLoading:b}=(0,d.useExploreSortTokens)(e),k=null!==(f=(0,a.getSupportedLanguageValue)(o.i18next.language))&&void 0!==f?f:"en";return(0,r.useQuery)({queryKey:l.exploreQueryKeys.tokens(S,y,g,k),enabled:!b&&!!h&&"tokens"===v,keepPreviousData:!0,queryFn:()=>{if(!h)throw new Error("No account found");return(0,c.getTokens)(S,y,t,g,k,m,h,i)},cacheTime:(0,s.toMilliseconds)({minutes:10}),staleTime:(0,s.toMilliseconds)({minutes:10})})}})),i.register("2dXn0",(function(t,n){e(t.exports,"getTokens",(function(){return u}),(function(e){return u=e}));var o=i("4xbAj"),r=i("iOvk1"),a=i("beWYh"),s=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const u=(e,t,n,i,u,c,l,d)=>s(void 0,void 0,void 0,(function*(){var s,p;const f=null!==(s=null==l?void 0:l.addresses.map(r.chainAddressToCaip19Address))&&void 0!==s?s:[],m=(null==l?void 0:l.type)===o.AccountType.Seed?l.seedIdentifier:null,g=null!==(p=null==l?void 0:l.identifier)&&void 0!==p?p:"",v={appVersion:i,locale:u,platform:c,limit:10,timeframe:"24h",rankBy:e,chainIds:t,accountId:g,deviceId:d,rootId:m,selectedAccountAddresses:f},y=yield a.rb.post(`${n}/explore/v1/trending-tokens`,v);if(!(0,a.responseIsOkay)(y))throw new Error("Failed to fetch tokens");const h=y.data;return Object.assign(Object.assign({},h),{data:h.data.filter((e=>e.tokens.length>0))})}))})),i.register("1z5C9",(function(t,n){e(t.exports,"useLearn",(function(){return f}),(function(e){return f=e}));var o=i("43063"),r=i("3tdpt"),a=i("5uSEV"),s=i("29o0l"),u=i("aAtpt"),c=i("jlkga"),l=i("hSXsO"),d=i("ggjh9"),p=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const f=(e,t,n)=>{var i;const{platform:f,appVersion:m}=(0,u.useExplore)(),{data:g}=t.useSelectedMultiChainAccount(),{data:v}=t.useSelectedMultiChainAccount(),y=(0,s.useMemo)((()=>v?(0,d.getAccountMainnetNetworkIds)(v,n()):[]),[v,n]),h=null!==(i=(0,a.getSupportedLanguageValue)(o.i18next.language))&&void 0!==i?i:"en";return(0,r.useQuery)({queryKey:l.exploreQueryKeys.learn(m,y,h),enabled:!!g,queryFn:()=>p(void 0,void 0,void 0,(function*(){return(0,c.getLearnItems)(e,y,m,h,f)})),refetchOnMount:"always"})}})),i.register("jlkga",(function(t,n){e(t.exports,"getLearnItems",(function(){return a}),(function(e){return a=e}));var o=i("beWYh"),r=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const a=(e,t,n,i,a)=>r(void 0,void 0,void 0,(function*(){const r={chainIds:t,platform:a,locale:i,appVersion:n},s=`${e}/explore/v1/learn-grid`,u=yield o.rb.post(s,r);if(!(0,o.responseIsOkay)(u))throw new Error("Failed to fetch learn grid");return u.data}))})),i.register("iD3EL",(function(t,n){e(t.exports,"useRecommendedSearchDapps",(function(){return p}),(function(e){return p=e}));var o=i("2onIY"),r=i("3tdpt"),a=i("beWYh"),s=i("csW2r"),u=i("RVqnc"),c=i("ggjh9"),l=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const d=e=>l(void 0,void 0,void 0,(function*(){const t=yield a.rb.get((e=>{const t={isRecommended:"true"};e.networkIds&&(t.chainIds=e.networkIds.join(","));const n=new URLSearchParams(t);return`${(0,o.getAPIEnvironment)()}/dapps/v1?${n.toString()}`})(e));if(500===t.status)throw new Error("Error fetching recommended dapps from registry");return(yield t.data).data})),p=e=>{const t=(0,r.useQueryClient)();return(0,r.useQuery)({queryKey:["dapps","recommended",e],queryFn:()=>d(e),cacheTime:(0,u.toMilliseconds)({days:1}),staleTime:(0,u.toMilliseconds)({days:1}),onError:e=>{s.telemetry.captureError(e,s.FeatureTag.DappRegistry)},onSuccess:e=>{r.notifyManager.batch((()=>{for(const n of null!=e?e:[]){const e=(0,c.createExploreDappQueryKey)(n.domain),o=t.getQueryState(e);t.setQueryData(e,(()=>{var e;return null!==(e=null!=n?n:null==o?void 0:o.data)&&void 0!==e?e:null}))}}))}})}})),i.register("5JgZn",(function(n,o){e(n.exports,"useExploreSearchList",(function(){return S}));var r=i("h0VH5"),a=i("iOvk1"),s=i("2onIY"),u=i("3ljHn"),c=i("5slFC"),l=i("56oyT"),d=i("3tdpt");i("lekXb");var p=i("jCZkg"),f=i("RVqnc"),m=i("aXHl0"),g=i("29o0l"),v=i("gjBV4"),y=i("iD3EL");const h={[c.SpamStatus.Verified]:1,[c.SpamStatus.NotVerified]:2,[c.SpamStatus.PossibleSpam]:3,[c.SpamStatus.Spam]:4},S=({searchQuery:e,networkIds:n,extraDapps:o=[],platform:i,showAllTokens:S="extension"===i})=>{const{data:[b]}=(0,u.useFeatureFlags)(["enable-explore-token-search"]),[k,w]=(0,g.useState)(!1),[A,T]=(0,g.useState)(!1),C=!!S||A;(0,g.useEffect)((()=>{w(!1),T(!1)}),[e]);const x=e.length>0&&b,{data:E=[],isLoading:I}=(0,p.useFungibleSearch)({query:e,networkIds:n,getApiEnvironment:s.getAPIEnvironment,enableQuery:x,searchContext:"explore",platform:i}),P=(0,g.useMemo)((()=>(x?E:[]).sort(((e,t)=>h[e.data.spamStatus]-h[t.data.spamStatus]))),[E,x]),F=(0,g.useMemo)((()=>P.slice(0,C?50:3)),[C,P]),N=P.map((e=>(0,a.encodeCaip19)((0,c.getFungibleCaip19FromFungible)(e)))),D=(0,d.useQueryClient)(),O=(0,r.useAnalytics)(),{data:M={},isLoading:L}=(0,l.usePrices)({queryClient:D,getApiEnvironment:s.getAPIEnvironment,query:{data:N},enabled:N.length>0,analytics:O}),{data:R=[],isLoading:B}=(0,y.useRecommendedSearchDapps)({networkIds:n}),U=(0,g.useMemo)((()=>{const e=[...R,...o],n=t(m)(e,(e=>(0,f.removeWebPrefixes)(e.domain)));return Object.values(n)}),[R,o]),_=(0,f.useFuse)(U,(0,f.removeWebPrefixes)(e),v.FUSE_EXPLORE_DAPPS_CONFIG),z=t(m)(_,(e=>(0,f.removeWebPrefixes)(e.domain))),V=Object.values(z),j=V.slice(0,k?50:3),Q=!!e,q=x?B||I:B,H=Q&&!q,K=(0,g.useMemo)((()=>({dapps:R,searchedDapps:j,renderShowMoreDappsButton:V.length>3,isLoading:q,tokens:F,renderShowMoreTokensButton:P.length>3,priceMap:M,isPriceMapLoading:L,showSearchResults:H,showMoreTokens:C,setShowMoreTokens:T,showMoreDapps:k,setShowMoreDapps:w,isTokenSearchEnabled:x})),[R,j,V.length,q,F,P.length,M,L,H,C,k,x]),[W,G]=(0,g.useState)(null),$=((e,t=100)=>{const[n,o]=(0,g.useState)(!1);return(0,g.useEffect)((()=>{let n;return e?n=setTimeout((()=>o(!0)),t):o(!1),()=>clearTimeout(n)}),[e,t]),n})(q);(0,g.useEffect)((()=>{K.isLoading||G(e?K:null)}),[K.isLoading,e]);const Y=K.isLoading&&W?W:K;return Object.assign(Object.assign({},Y),{showSpinner:$&&Q})}})),i.register("lekXb",(function(t,n){e(t.exports,"useFungibleSearch",(function(){return i("jCZkg").useFungibleSearch}));i("jCZkg"),i("2DtqL")})),i.register("jCZkg",(function(t,n){e(t.exports,"useFungibleSearch",(function(){return l}),(function(e){return l=e}));var o=i("3tdpt"),r=i("94RxS"),a=i("2DtqL"),s=i("jdGCY"),u=i("ehDYr"),c=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const l=({query:e,networkIds:t,includeBridgeableTokens:n,enableQuery:i=!0,keepPreviousData:l=!1,getApiEnvironment:d,searchContext:p,platform:f})=>{const m=d(),g=s.searchQueryKeys.searchResults(e,t,m);return(0,o.useQuery)({queryKey:g,cacheTime:u.CacheTime.Short,staleTime:u.StaleTime.Short,enabled:i,keepPreviousData:l,queryFn:()=>c(void 0,[{query:e,networkIds:t,includeBridgeableTokens:n,apiEnv:m,searchContext:p,platform:f}],void 0,(function*({query:e,networkIds:t,includeBridgeableTokens:n,apiEnv:o,searchContext:i,platform:s}){return(yield(0,r.getFungibleSearch)({apiEnv:o,query:e,networkIds:t,includeBridgeableTokens:n,searchContext:i,platform:s})).results.map((e=>(0,a.searchResultToFungible)(e)))}))})}})),i.register("94RxS",(function(t,n){e(t.exports,"getFungibleSearch",(function(){return u}),(function(e){return u=e}));var o=i("43063"),r=i("beWYh"),a=i("cd10K"),s=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};function u(e){return s(this,void 0,void 0,(function*(){const{apiEnv:t,query:n,networkIds:i,searchContext:s,platform:u}=e,c=yield r.rb.headers({"Content-Type":"application/json"}).get(`${t}/search/v1`,{params:{query:n,chainIds:i.join(","),platform:u,pageSize:"50",searchTypes:a.SearchAssetType.Fungible,searchContext:s}});if(!(0,r.responseIsOkay)(c))throw new(0,o.LocalizedError)({key:"UnknownError"});const l=a.SearchResults.safeParse(c.data);if(l.success)return l.data;throw new(0,o.LocalizedError)({key:"UnknownError"})}))}})),i.register("cd10K",(function(t,n){e(t.exports,"SearchAssetType",(function(){return o})),e(t.exports,"SearchResults",(function(){return u}));var o,r=i("5slFC"),a=i("7XqVB");(o||(o={})).Fungible="fungible";const s=a.z.object({type:a.z.literal(o.Fungible),data:r.TokenMetadata}),u=a.z.object({results:a.z.array(s),prevCursor:a.z.string().nullable(),nextCursor:a.z.string().nullable(),hasMore:a.z.boolean()})})),i.register("2DtqL",(function(t,n){e(t.exports,"searchResultToFungible",(function(){return r}));var o=i("5slFC");const r=e=>{var t,n;const r=e.data,i=null!==(t=(0,o.getTokenAddressFromFungible)(r))&&void 0!==t?t:void 0;return{type:r.type,data:Object.assign(Object.assign({},r.data),{tokenAddress:null!==(n=(0,o.getTokenAddressFromFungible)(r))&&void 0!==n?n:void 0,key:i})}}})),i.register("jdGCY",(function(t,n){e(t.exports,"searchQueryKeys",(function(){return o}));const o={searchResults:(e,t,n)=>["search",{query:e,networkIds:t,apiEnv:n}]}})),i.register("ehDYr",(function(t,n){e(t.exports,"CacheTime",(function(){return o})),e(t.exports,"StaleTime",(function(){return a}));var o,r,a,s,u=i("RVqnc");(r=o||(o={}))[r.Always=1/0]="Always",r[r.Short=(0,u.toMilliseconds)({minutes:5})]="Short",r[r.Medium=(0,u.toMilliseconds)({minutes:30})]="Medium",r[r.Long=(0,u.toMilliseconds)({hours:1})]="Long",r[r.Never=0]="Never",(s=a||(a={}))[s.Immediate=0]="Immediate",s[s.Short=(0,u.toMilliseconds)({minutes:5})]="Short",s[s.Medium=(0,u.toMilliseconds)({minutes:30})]="Medium",s[s.Long=(0,u.toMilliseconds)({hours:1})]="Long"})),i.register("aXHl0",(function(e,t){var o=200,r="Expected a function",i="__lodash_hash_undefined__",a=1,s=2,u=1/0,c=9007199254740991,l="[object Arguments]",d="[object Array]",p="[object Boolean]",f="[object Date]",m="[object Error]",g="[object Function]",v="[object GeneratorFunction]",y="[object Map]",h="[object Number]",S="[object Object]",b="[object Promise]",k="[object RegExp]",w="[object Set]",A="[object String]",T="[object Symbol]",C="[object WeakMap]",x="[object ArrayBuffer]",E="[object DataView]",I=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,P=/^\w*$/,F=/^\./,N=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,D=/\\(\\)?/g,O=/^\[object .+?Constructor\]$/,M=/^(?:0|[1-9]\d*)$/,L={};L["[object Float32Array]"]=L["[object Float64Array]"]=L["[object Int8Array]"]=L["[object Int16Array]"]=L["[object Int32Array]"]=L["[object Uint8Array]"]=L["[object Uint8ClampedArray]"]=L["[object Uint16Array]"]=L["[object Uint32Array]"]=!0,L[l]=L[d]=L[x]=L[p]=L[E]=L[f]=L[m]=L[g]=L[y]=L[h]=L[S]=L[k]=L[w]=L[A]=L[C]=!1;var R="object"==typeof n&&n&&n.Object===Object&&n,B="object"==typeof self&&self&&self.Object===Object&&self,U=R||B||Function("return this")(),_=t&&!t.nodeType&&t,z=_&&e&&!e.nodeType&&e,V=z&&z.exports===_&&R.process,j=function(){try{return V&&V.binding("util")}catch(e){}}(),Q=j&&j.isTypedArray;function q(e,t,n,o){for(var r=-1,i=e?e.length:0;++r<i;){var a=e[r];t(o,a,n(a),e)}return o}function H(e,t){for(var n=-1,o=e?e.length:0;++n<o;)if(t(e[n],n,e))return!0;return!1}function K(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function W(e){var t=-1,n=Array(e.size);return e.forEach((function(e,o){n[++t]=[o,e]})),n}function G(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var $,Y,X,Z=Array.prototype,J=Function.prototype,ee=Object.prototype,te=U["__core-js_shared__"],ne=($=/[^.]+$/.exec(te&&te.keys&&te.keys.IE_PROTO||""))?"Symbol(src)_1."+$:"",oe=J.toString,re=ee.hasOwnProperty,ie=ee.toString,ae=RegExp("^"+oe.call(re).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),se=U.Symbol,ue=U.Uint8Array,ce=ee.propertyIsEnumerable,le=Z.splice,de=(Y=Object.keys,X=Object,function(e){return Y(X(e))}),pe=We(U,"DataView"),fe=We(U,"Map"),me=We(U,"Promise"),ge=We(U,"Set"),ve=We(U,"WeakMap"),ye=We(Object,"create"),he=tt(pe),Se=tt(fe),be=tt(me),ke=tt(ge),we=tt(ve),Ae=se?se.prototype:void 0,Te=Ae?Ae.valueOf:void 0,Ce=Ae?Ae.toString:void 0;function xe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function Ee(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function Ie(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function Pe(e){var t=-1,n=e?e.length:0;for(this.__data__=new Ie;++t<n;)this.add(e[t])}function Fe(e){this.__data__=new Ee(e)}function Ne(e,t){var n=ut(e)||st(e)?function(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}(e.length,String):[],o=n.length,r=!!o;for(var i in e)!t&&!re.call(e,i)||r&&("length"==i||$e(i,o))||n.push(i);return n}function De(e,t){for(var n=e.length;n--;)if(at(e[n][0],t))return n;return-1}function Oe(e,t,n,o){return Re(e,(function(e,r,i){t(o,e,n(e),i)})),o}xe.prototype.clear=function(){this.__data__=ye?ye(null):{}},xe.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},xe.prototype.get=function(e){var t=this.__data__;if(ye){var n=t[e];return n===i?void 0:n}return re.call(t,e)?t[e]:void 0},xe.prototype.has=function(e){var t=this.__data__;return ye?void 0!==t[e]:re.call(t,e)},xe.prototype.set=function(e,t){return this.__data__[e]=ye&&void 0===t?i:t,this},Ee.prototype.clear=function(){this.__data__=[]},Ee.prototype.delete=function(e){var t=this.__data__,n=De(t,e);return!(n<0)&&(n==t.length-1?t.pop():le.call(t,n,1),!0)},Ee.prototype.get=function(e){var t=this.__data__,n=De(t,e);return n<0?void 0:t[n][1]},Ee.prototype.has=function(e){return De(this.__data__,e)>-1},Ee.prototype.set=function(e,t){var n=this.__data__,o=De(n,e);return o<0?n.push([e,t]):n[o][1]=t,this},Ie.prototype.clear=function(){this.__data__={hash:new xe,map:new(fe||Ee),string:new xe}},Ie.prototype.delete=function(e){return Ke(this,e).delete(e)},Ie.prototype.get=function(e){return Ke(this,e).get(e)},Ie.prototype.has=function(e){return Ke(this,e).has(e)},Ie.prototype.set=function(e,t){return Ke(this,e).set(e,t),this},Pe.prototype.add=Pe.prototype.push=function(e){return this.__data__.set(e,i),this},Pe.prototype.has=function(e){return this.__data__.has(e)},Fe.prototype.clear=function(){this.__data__=new Ee},Fe.prototype.delete=function(e){return this.__data__.delete(e)},Fe.prototype.get=function(e){return this.__data__.get(e)},Fe.prototype.has=function(e){return this.__data__.has(e)},Fe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ee){var r=n.__data__;if(!fe||r.length<o-1)return r.push([e,t]),this;n=this.__data__=new Ie(r)}return n.set(e,t),this};var Me,Le,Re=(Me=function(e,t){return e&&Be(e,t,vt)},function(e,t){if(null==e)return e;if(!ct(e))return Me(e,t);for(var n=e.length,o=Le?n:-1,r=Object(e);(Le?o--:++o<n)&&!1!==t(r[o],o,r););return e}),Be=function(e){return function(t,n,o){for(var r=-1,i=Object(t),a=o(t),s=a.length;s--;){var u=a[e?s:++r];if(!1===n(i[u],u,i))break}return t}}();function Ue(e,t){for(var n=0,o=(t=Ye(t,e)?[t]:qe(t)).length;null!=e&&n<o;)e=e[et(t[n++])];return n&&n==o?e:void 0}function _e(e,t){return null!=e&&t in Object(e)}function ze(e,t,n,o,r){return e===t||(null==e||null==t||!pt(e)&&!ft(t)?e!=e&&t!=t:function(e,t,n,o,r,i){var u=ut(e),c=ut(t),g=d,v=d;u||(g=(g=Ge(e))==l?S:g);c||(v=(v=Ge(t))==l?S:v);var b=g==S&&!K(e),C=v==S&&!K(t),I=g==v;if(I&&!b)return i||(i=new Fe),u||gt(e)?He(e,t,n,o,r,i):function(e,t,n,o,r,i,u){switch(n){case E:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x:return!(e.byteLength!=t.byteLength||!o(new ue(e),new ue(t)));case p:case f:case h:return at(+e,+t);case m:return e.name==t.name&&e.message==t.message;case k:case A:return e==t+"";case y:var c=W;case w:var l=i&s;if(c||(c=G),e.size!=t.size&&!l)return!1;var d=u.get(e);if(d)return d==t;i|=a,u.set(e,t);var g=He(c(e),c(t),o,r,i,u);return u.delete(e),g;case T:if(Te)return Te.call(e)==Te.call(t)}return!1}(e,t,g,n,o,r,i);if(!(r&s)){var P=b&&re.call(e,"__wrapped__"),F=C&&re.call(t,"__wrapped__");if(P||F){var N=P?e.value():e,D=F?t.value():t;return i||(i=new Fe),n(N,D,o,r,i)}}return!!I&&(i||(i=new Fe),function(e,t,n,o,r,i){var a=r&s,u=vt(e),c=u.length,l=vt(t),d=l.length;if(c!=d&&!a)return!1;var p=c;for(;p--;){var f=u[p];if(!(a?f in t:re.call(t,f)))return!1}var m=i.get(e);if(m&&i.get(t))return m==t;var g=!0;i.set(e,t),i.set(t,e);var v=a;for(;++p<c;){var y=e[f=u[p]],h=t[f];if(o)var S=a?o(h,y,f,t,e,i):o(y,h,f,e,t,i);if(!(void 0===S?y===h||n(y,h,o,r,i):S)){g=!1;break}v||(v="constructor"==f)}if(g&&!v){var b=e.constructor,k=t.constructor;b==k||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof k&&k instanceof k||(g=!1)}return i.delete(e),i.delete(t),g}(e,t,n,o,r,i))}(e,t,ze,n,o,r))}function Ve(e){return!(!pt(e)||function(e){return!!ne&&ne in e}(e))&&(lt(e)||K(e)?ae:O).test(tt(e))}function je(e){return"function"==typeof e?e:null==e?yt:"object"==typeof e?ut(e)?(o=e[0],r=e[1],Ye(o)&&Xe(r)?Ze(et(o),r):function(e){var t=function(e,t,n){var o=null==e?void 0:Ue(e,t);return void 0===o?n:o}(e,o);return void 0===t&&t===r?function(e,t){return null!=e&&function(e,t,n){t=Ye(t,e)?[t]:qe(t);for(var o,r=-1,i=t.length;++r<i;){var a=et(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||!!(i=e?e.length:0)&&dt(i)&&$e(a,i)&&(ut(e)||st(e))}(e,t,_e)}(e,o):ze(r,t,void 0,a|s)}):(n=function(e){for(var t=vt(e),n=t.length;n--;){var o=t[n],r=e[o];t[n]=[o,r,Xe(r)]}return t}(t=e),1==n.length&&n[0][2]?Ze(n[0][0],n[0][1]):function(e){return e===t||function(e,t,n,o){var r=n.length,i=r,u=!o;if(null==e)return!i;for(e=Object(e);r--;){var c=n[r];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++r<i;){var l=(c=n[r])[0],d=e[l],p=c[1];if(u&&c[2]){if(void 0===d&&!(l in e))return!1}else{var f=new Fe;if(o)var m=o(d,p,l,e,t,f);if(!(void 0===m?ze(p,d,o,a|s,f):m))return!1}}return!0}(e,t,n)}):function(e){return Ye(e)?(t=et(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return Ue(t,e)}}(e);var t}(e);var t,n,o,r}function Qe(e){if(n=(t=e)&&t.constructor,o="function"==typeof n&&n.prototype||ee,t!==o)return de(e);var t,n,o,r=[];for(var i in Object(e))re.call(e,i)&&"constructor"!=i&&r.push(i);return r}function qe(e){return ut(e)?e:Je(e)}function He(e,t,n,o,r,i){var u=r&s,c=e.length,l=t.length;if(c!=l&&!(u&&l>c))return!1;var d=i.get(e);if(d&&i.get(t))return d==t;var p=-1,f=!0,m=r&a?new Pe:void 0;for(i.set(e,t),i.set(t,e);++p<c;){var g=e[p],v=t[p];if(o)var y=u?o(v,g,p,t,e,i):o(g,v,p,e,t,i);if(void 0!==y){if(y)continue;f=!1;break}if(m){if(!H(t,(function(e,t){if(!m.has(t)&&(g===e||n(g,e,o,r,i)))return m.add(t)}))){f=!1;break}}else if(g!==v&&!n(g,v,o,r,i)){f=!1;break}}return i.delete(e),i.delete(t),f}function Ke(e,t){var n,o,r=e.__data__;return("string"==(o=typeof(n=t))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function We(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ve(n)?n:void 0}var Ge=function(e){return ie.call(e)};function $e(e,t){return!!(t=null==t?c:t)&&("number"==typeof e||M.test(e))&&e>-1&&e%1==0&&e<t}function Ye(e,t){if(ut(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!mt(e))||(P.test(e)||!I.test(e)||null!=t&&e in Object(t))}function Xe(e){return e==e&&!pt(e)}function Ze(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}(pe&&Ge(new pe(new ArrayBuffer(1)))!=E||fe&&Ge(new fe)!=y||me&&Ge(me.resolve())!=b||ge&&Ge(new ge)!=w||ve&&Ge(new ve)!=C)&&(Ge=function(e){var t=ie.call(e),n=t==S?e.constructor:void 0,o=n?tt(n):void 0;if(o)switch(o){case he:return E;case Se:return y;case be:return b;case ke:return w;case we:return C}return t});var Je=it((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(mt(e))return Ce?Ce.call(e):"";var t=e+"";return"0"==t&&1/e==-u?"-0":t}(t);var n=[];return F.test(e)&&n.push(""),e.replace(N,(function(e,t,o,r){n.push(o?r.replace(D,"$1"):t||e)})),n}));function et(e){if("string"==typeof e||mt(e))return e;var t=e+"";return"0"==t&&1/e==-u?"-0":t}function tt(e){if(null!=e){try{return oe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var nt,ot,rt=(nt=function(e,t,n){e[n]=t},function(e,t){var n=ut(e)?q:Oe,o=ot?ot():{};return n(e,nt,je(t),o)});function it(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(r);var n=function(){var o=arguments,r=t?t.apply(this,o):o[0],i=n.cache;if(i.has(r))return i.get(r);var a=e.apply(this,o);return n.cache=i.set(r,a),a};return n.cache=new(it.Cache||Ie),n}function at(e,t){return e===t||e!=e&&t!=t}function st(e){return function(e){return ft(e)&&ct(e)}(e)&&re.call(e,"callee")&&(!ce.call(e,"callee")||ie.call(e)==l)}it.Cache=Ie;var ut=Array.isArray;function ct(e){return null!=e&&dt(e.length)&&!lt(e)}function lt(e){var t=pt(e)?ie.call(e):"";return t==g||t==v}function dt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=c}function pt(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ft(e){return!!e&&"object"==typeof e}function mt(e){return"symbol"==typeof e||ft(e)&&ie.call(e)==T}var gt=Q?function(e){return function(t){return e(t)}}(Q):function(e){return ft(e)&&dt(e.length)&&!!L[ie.call(e)]};function vt(e){return ct(e)?Ne(e):Qe(e)}function yt(e){return e}e.exports=rt})),i.register("gjBV4",(function(t,n){e(t.exports,"FUSE_EXPLORE_DAPPS_CONFIG",(function(){return o}));const o={location:0,distance:50,threshold:.2,shouldSort:!0,keys:[{name:"domain",weight:.45},{name:"name",weight:.35},{name:"category",weight:.1},{name:"tags",weight:.1}]}})),i.register("5MRwA",(function(t,n){e(t.exports,"ExploreAnalytics",(function(){return a}),(function(e){return a=e}));var o,r=function(e,t,n,o,r){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?r.call(e,n):r?r.value=n:t.set(e,n),n},i=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};class a{constructor(e){o.set(this,void 0),this.onExploreTabClickedByUser=e=>{i(this,o,"f").capture("onExploreTabClickedByUser",{data:{explore:e}})},this.onExploreTabTitlesDragged=()=>{i(this,o,"f").capture("onExploreTabTitlesDragged")},this.onExploreFilterChangedByUser=e=>{i(this,o,"f").capture("onExploreFilterChangedByUser",{data:{explore:e}})},this.onExploreListShownToUser=e=>{i(this,o,"f").capture("onExploreListShownToUser",{data:{explore:e}})},this.onExploreCarouselShownToUser=e=>{i(this,o,"f").capture("onExploreCarouselShownToUser",{data:{explore:e}})},this.onExploreListItemClickedByUser=e=>{i(this,o,"f").capture("onExploreListItemClickedByUser",{data:{explore:e}})},this.onExploreCarouselItemClickedByUser=e=>{i(this,o,"f").capture("onExploreCarouselItemClickedByUser",{data:{explore:e}})},this.onExploreLearnItemClickedByUser=e=>{i(this,o,"f").capture("onExploreLearnItemClickedByUser",{data:{explore:e}})},this.onExploreCarouselDragged=e=>{i(this,o,"f").capture("onExploreCarouselDragged",{data:{explore:e}})},this.onExploreSearchedByUser=e=>{i(this,o,"f").capture("onExploreSearchedByUser",{data:{explore:e}})},this.onExploreSearchItemClickedByUser=e=>{i(this,o,"f").capture("onExploreSearchItemClickedByUser",{data:{explore:e}})},r(this,o,e,"f")}}o=new WeakMap})),i.register("bBa7X",(function(t,n){e(t.exports,"createFiatRampHooks",(function(){return i("i0dmL").createFiatRampHooks})),e(t.exports,"FIAT_RAMP_FUNGIBLES_QUERY_KEY",(function(){return i("7SrdS").FIAT_RAMP_FUNGIBLES_QUERY_KEY})),e(t.exports,"FUSE_SEARCH_CONFIG_TOKEN_WITH_PROVIDERS",(function(){return i("lEMey").FUSE_SEARCH_CONFIG_TOKEN_WITH_PROVIDERS})),e(t.exports,"getLegacyProviderUrl",(function(){return i("11axI").getLegacyProviderUrl}));i("i0dmL"),i("7SrdS"),i("8jXa8"),i("lEMey"),i("11axI")})),i.register("i0dmL",(function(t,n){e(t.exports,"createFiatRampHooks",(function(){return r}));var o=i("l9hpk");function r(e){return{useLegacyFiatRampTokens:(t,n)=>(0,o.useLegacyFiatRampTokens)(e,t,n)}}})),i.register("l9hpk",(function(t,n){e(t.exports,"useLegacyFiatRampTokens",(function(){return p}));var o=i("43063"),r=i("3tdpt"),a=i("5uSEV"),s=i("RVqnc"),u=i("adZZq"),c=i("7SrdS");const l=(0,s.toMilliseconds)({days:7}),d=(0,s.toMilliseconds)({hours:1}),p=(e,t,n)=>{var i;const s={chainIDs:t,locale:null!==(i=(0,a.getSupportedLanguageValue)(o.i18next.language))&&void 0!==i?i:"en",clientPlatform:n};return(0,r.useQuery)({queryKey:c.fiatRampQueryKeys.fiatFungibles(s),queryFn:()=>(0,u.getLegacyTokens)(e(),s),cacheTime:l,staleTime:d})}})),i.register("adZZq",(function(t,n){e(t.exports,"getLegacyTokens",(function(){return u}),(function(e){return u=e}));var o=i("beWYh"),r=i("8jXa8"),a=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const s=new(0,r.FiatRampError)("Failed to get fiat tokens and providers."),u=(e,t)=>a(void 0,void 0,void 0,(function*(){try{const n=yield o.rb.post(`${e}/fiat_ramp/v1/onramp/supported_tokens`,t);if(!(0,o.responseIsOkay)(n))throw s;const r=n.data;return c(r)}catch(e){throw s}})),c=e=>{const t=r.LegacyFiatRampSupportedTokensResponse.parse(e),n={};for(const e of t.providers)n[e.providerID]=e;return{providerIDToProvider:n,tokenWithProvidersList:t.tokens}}})),i.register("8jXa8",(function(t,n){e(t.exports,"FiatRampError",(function(){return f})),e(t.exports,"LegacyFiatRampSupportedTokensResponse",(function(){return v}));var o=i("iOvk1"),r=i("7mQ3Y"),a=i("7XqVB");const s=a.z.object({name:a.z.string().nullable(),symbol:a.z.string().nullable(),decimals:a.z.number(),caip19:o.FungibleCaip19,logoURI:a.z.string().nullable()}),u=a.z.object({token:s,quickSelectDenominations:a.z.array(a.z.string()).optional(),addressType:r.BitcoinAddressType.optional()});a.z.object({groups:a.z.array(a.z.object({groupName:a.z.string(),tokens:a.z.array(u)}))});var c,l;(l=c||(c={})).CARD="CARD",l.MOBILE_WALLET="MOBILE_WALLET",l.BANK_TRANSFER="BANK_TRANSFER",l.EXCHANGE="EXCHANGE",l.LOCAL="LOCAL";const d=a.z.object({type:a.z.nativeEnum(c),overrideTitle:a.z.string().optional(),overrideDescription:a.z.string().optional()}),p=(a.z.object({paymentMethods:a.z.array(d)}),a.z.object({id:a.z.string(),name:a.z.string(),logo:a.z.string(),url:a.z.string(),quote:a.z.object({token:o.FungibleCaip19,paymentMethod:a.z.nativeEnum(c),displaySourceAmount:a.z.string(),displayDestinationAmount:a.z.string(),displayFee:a.z.string()}).optional()}));a.z.object({groups:a.z.array(a.z.object({groupName:a.z.string(),providers:a.z.array(p)}))});class f extends Error{constructor(e){super(e),this.name="FiatRampError"}}const m=a.z.object({token:s,addressType:r.BitcoinAddressType.optional(),providerIDs:a.z.array(a.z.string())}),g=a.z.object({providerID:a.z.string(),name:a.z.string(),description:a.z.string(),badgeText:a.z.string().optional(),fiatRampProviderAsset:a.z.object({circleColor:a.z.string(),logoUri:a.z.string()})}),v=a.z.object({providers:a.z.array(g),tokens:a.z.array(m)})})),i.register("7SrdS",(function(t,n){e(t.exports,"FIAT_RAMP_FUNGIBLES_QUERY_KEY",(function(){return o})),e(t.exports,"fiatRampQueryKeys",(function(){return r}));const o="@phantom/fiat-ramp:fiat-fungibles",r={fiatFungibles:e=>[o,e]}})),i.register("lEMey",(function(t,n){e(t.exports,"FUSE_SEARCH_CONFIG_TOKEN_WITH_PROVIDERS",(function(){return o}));const o={location:0,distance:50,threshold:.2,shouldSort:!0,keys:[{name:"token.name",weight:.4},{name:"token.symbol",weight:.4},{name:"token.caip19.chainId",weight:.2}]}})),i.register("11axI",(function(t,n){e(t.exports,"getLegacyProviderUrl",(function(){return c}),(function(e){return c=e}));var o=i("iOvk1"),r=i("beWYh"),a=i("8jXa8"),s=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const u=new(0,a.FiatRampError)("Failed to get provider url");function c(e,t){return s(this,void 0,void 0,(function*(){try{(0,o.isEvmCaip19Address)(t.defaultToken)&&(t.defaultToken.address=t.defaultToken.address.toLowerCase()),t.userAddresses.forEach((e=>{(0,o.isEvmCaip19Address)(e)&&(e.address=e.address.toLowerCase())}));const n=yield r.rb.post(`${e}/fiat_ramp/v1/onramp/get_url`,t);if(!(0,r.responseIsOkay)(n))throw u;const i=yield n.data;if(!i.url)throw u;return i.url}catch(e){throw u}}))}})),i.register("ibwoK",(function(t,n){e(t.exports,"INTERSTITIALS_STORAGE_KEY",(function(){return i("lqr4n").INTERSTITIALS_STORAGE_KEY})),e(t.exports,"ActionBannerType",(function(){return i("bqmaR").ActionBannerType})),e(t.exports,"DeepLinkDestination",(function(){return i("bqmaR").DeepLinkDestination})),e(t.exports,"InterstitialFeature",(function(){return i("bqmaR").InterstitialFeature})),e(t.exports,"Platform",(function(){return i("bqmaR").Platform})),e(t.exports,"createInterstitialHooks",(function(){return i("4UO4j").createInterstitialHooks})),e(t.exports,"ACTION_BANNERS_QUERY_KEY",(function(){return i("g5ETd").ACTION_BANNERS_QUERY_KEY})),e(t.exports,"invalidateActionBanners",(function(){return i("adKVG").invalidateActionBanners})),e(t.exports,"ActionBannerAnalytics",(function(){return i("4QvCM").ActionBannerAnalytics})),e(t.exports,"generateActionBannerBaseAnalyticsPayload",(function(){return i("de6RR").generateActionBannerBaseAnalyticsPayload})),e(t.exports,"generateActionBannerInterstitialAnalyticsPayload",(function(){return i("de6RR").generateActionBannerInterstitialAnalyticsPayload})),e(t.exports,"ForceUpgradeStatus",(function(){return i("9OtLp").ForceUpgradeStatus}));i("lqr4n"),i("bqmaR"),i("4UO4j"),i("g5ETd"),i("adKVG"),i("4QvCM"),i("de6RR"),i("9OtLp")})),i.register("lqr4n",(function(t,n){e(t.exports,"INTERSTITIALS_STORAGE_KEY",(function(){return a}),(function(e){return a=e})),e(t.exports,"Interstitials",(function(){return s}),(function(e){return s=e}));var o=i("h5Ovd"),r=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const a=".phantom-labs.settings.interstitials";class s{static hasSeen(e,t,n){return r(this,void 0,void 0,(function*(){var r;const i=yield t.get(a);if(!i)return!1;const s=(0,o.getMostRecentVersion)(e,n);return(null!==(r=i.interstitialsSeen[e])&&void 0!==r?r:0)>=s}))}static setHasSeen(e,t,n){return r(this,void 0,void 0,(function*(){const r=yield t.get(a),i=(0,o.getMostRecentVersion)(e,n);yield t.set(a,{version:1,interstitialsSeen:Object.assign(Object.assign({},!!r&&r.interstitialsSeen),{[e]:i})})}))}static resetHasSeen(e,t){return r(this,void 0,void 0,(function*(){const n=yield t.get(a);if(n)return t.set(a,{version:1,interstitialsSeen:Object.assign(Object.assign({},n.interstitialsSeen),{[e]:void 0})})}))}static resetAllHasSeen(e){return r(this,void 0,void 0,(function*(){if(yield e.get(a))return e.set(a,{version:1,interstitialsSeen:{}})}))}}})),i.register("h5Ovd",(function(t,n){e(t.exports,"getMostRecentVersion",(function(){return s}));var o=i("bqmaR");const r={[o.InterstitialFeature.Multichain]:2,[o.InterstitialFeature.MultichainSwapper]:1,[o.InterstitialFeature.InvalidChecksum]:1,[o.InterstitialFeature.HelloBitcoin]:1},a={[o.InterstitialFeature.Multichain]:3,[o.InterstitialFeature.MultichainSwapper]:1,[o.InterstitialFeature.InvalidChecksum]:1,[o.InterstitialFeature.HelloBitcoin]:1},s=(e,t)=>{switch(t){case"mobile":return r[e];case"browser-ext":return a[e];default:return-1}}})),i.register("bqmaR",(function(t,n){var o,r,i,a,s,u,c,l;e(t.exports,"ActionBannerType",(function(){return o})),e(t.exports,"DeepLinkDestination",(function(){return i})),e(t.exports,"DismissActionBannerError",(function(){return d})),e(t.exports,"Platform",(function(){return s})),e(t.exports,"InterstitialFeature",(function(){return c})),(r=o||(o={})).DirectLink="Deep Link",r.Modal="Modal",r.BottomSheet="Bottom Sheet",(a=i||(i={})).Buy="Buy",a.Collectibles="Collectibles",a.ConnectHardwareWallet="Connect Hardware Wallet",a.ConvertToJito="Convert to Jito",a.Explore="Explore",a.Quests="Quests",a.MintCollectible="Mint Collectible",a.SettingsImportSeedPhrase="Settings: Import Seed Phrase",a.SettingsNotificationPreferences="Settings: Notification Preferences",a.SettingsSecurityAndPrivacy="Settings: Security & Privacy",a.Swapper="Swapper",a.ExternalLink="External Link";class d extends Error{constructor(){super(...arguments),this.message="Failed to set dismissed action banners to storage"}}(u=s||(s={})).BrowserExt="browser-ext",u.Mobile="mobile",(l=c||(c={})).Multichain="Multichain",l.MultichainSwapper="MultichainSwapper",l.InvalidChecksum="InvalidChecksum",l.HelloBitcoin="HelloBitcoin"})),i.register("4UO4j",(function(t,n){e(t.exports,"createInterstitialHooks",(function(){return c}));var o=i("jLpHS"),r=i("3vBXL"),a=i("acRbz"),s=i("aaWed"),u=i("kPEIC");function c(e,t,n,i,c,l){return{useActionBanners:n=>(0,o.useActionBanners)(n,t,i,e(),l),useDismissActionBanner:()=>(0,r.useDismissActionBanner)(t,n),useHasSeenInterstitial:e=>(0,s.useHasSeenInterstitial)(t,c,e),useSetHasSeenInterstitial:e=>(0,u.useSetHasSeenInterstitial)(t,c,e),useForceUpgrade:t=>(0,a.useForceUpgrade)(t,e())}}})),i.register("jLpHS",(function(t,n){e(t.exports,"useActionBanners",(function(){return g}),(function(e){return g=e}));var o=i("4xbAj"),r=i("iOvk1"),a=i("43063"),s=i("3tdpt"),u=i("5uSEV"),c=i("RVqnc"),l=i("7yXVL"),d=i("2UuBs"),p=i("g5ETd"),f=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const m=(0,c.toMilliseconds)({minutes:1}),g=(e,t,n,i,c)=>{const{platform:g,appVersion:v}=e,{data:y}=n.useAllMultiChainAccounts(o.selectNonReadOnlyAccounts),{data:h}=n.useSelectedMultiChainAccount();return(0,s.useQuery)({queryKey:p.interstitialQueryKeys.actionBanners(null==h?void 0:h.identifier),queryFn:()=>f(void 0,void 0,void 0,(function*(){var e,n,s,p;const f=null!==(e=null==y?void 0:y.flatMap((e=>e.addresses.map(r.chainAddressToCaip19Address))))&&void 0!==e?e:[],m=(null==h?void 0:h.type)!==o.AccountType.ReadOnly&&null!==(n=null==h?void 0:h.addresses.map(r.chainAddressToCaip19Address))&&void 0!==n?n:[],S=(null==h?void 0:h.type)===o.AccountType.Seed?h.seedIdentifier:null,b=yield(0,l.getDismissedActionBanners)(t),k=null!==(s=(0,u.getSupportedLanguageValue)(a.i18next.language))&&void 0!==s?s:"en";return(0,d.fetchActionBanners)({platform:g,appVersion:v,accountID:null!==(p=null==h?void 0:h.identifier)&&void 0!==p?p:"",deviceId:c.getDeviceId(),dismissedBanners:b,apiEnvironment:i,locale:k,rootId:S,selectedAccountAddresses:m,addresses:f})})),enabled:!!(null==h?void 0:h.identifier),staleTime:m})}})),i.register("7yXVL",(function(t,n){e(t.exports,"getDismissedActionBanners",(function(){return s}),(function(e){return s=e})),e(t.exports,"setDismissedActionBanners",(function(){return u}),(function(e){return u=e}));var o,r=i("bqmaR"),a=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};(o||(o={})).DismissActionBanners="dismissedActionBanners";const s=e=>a(void 0,void 0,void 0,(function*(){const t=yield e.get(o.DismissActionBanners);return null!=t?t:[]})),u=(e,t)=>a(void 0,void 0,void 0,(function*(){try{const n=yield s(e);if(n.includes(t))return;return e.set(o.DismissActionBanners,[...n,t])}catch(e){throw new(0,r.DismissActionBannerError)}}))})),i.register("2UuBs",(function(t,n){e(t.exports,"fetchActionBanners",(function(){return s}),(function(e){return s=e}));var o=i("gK2x8"),r=i("jeYks"),a=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const s=e=>a(void 0,[e],void 0,(function*({accountID:e,appVersion:t,deviceId:n,dismissedBanners:i,apiEnvironment:a,locale:s,platform:u,rootId:c,selectedAccountAddresses:l,addresses:d}){const p=yield(0,o.fetchSanityActionBanners)({platform:u,accountID:e,appVersion:t,deviceId:n,apiEnvironment:a,locale:s,rootId:c,selectedAccountAddresses:l,addresses:d});return Object.assign(Object.assign({},p),{banners:p.banners.filter((e=>(0,r.isActionBannerSupported)(e,u)&&!i.includes(e.id)))})}))})),i.register("gK2x8",(function(t,n){e(t.exports,"fetchSanityActionBanners",(function(){return u}),(function(e){return u=e}));var o=i("beWYh"),r=(i("csW2r"),i("5Z0Ji")),a=i("aYVC6"),s=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const u=e=>s(void 0,[e],void 0,(function*({accountID:e,appVersion:t,deviceId:n,apiEnvironment:i,locale:s,platform:u,rootId:l,selectedAccountAddresses:d,addresses:p}){var f;try{const m=new URL((0,r.GET_BANNERS_API_URL)({apiEnvironment:i})),g={accountID:e,deviceId:n,locale:s,platform:u,rootId:l,selectedAccountAddresses:d,version:t,addresses:p},v=yield o.rb.headers({"Content-Type":"application/json"}).post(m.toString(),g);if(400===v.status){const e=yield v.data,t=(0,a.formatErrorMessages)(e);throw new Error(t)}if(v.status<200||v.status>299)throw new Error(`status code: ${v.status}, body: ${yield v.statusText}`);const y=v.data;return y?Object.assign(Object.assign({},y),{banners:null!==(f=y.banners)&&void 0!==f?f:[]}):c}catch(e){return c}})),c={id:void 0,banners:[]}})),i.register("5Z0Ji",(function(t,n){e(t.exports,"GET_BANNERS_API_URL",(function(){return r})),e(t.exports,"FORCE_UPGRADE_API_URL",(function(){return a}));var o=i("2onIY");const r=({apiEnvironment:e})=>`${e}/banners/get_banners/${e===o.APIEnvironment.Staging?"staging":"prod"}/v2`,a=({apiEnvironment:e})=>`${e}/banners/force_upgrade/${e===o.APIEnvironment.Staging?"staging":"prod"}/v1`})),i.register("aYVC6",(function(t,n){e(t.exports,"formatErrorMessages",(function(){return o}));const o=e=>{const t=[];for(const n in e.errors)Array.isArray(e.errors[n])&&t.push(e.errors[n].join(", "));return t.join(", ")}})),i.register("jeYks",(function(t,n){e(t.exports,"isActionBannerSupported",(function(){return s}));var o=i("bqmaR"),r=i("9LaZr"),a=i("doyH5");const s=(e,t)=>{const{bannerType:n,destinationType:i}=e;switch(n){case o.ActionBannerType.DirectLink:return(0,r.isActionBannerDestinationSupported)(i);case o.ActionBannerType.BottomSheet:case o.ActionBannerType.Modal:return(0,a.isActionBannerInterstitialSupported)(n,t)&&(0,r.isActionBannerDestinationSupported)(i);default:return!1}}})),i.register("9LaZr",(function(t,n){e(t.exports,"isActionBannerDestinationSupported",(function(){return r}));var o=i("bqmaR");const r=e=>!!e&&Object.values(o.DeepLinkDestination).includes(e)})),i.register("doyH5",(function(t,n){e(t.exports,"isActionBannerInterstitialSupported",(function(){return r}));var o=i("bqmaR");const r=(e,t)=>{switch(e){case o.ActionBannerType.BottomSheet:return"ios"===t||"android"===t;case o.ActionBannerType.Modal:return!0;default:return!1}}})),i.register("g5ETd",(function(t,n){e(t.exports,"ACTION_BANNERS_QUERY_KEY",(function(){return r})),e(t.exports,"FORCE_UPGRADE_QUERY_KEY",(function(){return i})),e(t.exports,"interstitialQueryKeys",(function(){return a}));const o="@phantom/interstitials",r=`${o}:action-banners`,i=`${o}:force-upgrade`,a={actionBanners:e=>[r,{accountIdentifier:e}],hasSeenInterstitial:e=>[`${o}:has-seen-interstitial`,{feature:e}]}})),i.register("3vBXL",(function(t,n){e(t.exports,"useDismissActionBanner",(function(){return u}),(function(e){return u=e}));var o=i("3tdpt"),r=i("7yXVL"),a=i("g5ETd"),s=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const u=(e,t)=>(0,o.useMutation)({mutationFn:n=>s(void 0,[n],void 0,(function*({actionBannerId:n}){(0,r.setDismissedActionBanners)(e,n),t.setQueriesData([a.ACTION_BANNERS_QUERY_KEY],(e=>{if(!e)return;const t=e.banners.filter((e=>e.id!==n));return Object.assign(Object.assign({},e),{banners:t})}))}))})})),i.register("acRbz",(function(t,n){e(t.exports,"useForceUpgrade",(function(){return d}),(function(e){return d=e}));var o=i("43063"),r=i("3tdpt"),a=i("5uSEV"),s=i("RVqnc"),u=i("bHYEM"),c=i("g5ETd"),l=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const d=(e,t)=>{const{platform:n,appVersion:i}=e;return(0,r.useQuery)({queryKey:[c.FORCE_UPGRADE_QUERY_KEY],queryFn:()=>l(void 0,void 0,void 0,(function*(){var e;const r=null!==(e=(0,a.getSupportedLanguageValue)(o.i18next.language))&&void 0!==e?e:"en";return(0,u.fetchForceUpgrade)({platform:n,appVersion:i,locale:r,apiEnvironment:t})})),enabled:!!i,staleTime:(0,s.toMilliseconds)({minutes:5})})}})),i.register("bHYEM",(function(t,n){e(t.exports,"fetchForceUpgrade",(function(){return a}),(function(e){return a=e}));var o=i("9OtLp"),r=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const a=e=>r(void 0,[e],void 0,(function*({appVersion:e,platform:t,locale:n,apiEnvironment:r}){const i=yield(0,o.fetchForceUpgradeStatus)({platform:t,appVersion:e,locale:n,apiEnvironment:r});return Object.assign({},i)}))})),i.register("9OtLp",(function(t,n){e(t.exports,"ForceUpgradeStatus",(function(){return o}),(function(e){return o=e})),e(t.exports,"fetchForceUpgradeStatus",(function(){return l}),(function(e){return l=e}));var o,r,a=i("beWYh"),s=(i("csW2r"),i("5Z0Ji")),u=i("aYVC6"),c=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};(r=o||(o={})).Upgrade="upgrade",r.Noop="noop";const l=e=>c(void 0,[e],void 0,(function*({appVersion:e,platform:t,locale:n,apiEnvironment:o}){try{const r=new URL((0,s.FORCE_UPGRADE_API_URL)({apiEnvironment:o})),i=JSON.stringify({platform:t,appVersion:e,locale:n}),c=yield a.rb.headers({"Content-Type":"application/json"}).post(r.toString(),i);if(400===c.status){const e=yield c.data,t=(0,u.formatErrorMessages)(e);throw new Error(t)}if(c.status<200||c.status>299)throw new Error(`status code: ${c.status}, body: ${c.statusText}`);const l=c.data;return l?Object.assign({},l):d}catch(e){return d}})),d={forceUpgradeStatus:o.Noop}})),i.register("aaWed",(function(t,n){e(t.exports,"useHasSeenInterstitial",(function(){return u}),(function(e){return u=e}));var o=i("3tdpt"),r=i("lqr4n"),a=i("g5ETd"),s=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const u=(e,t,n)=>{const i=a.interstitialQueryKeys.hasSeenInterstitial(n);return(0,o.useQuery)({queryKey:i,queryFn:()=>s(void 0,void 0,void 0,(function*(){return yield r.Interstitials.hasSeen(n,e,t)}))})}})),i.register("kPEIC",(function(t,n){e(t.exports,"useSetHasSeenInterstitial",(function(){return u}),(function(e){return u=e}));var o=i("3tdpt"),r=i("lqr4n"),a=i("adKVG"),s=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const u=(e,t,n)=>{const i=(0,o.useQueryClient)();return(0,o.useMutation)({mutationFn:()=>s(void 0,void 0,void 0,(function*(){yield r.Interstitials.setHasSeen(n,e,t),yield(0,a.setHasSeenInterstitial)(i,n,!0)}))})}})),i.register("adKVG",(function(t,n){e(t.exports,"invalidateActionBanners",(function(){return a}),(function(e){return a=e})),e(t.exports,"setHasSeenInterstitial",(function(){return s}),(function(e){return s=e}));var o=i("g5ETd"),r=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const a=e=>r(void 0,void 0,void 0,(function*(){yield e.invalidateQueries([o.ACTION_BANNERS_QUERY_KEY])})),s=(e,t,n)=>r(void 0,void 0,void 0,(function*(){yield e.setQueryData(o.interstitialQueryKeys.hasSeenInterstitial(t),n)}))})),i.register("4QvCM",(function(t,n){e(t.exports,"ActionBannerAnalytics",(function(){return a}),(function(e){return a=e}));var o,r=function(e,t,n,o,r){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?r.call(e,n):r?r.value=n:t.set(e,n),n},i=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};class a{constructor(e){o.set(this,void 0),this.onBannerSeen=e=>{i(this,o,"f").capture("actionBannerSeenByUser",{data:{banner:e}})},this.onBannerClick=e=>{i(this,o,"f").capture("actionBannerClickedByUser",{data:{banner:e}})},this.onBannerDismiss=e=>{i(this,o,"f").capture("actionBannerDismissedByUser",{data:{banner:e}})},this.onInterstitialSeen=e=>{i(this,o,"f").capture("actionBannerInterstitialSeenByUser",{data:{banner:e}})},this.onInterstitialPrimaryClick=e=>{i(this,o,"f").capture("actionBannerInterstitialPrimaryButtonClickedByUser",{data:{banner:e}})},this.onInterstitialSecondaryClick=e=>{i(this,o,"f").capture("actionBannerInterstitialSecondaryButtonClickedByUser",{data:{banner:e}})},this.onInterstitialDismiss=e=>{i(this,o,"f").capture("actionBannerInterstitialDismissedByUser",{data:{banner:e}})},r(this,o,e,"f")}}o=new WeakMap})),i.register("de6RR",(function(t,n){e(t.exports,"generateActionBannerBaseAnalyticsPayload",(function(){return a})),e(t.exports,"generateActionBannerInterstitialAnalyticsPayload",(function(){return s}));var o=i("43063"),r=i("bqmaR");const a=({id:e,humanReadableId:t,description:n,bannerType:o})=>({id:e,humanReadableId:t,description:n,type:o}),s=({id:e,humanReadableId:t,description:n,bannerType:i,interstitial:a})=>{const{title:s,primaryButtonText:u,secondaryButtonText:c}=a;let l;if(i===r.ActionBannerType.Modal)for(const[e,t]of Object.values(a.lineItems).entries())l=Object.assign(Object.assign({},null!=l?l:{}),{[`lineItem${e+1}`]:{title:t.title,description:t.description}});return{id:e,humanReadableId:t,description:n,type:i,interstitial:{title:s,body:l,primaryButtonText:null!=u?u:o.i18next.t("commandContinue"),secondaryButtonText:null!=c?c:o.i18next.t("commandDismiss")}}}})),i.register("hnZYD",(function(t,n){e(t.exports,"QuestAnalytics",(function(){return i("XwkaQ").QuestAnalytics})),e(t.exports,"createQuestHooks",(function(){return i("3ch1m").createQuestHooks})),e(t.exports,"QUESTS_QUERY_KEY",(function(){return i("9Emft").QUESTS_QUERY_KEY}));i("XwkaQ"),i("jeAV5"),i("3ch1m"),i("l4KjA"),i("9Emft")})),i.register("XwkaQ",(function(t,n){e(t.exports,"QuestAnalytics",(function(){return a}),(function(e){return a=e}));var o,r=function(e,t,n,o,r){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?r.call(e,n):r?r.value=n:t.set(e,n),n},i=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};class a{constructor(e){o.set(this,void 0),this.onQuestSelected=e=>{i(this,o,"f").capture("questSelectedByUser",{data:{quest:e}})},this.onQuestCollectibleMinted=e=>{i(this,o,"f").capture("questCollectibleMinted",{data:{quest:e}})},this.onQuestRewardClaimed=e=>{i(this,o,"f").capture("questRewardClaimedByUser",{data:{quest:e}})},this.onQuestInterstitialPrimaryClick=e=>{i(this,o,"f").capture("questInterstitialPrimaryButtonClickedByUser",{data:{quest:e}})},this.onQuestInterstitialSecondaryClick=e=>{i(this,o,"f").capture("questInterstitialSecondaryButtonClickedByUser",{data:{quest:e}})},this.onQuestInterstitialDismiss=e=>{i(this,o,"f").capture("questInterstitialDismissedByUser",{data:{quest:e}})},this.onQuestPreviewUrlClick=(e,t)=>{i(this,o,"f").capture("questPreviewUrlClickedByUser",{data:{quest:e,url:t}})},r(this,o,e,"f")}}o=new WeakMap})),i.register("jeAV5",(function(t,n){e(t.exports,"CURRENT_UNIX_TIMESTAMP_IN_SECONDS",(function(){return o}));const o=Date.now()/1e3})),i.register("3ch1m",(function(t,n){e(t.exports,"createQuestHooks",(function(){return u}));var o=i("5hmFn"),r=i("hDGow"),a=i("79r23"),s=i("9wVbJ");function u(e,t,n,i,u){return{useShouldShowQuests:t=>(0,s.useShouldShowQuests)(e(),t,n,i,u),useQuests:t=>(0,a.useQuests)(e(),t,n,i),useCheckQuestStatus:t=>(0,o.useCheckQuestStatus)(e(),t,n),useClaimQuestReward:()=>(0,r.useClaimQuestReward)(e(),t,n)}}})),i.register("5hmFn",(function(t,n){e(t.exports,"useCheckQuestStatus",(function(){return f}),(function(e){return f=e}));var o=i("iOvk1"),r=i("3tdpt"),a=i("beWYh"),s=i("csW2r"),u=i("9Emft"),c=i("9m4FZ"),l=i("2UXfu"),d=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const p=new(0,c.CheckQuestStatusError)("Checking quest status failed"),f=(e,t,n)=>{var i;const{data:c}=n.useSelectedMultiChainAccount(),{data:f=[]}=n.useAllMultiChainAccounts(),{appVersion:m,questId:g}=t,v=null!==(i=null==c?void 0:c.addresses.map(o.chainAddressToCaip19Address))&&void 0!==i?i:[],y={appVersion:m,questId:g,identifiers:(0,l.generateQuestIdentifiers)(f),selectedAccountAddresses:v},h=u.questsQueryKeys.questStatus(y);return(0,r.useQuery)({queryFn:()=>d(void 0,void 0,void 0,(function*(){try{const t=yield a.rb.headers({"Content-Type":"application/json"}).post(`${e}/quests/v1/status`,JSON.stringify(y));if(!(0,a.responseIsOkay)(t)||!t.data)throw p;return t.data.questState}catch(e){throw p}})),queryKey:h,onError:e=>{s.telemetry.captureError(e,s.FeatureTag.Quest)},staleTime:0})}})),i.register("9Emft",(function(t,n){e(t.exports,"QUESTS_BASE_QUERY_KEY",(function(){return o})),e(t.exports,"QUESTS_QUERY_KEY",(function(){return r})),e(t.exports,"questsQueryKeys",(function(){return i}));const o="@phantom/quests",r=`${o}:quests`,i={quests:e=>[`${o}:quests`,e],questStatus:e=>[`${o}:questStatus`,e],showQuests:(e,t,n,r,i)=>[`${o}:showQuests`,e,t,n,r,i]}})),i.register("9m4FZ",(function(t,n){var o,r;e(t.exports,"QuestIdentifierType",(function(){return o})),e(t.exports,"ClaimQuestRewardError",(function(){return i})),e(t.exports,"ClaimQuestRewardBadRequestError",(function(){return a})),e(t.exports,"CheckQuestStatusError",(function(){return s})),(r=o||(o={})).ROOT_ID="ROOT_ID",r.ACCOUNT_ID="ACCOUNT_ID";class i extends Error{constructor(e){super(e),this.name="ClaimQuestRewardError"}}class a extends Error{constructor(e){super(e),this.name="ClaimQuestRewardBadRequestError"}}class s extends Error{constructor(e){super(e),this.name="CheckQuestStatusError"}}})),i.register("2UXfu",(function(t,n){e(t.exports,"generateQuestIdentifiers",(function(){return s}));var o=i("4xbAj"),r=i("RVqnc"),a=i("9m4FZ");const s=e=>{const t=new Set,n=[];for(const i of e)switch(i.type){case o.AccountType.Seed:t.has(i.seedIdentifier)||(t.add(i.seedIdentifier),n.push({type:a.QuestIdentifierType.ROOT_ID,id:i.seedIdentifier}));break;case o.AccountType.PrivateKey:case o.AccountType.Ledger:case o.AccountType.SeedVault:t.has(i.identifier)||(t.add(i.identifier),n.push({type:a.QuestIdentifierType.ACCOUNT_ID,id:i.identifier}));break;case o.AccountType.ReadOnly:break;default:(0,r.assertNever)(i)}return n}})),i.register("hDGow",(function(t,n){e(t.exports,"useClaimQuestReward",(function(){return g}),(function(e){return g=e}));var o=i("iOvk1"),r=i("43063"),a=i("3tdpt"),s=i("beWYh"),u=i("5uSEV"),c=i("csW2r"),l=i("9Emft"),d=i("9m4FZ"),p=i("2UXfu"),f=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const m=new(0,d.ClaimQuestRewardError)("Claiming Reward Failed"),g=(e,t,n)=>{var i;const{data:g}=n.useSelectedMultiChainAccount(),{data:v=[]}=n.useAllMultiChainAccounts(),y=null!==(i=(0,u.getSupportedLanguageValue)(r.i18next.language))&&void 0!==i?i:"en";return(0,a.useMutation)({mutationFn:t=>f(void 0,[t],void 0,(function*({questId:t,networkIds:n}){var r;try{const i=n.flat(),a=null==g?void 0:g.addresses.find((e=>i.includes(e.networkID))),u=null!==(r=null==g?void 0:g.addresses.map(o.chainAddressToCaip19Address))&&void 0!==r?r:[],c=(0,p.generateQuestIdentifiers)(v),l=s.rb.post(`${e}/quests/v1/claim_reward`,{questId:t,locale:y,identifiers:c,selectedAccountAddresses:u,walletAddress:{chainId:null==a?void 0:a.networkID,resourceType:o.Caip19ResourceType.address,address:null==a?void 0:a.address}}),[f]=yield Promise.all([l,new Promise((e=>setTimeout(e,2e3)))]);if(!(0,s.responseIsOkay)(f)){const e=f.data;throw new(0,d.ClaimQuestRewardBadRequestError)(JSON.stringify(e))}const h=f.data;if("reward_granted"!==h.status)throw m;return h}catch(e){throw e instanceof d.ClaimQuestRewardBadRequestError&&c.telemetry.captureError(e,c.FeatureTag.Quest),m}})),onSuccess:()=>{t.invalidateQueries([`${l.QUESTS_BASE_QUERY_KEY}:quests`])}})}})),i.register("79r23",(function(t,n){e(t.exports,"useQuests",(function(){return f}));var o=i("4xbAj"),r=i("iOvk1"),a=i("43063"),s=i("3tdpt"),u=i("5uSEV"),c=i("63urR"),l=i("9Emft"),d=i("2UXfu"),p=i("aWR41");const f=(e,t,n,i)=>{var f,m;const{platform:g,appVersion:v}=t,{data:y}=n.useSelectedMultiChainAccount(),{data:h=[]}=n.useAllMultiChainAccounts(),{data:S,isLoading:b}=i.useIsAnalyticsOptedOut(),k=null!==(f=(0,u.getSupportedLanguageValue)(a.i18next.language))&&void 0!==f?f:"en",w=null!==(m=null==y?void 0:y.addresses.map(r.chainAddressToCaip19Address))&&void 0!==m?m:[],A={appVersion:v,locale:k,platform:g,identifiers:(0,d.generateQuestIdentifiers)(h),selectedAccountAddresses:w,isOptedOut:!!S};return(0,s.useQuery)({queryKey:l.questsQueryKeys.quests(A),enabled:h.length>0&&y&&y.type!==o.AccountType.ReadOnly&&!b,queryFn:()=>(0,c.getQuests)(e,A),select:e=>(0,p.getValidQuests)(e,y),refetchOnMount:"extension"!==g||"always"})}})),i.register("63urR",(function(t,n){e(t.exports,"getQuests",(function(){return s}),(function(e){return s=e}));var o=i("beWYh"),r=i("csW2r"),a=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const s=(e,t)=>a(void 0,void 0,void 0,(function*(){var n;try{const n=yield o.rb.post(`${e}/quests/v1`,t);if(!(0,o.responseIsOkay)(n))throw new Error("Failed to fetch quests");return n.data.quests}catch(e){return r.telemetry.addBreadcrumb(r.FeatureTag.Quest,`Error when fetching quests: ${null!==(n=null==e?void 0:e.message)&&void 0!==n?n:"Error without message"}`,r.Severity.Info),[]}}))})),i.register("aWR41",(function(t,n){e(t.exports,"getValidQuests",(function(){return a}));var o=i("a2yRh"),r=i("aVeEH");const a=(e,t)=>e.filter((e=>!(0,o.questExpired)(e)&&(0,r.questSupportedByAccount)(e,t)))})),i.register("a2yRh",(function(t,n){e(t.exports,"questExpired",(function(){return r}));var o=i("jeAV5");const r=e=>o.CURRENT_UNIX_TIMESTAMP_IN_SECONDS>e.expirationUnixTimeInSeconds})),i.register("aVeEH",(function(t,n){e(t.exports,"questSupportedByAccount",(function(){return o}));const o=(e,t)=>{var n;const o=null!==(n=null==t?void 0:t.addresses.map((e=>e.networkID)))&&void 0!==n?n:[];for(const t of Object.values(e.networkIds)){if(Array.isArray(t))return t.every((e=>o.includes(e)));if(o.includes(t))return!0}return!1}})),i.register("9wVbJ",(function(t,n){e(t.exports,"useShouldShowQuests",(function(){return s}));var o=i("3tdpt"),r=i("9Emft"),a=i("79r23");const s=(e,t,n,i,s)=>{var u,c;const{data:l,isLoading:d}=n.useSelectedMultiChainAccount(),{data:p,isLoading:f}=i.useIsAnalyticsOptedOut(),m=null==l?void 0:l.isReadOnly,g=s(),{error:v}=(0,a.useQuests)(e,t,n,i);return(0,o.useQuery)({queryKey:r.questsQueryKeys.showQuests(null!==(c=null===(u=null==l?void 0:l.addresses[0])||void 0===u?void 0:u.address)&&void 0!==c?c:"",!!p,!!m,g,v),enabled:!d&&!f,queryFn:()=>!(g||p||m||v)})}})),i.register("l4KjA",(function(e,t){})),i.register("egHtJ",(function(t,n){e(t.exports,"PHANTOM_STAKE_NODE",(function(){return o})),e(t.exports,"SOL_STAKING_DOCS",(function(){return i("f5UU6").SOL_STAKING_DOCS})),e(t.exports,"SOL_STAKING_REWARDS_DOCS",(function(){return i("f5UU6").SOL_STAKING_REWARDS_DOCS})),e(t.exports,"CONVERT_TO_JITOSOL_LEARN_MORE_LINK",(function(){return i("f5UU6").CONVERT_TO_JITOSOL_LEARN_MORE_LINK})),e(t.exports,"UNSTAKE_JITOSOL_LINK",(function(){return i("f5UU6").UNSTAKE_JITOSOL_LINK})),e(t.exports,"SOL_TO_JITOSOL_CONVERSION_LINK",(function(){return i("f5UU6").SOL_TO_JITOSOL_CONVERSION_LINK})),e(t.exports,"createStakingHooks",(function(){return i("j4jBF").createStakingHooks})),e(t.exports,"StakeAccountType",(function(){return i("jjhma").StakeAccountType})),e(t.exports,"calculateTotalValidatorAPY",(function(){return i("8lo7S").calculateTotalValidatorAPY})),e(t.exports,"recommendedValidatorSorter",(function(){return i("kAm35").recommendedValidatorSorter})),e(t.exports,"createStakeAnalytics",(function(){return i("8B6ZJ").createStakeAnalytics})),e(t.exports,"useGetMaxTransferrableSol",(function(){return i("czeP8").useGetMaxTransferrableSol})),e(t.exports,"useLiquidStakingStore",(function(){return i("5HQUf").useLiquidStakingStore})),e(t.exports,"stakingShouldDehydrateQueryPredicate",(function(){return i("fMZSj").stakingShouldDehydrateQueryPredicate})),e(t.exports,"isLockedStakeAccount",(function(){return i("6iCXA").isLockedStakeAccount}));i("f5UU6");i("hvyP7");i("j4jBF"),i("jjhma");i("9OqWg");i("8lo7S"),i("kAm35"),i("8B6ZJ"),i("liNiM"),i("czeP8"),i("d5USZ");i("bX8dN");i("5HQUf"),i("fMZSj"),i("FEhzp"),i("9T5hE"),i("6iCXA");const o={identityPublicKey:"7GkMBmtrTZz8QbjSe1sXvAUtz7Pp42SQxfT5ymmJD4We",voteAccountPublicKey:"J2nUHEAgZFRyuJbFjdqPrAa9gyWDuc7hErtDQHPhsYRp"}})),i.register("f5UU6",(function(t,n){e(t.exports,"CONFIG_PROGRAM_ID",(function(){return u})),e(t.exports,"SOL_STAKING_DOCS",(function(){return c})),e(t.exports,"SOL_STAKING_REWARDS_DOCS",(function(){return l})),e(t.exports,"NETWORK_TO_NATIVE_FUNGIBLE",(function(){return p})),e(t.exports,"CONVERT_TO_JITOSOL_LEARN_MORE_LINK",(function(){return f})),e(t.exports,"UNSTAKE_JITOSOL_LINK",(function(){return m})),e(t.exports,"STAKING_WITH_JITOSOL_LINK",(function(){return g})),e(t.exports,"SOL_TO_JITOSOL_CONVERSION_LINK",(function(){return v}));var o=i("iOvk1"),r=i("5slFC"),a=i("hMVEP"),s=i("RVqnc");const u=new(0,a.PublicKey)("Config1111111111111111111111111111111111111"),c="https://docs.solana.com/staking",l="https://docs.solana.com/implemented-proposals/staking-rewards",d={type:r.FungibleTokenType.SolanaNative,data:{amount:"0",balance:new(0,s.BigNumber)(0),chain:{id:o.Chains.solana.mainnetID,imageUrl:o.Chains.solana.iconUrl,name:o.Chains.solana.name,symbol:o.Chains.solana.tokenSymbol},coingeckoId:"solana",decimals:9,key:"SolanaNative",logoUri:"https://cdn.jsdelivr.net/gh/solana-labs/token-list@main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png",name:"Solana",symbol:"SOL",tokenAddress:void 0,walletAddress:"",spamStatus:r.SpamStatus.NotVerified}},p=new Map([[o.NetworkIDs.Solana.Mainnet,d]]),f="https://www.jito.network/blog/lsts-vs-native-assets/",m="https://www.jito.network/staking/?mode=unstake",g="https://help.phantom.app/hc/en-us/articles/29846774040467",v="https://www.jito.network/blog/reward-bearing-vs-rebasing-solana-liquid-staking-tokens/"})),i.register("hvyP7",(function(t,n){e(t.exports,"createStakingHooks",(function(){return i("j4jBF").createStakingHooks}));i("j4jBF")})),i.register("j4jBF",(function(t,n){e(t.exports,"createStakingHooks",(function(){return M}));var o=i("7gANb"),r=i("lEqf0"),a=i("6fWI5"),s=i("6Bfdh"),u=i("48Z1Q"),c=i("39pK6"),l=i("gqfgW"),d=i("3cJgq"),p=i("d5USZ"),f=i("40bAw"),m=i("8BkVZ"),g=i("kETlb"),v=i("FEhzp"),y=i("cJRQS"),h=i("efxv4"),S=i("5ZOeC"),b=i("8lG7n"),k=i("hTrOf"),w=i("j8dxk"),A=i("blQEy"),T=i("cKEWg"),C=i("bh51l"),x=i("7oVt1"),E=i("afWX6"),I=i("fINYT"),P=i("esUWt"),F=i("gQcB9"),N=i("3x9EP"),D=i("kFx26"),O=i("elc0Z");function M({accountSigner:e,accountHooks:t,storage:n,fungibleHooks:i,priceHooks:M,transactionHooks:L,walletScreenHooks:R,queryClient:B,getApiEnvironment:U,stakeAnalytics:_}){const z=new(0,o.PriorityFeeService);return{useConvertibleStakeAccounts:e=>(0,F.useConvertibleStakeAccounts)({accountHooks:t,transactionHooks:L,provider:e}),useKeybaseUserAvatar:e=>(0,s.useKeybaseUserAvatar)(e),useRecommendedValidators:()=>(0,u.useRecommendedValidators)(U),useSignatureStatus:(e,t,n)=>(0,c.useSignatureStatus)(B,e,t,n),useStakeAccounts:d.useStakeAccounts,useStakeAccountMinBalance:l.useStakeAccountMinBalance,useStakeActivationData:p.useStakeActivationData,useStakeApy:()=>(0,f.useStakeApy)(U),useStakeRewardsHistory:(e,t)=>(0,m.useStakeRewardsHistory)(U,e,t),useValidators:v.useValidators,useValidatorInfo:g.useValidatorInfo,useVoteAccounts:y.useVoteAccounts,useNativeLiquidStaking:e=>(0,D.useNativeLiquidStaking)(U,e),useIsSupportedLST:e=>(0,N.useIsSupportedLST)(U,e),useConvertStakeAnalytics:()=>(0,T.useConvertStakeAnalytics)(),useDelegateStake:e=>(0,a.useDelegateStake)(L,e,B,z,_),useCreateStakeAccountAndDelegateStake:e=>(0,S.useCreateStakeAccountAndDelegateStake)(L,e,B,z,_),useDeactivateStake:e=>(0,r.useDeactivateStake)(L,e,B,z,_),useWithdrawStake:e=>(0,h.useWithdrawStake)(L,e,B,z,_),useConvertStakeAccountInfoPageProps:e=>(0,b.useConvertStakeAccountInfoPageProps)(e,t,L,U),useConvertStakeAccountReviewPageProps:e=>(0,w.useConvertStakeAccountReviewPageProps)({accountHooks:t,fungibleHooks:i,transactionHooks:L,priceHooks:M,priorityFeeService:z,navigateToStatusPage:e}),useConvertStakeAccountListPageProps:e=>(0,k.useConvertStakeAccountListPageProps)({accountHooks:t,transactionHooks:L,navigateToReviewPage:e}),useConvertStakeAccountStatusPageProps:o=>(0,A.useConvertStakeAccountStatusPageProps)(Object.assign(Object.assign({},o),{accountSigner:e,accountHooks:t,fungibleHooks:i,storage:n,transactionHooks:L,queryClient:B})),useConvertStakeBannerProps:e=>(0,C.useConvertStakeBannerProps)(Object.assign(Object.assign({},e),{accountHooks:t,transactionHooks:L,getApiEnvironment:U})),useMintLiquidStakeInfoPageProps:()=>(0,E.useMintLiquidStakeInfoPageProps)(U),useMintLiquidStakeReviewPageProps:e=>(0,I.useMintLiquidStakeReviewPageProps)({accountHooks:t,fungibleHooks:i,transactionHooks:L,priceHooks:M,priorityFeeService:z,navigateToStatusPage:e}),useMintLiquidStakeAmountProps:e=>(0,x.useMintLiquidStakeAmountProps)(Object.assign(Object.assign({},e),{accountHooks:t,fungibleHooks:i,transactionHooks:L,walletScreenHooks:R})),useMintLiquidStakeStatusPageProps:o=>(0,P.useMintLiquidStakeStatusPageProps)({accountSigner:e,accountHooks:t,transactionHooks:L,fungibleHooks:i,queryClient:B,storage:n,dismissMintFlow:o}),useStakingMethodSelectionProps:e=>(0,O.useStakingMethodSelectionProps)(Object.assign(Object.assign({},e),{getApiEnvironment:U}))}}})),i.register("lEqf0",(function(t,n){e(t.exports,"useDeactivateStake",(function(){return m}),(function(e){return m=e}));var o=i("iOvk1"),r=i("43063"),a=i("7mQ3Y"),s=i("3tdpt"),u=i("hMVEP"),c=i("csW2r"),l=i("7gANb"),d=i("3vaB1");i("9OqWg");var p=i("hIkt0"),f=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const m=(e,t,n,i,m)=>{const{t:g}=(0,r.useTranslation)(),{mutateAsync:v}=e.useSignAndSendSolanaTransactionAsync(t);return(0,s.useMutation)({mutationFn:e=>f(void 0,[e],void 0,(function*({accountIdentifier:e,senderAddress:n,stakePubkey:r,stakeAuthorityPubkey:s,authorizedPubkey:c}){if(!n)throw d.MissingSenderAddressError;const{networkID:p,address:f}=n,y=function({stakePubkey:e,stakeAuthorityPubkey:t,authorizedPubkey:n,transaction:o=new(0,u.Transaction)}){return t.equals(n)||o.add(u.StakeProgram.authorize({authorizedPubkey:n,newAuthorizedPubkey:n,stakeAuthorizationType:u.StakeAuthorizationLayout.Staker,stakePubkey:e})),o.add(u.StakeProgram.deactivate({stakePubkey:e,authorizedPubkey:n})),o}({stakePubkey:r,stakeAuthorityPubkey:s,authorizedPubkey:c}),h=yield i.addPriorityFee(y,{connection:t}),S={ownerAddress:null!=f?f:"",networkID:p,data:{signature:""},type:l.PendingTransactionType.DeactivateStake,display:{summary:{topLeft:{label:g("transactionsPendingDeactivatingStake")}}}};m.then((e=>e.approved({chainType:a.AddressType.Solana,chainName:o.Chain.Solana,networkId:o.Chains.getSolanaNetworkIDValue(p),type:"undelegate"})));const b=yield v({accountIdentifier:e,feePayer:new(0,u.PublicKey)(f),transaction:h,pendingTransactionInput:S});return m.then((e=>e.submittedTransaction(b,{chainType:a.AddressType.Solana,chainName:o.Chain.Solana,networkId:o.Chains.getSolanaNetworkIDValue(p),method:"signAndSendTransaction"}))),m.then((e=>e.deactivateStake())),{networkID:p,id:null!=b?b:""}})),onSuccess:e=>{(0,l.waitForTransactionConfirmation)({connection:t,signature:e.id}).then((()=>{m.then((t=>t.transactionStatus(e.id,{chainType:a.AddressType.Solana,chainName:o.Chain.Solana,networkId:o.Chains.getSolanaNetworkIDValue(e.networkID),status:{type:"confirmed"}}))),(0,p.invalidateAllStakeAccountData)(n)()})).catch((t=>{m.then((t=>t.transactionStatus(e.id,{chainType:a.AddressType.Solana,chainName:o.Chain.Solana,networkId:o.Chains.getSolanaNetworkIDValue(e.networkID),status:{type:"error"}}))),c.telemetry.captureError(t,c.FeatureTag.Staking)}))}})}})),i.register("3vaB1",(function(t,n){e(t.exports,"MissingSenderAddressError",(function(){return o})),e(t.exports,"MissingConfirmationSignatureError",(function(){return r})),e(t.exports,"MissingPublicKeyError",(function(){return i})),e(t.exports,"StakingErrorCodes",(function(){return a})),e(t.exports,"StakingError",(function(){return u}));const o=new Error("Missing sender address for staking fungibles."),r=(new Error("Missing signature from staking fungibles."),new Error("Missing signature from waiting for staking transaction confirmation.")),i=new Error("PublicKey is required");var a,s;(s=a||(a={})).MissingTransactionData="MissingTransactionData",s.UnknownError="UnknownError",s.FailedToConfirmTransaction="FailedToConfirmTransaction";class u extends Error{constructor(e){super(e)}}})),i.register("9OqWg",(function(t,n){e(t.exports,"calculateTotalValidatorAPY",(function(){return i("8lo7S").calculateTotalValidatorAPY})),e(t.exports,"invalidateAllStakeAccountData",(function(){return i("hIkt0").invalidateAllStakeAccountData})),e(t.exports,"recommendedValidatorSorter",(function(){return i("kAm35").recommendedValidatorSorter})),e(t.exports,"validateDecimals",(function(){return i("eRSIl").validateDecimals}));i("8lo7S"),i("hIkt0"),i("kAm35"),i("eRSIl")})),i.register("8lo7S",(function(n,o){e(n.exports,"calculateTotalValidatorAPY",(function(){return a}));var r=i("kAKNF");function a(e,n){const o=new(t(r))(e/100),i=new(t(r))(n/100);return o.minus(o.times(i)).times(100).decimalPlaces(2).toNumber()}})),i.register("hIkt0",(function(t,n){e(t.exports,"invalidateAllStakeAccountData",(function(){return r}));var o=i("7dNLn");const r=e=>()=>{e.invalidateQueries({predicate:e=>{const t=t=>t.every(((t,n)=>e.queryKey[n]===t));return t(o.STAKE_ACCOUNTS_SCOPE)||t(o.STAKE_ACTIVATION_DATA_SCOPE)||t(o.CONVERT_STAKE_LIST_SCOPE)||t(o.CONVERT_STAKE_TRANSCTION_SCOPE)}})}})),i.register("7dNLn",(function(t,n){e(t.exports,"LIQUID_STAKING_QUERY_KEYS_PREFIX",(function(){return r})),e(t.exports,"STAKE_ACCOUNTS_SCOPE",(function(){return a})),e(t.exports,"STAKE_ACTIVATION_DATA_SCOPE",(function(){return s})),e(t.exports,"CONVERT_STAKE_LIST_SCOPE",(function(){return u})),e(t.exports,"CONVERT_STAKE_TRANSCTION_SCOPE",(function(){return c})),e(t.exports,"STAKE_AVG_VALIDATOR_APY_SCOPE",(function(){return d})),e(t.exports,"stakingQueryKeys",(function(){return p}));const o="staking";var r,i;(i=r||(r={})).convertStakeList="convertStakeAccountList",i.supportedTokens="liquidStakingSupportedTokens",i.convertStakeTransaction="convertStakeTransaction",i.mintTokenTransaction="mintTokenTransaction";const a=[o,"stakeAccounts"],s=[o,"stakeActivationData"],u=[o,r.convertStakeList],c=[o,r.convertStakeTransaction],l=[o,r.mintTokenTransaction],d="averageValidatorApy",p={keybaseUserAvatar:e=>[o,"keybaseUserAvatar",e],signatureStatus:e=>[o,"signatureStatus",e],stakeAccounts:(e,t)=>[...a,e,t],stakeAccountMinBalance:()=>[o,"stakeAccountMinBalance"],stakeActivationData:e=>[...s,e],stakeRewardsHistory:e=>[o,"stakeRewardsHistory",e],stakeApy:()=>[o,"stakeApy"],averageValidatorApy:()=>[o,d],recommendedValidators:()=>[o,"recommendedValidators"],validatorInfo:()=>[o,"validatorInfo"],voteAccounts:e=>[o,"voteAccounts",e],convertStakeAccountList:(e,t)=>[...u,e,t],liquidStakingSupportedTokens:e=>[o,r.supportedTokens,e],getConvertStakeTransaction:e=>[...c,e],getMintTokenTransaction:e=>[...l,e]}})),i.register("kAm35",(function(t,n){e(t.exports,"recommendedValidatorSorter",(function(){return o}));const o=e=>(t,n)=>{const o=e.indexOf(t.voteAccountPubkey),r=e.indexOf(n.voteAccountPubkey);return(o>-1?o:1/0)-(r>-1?r:1/0)}})),i.register("eRSIl",(function(t,n){function o(e,t=9){return e.match(new RegExp(`^\\d*(\\.\\d{0,${t}})?$`))}e(t.exports,"validateDecimals",(function(){return o}))})),i.register("6fWI5",(function(t,n){e(t.exports,"delegateStake",(function(){return m}),(function(e){return m=e})),e(t.exports,"useDelegateStake",(function(){return g}),(function(e){return g=e}));var o=i("iOvk1"),r=i("43063"),a=i("7mQ3Y"),s=i("3tdpt"),u=i("hMVEP"),c=i("csW2r"),l=i("7gANb"),d=i("3vaB1");i("9OqWg");var p=i("hIkt0"),f=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};function m({stakePubkey:e,authorizedPubkey:t,votePubkey:n}){return u.StakeProgram.delegate({stakePubkey:e,authorizedPubkey:t,votePubkey:n})}const g=(e,t,n,i,g)=>{const{t:v}=(0,r.useTranslation)(),{mutateAsync:y}=e.useSignAndSendSolanaTransactionAsync(t);return(0,s.useMutation)({mutationFn:e=>f(void 0,[e],void 0,(function*({accountIdentifier:e,senderAddress:n,stakePubkey:r,authorizedPubkey:s,votePubkey:c}){if(!n)throw d.MissingSenderAddressError;const{networkID:p,address:f}=n,h=m({stakePubkey:r,authorizedPubkey:s,votePubkey:c}),S=yield i.addPriorityFee(h,{connection:t}),b={ownerAddress:null!=f?f:"",networkID:p,data:{signature:""},type:l.PendingTransactionType.DelegateStake,display:{summary:{topLeft:{label:v("transactionsPendingDelegatingStake")}}}};g.then((e=>e.approved({chainType:a.AddressType.Solana,chainName:o.Chain.Solana,networkId:o.Chains.getSolanaNetworkIDValue(p),type:"delegate"})));const k=yield y({accountIdentifier:e,feePayer:new(0,u.PublicKey)(f),transaction:S,pendingTransactionInput:b});return g.then((e=>e.submittedTransaction(k,{chainType:a.AddressType.Solana,chainName:o.Chain.Solana,networkId:o.Chains.getSolanaNetworkIDValue(p),method:"signAndSendTransaction"}))),{networkID:p,id:null!=k?k:""}})),onSuccess:e=>{(0,l.waitForTransactionConfirmation)({connection:t,signature:e.id}).then((()=>{g.then((t=>t.transactionStatus(e.id,{chainType:a.AddressType.Solana,chainName:o.Chain.Solana,networkId:o.Chains.getSolanaNetworkIDValue(e.networkID),status:{type:"confirmed"}}))),(0,p.invalidateAllStakeAccountData)(n)()})).catch((t=>{g.then((t=>t.transactionStatus(e.id,{chainType:a.AddressType.Solana,chainName:o.Chain.Solana,networkId:o.Chains.getSolanaNetworkIDValue(e.networkID),status:{type:"error"}}))),c.telemetry.captureError(t,c.FeatureTag.Staking)}))}})}})),i.register("6Bfdh",(function(t,n){e(t.exports,"useKeybaseUserAvatar",(function(){return c}),(function(e){return c=e}));var o=i("3tdpt"),r=i("5SMLK"),a=i("7dNLn"),s=i("kX9T3"),u=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const c=e=>{const t=a.stakingQueryKeys.keybaseUserAvatar(e);return(0,o.useQuery)({enabled:!!e,queryKey:t,queryFn(){return u(this,void 0,void 0,(function*(){if(!e)throw new Error("Keybase username is required");return(0,r.getKeybaseUserAvatar)(e)}))},placeholderData:"",staleTime:s.StaleTime.Never})}})),i.register("5SMLK",(function(t,n){e(t.exports,"getKeybaseUserAvatar",(function(){return a}),(function(e){return a=e}));var o=i("beWYh"),r=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const a=e=>r(void 0,void 0,void 0,(function*(){var t;const n=yield o.rb.get(`https://keybase.io/_/api/1.0/user/pic_url.json?username=${encodeURIComponent(e)}`);if(!(0,o.responseIsOkay)(n)||0!==(null===(t=n.data.status)||void 0===t?void 0:t.code))throw new Error("Couldn't fetch keybase user avatar");return n.data.pic_url}))})),i.register("kX9T3",(function(t,n){e(t.exports,"CacheTime",(function(){return r})),e(t.exports,"StaleTime",(function(){return s}));var o=i("RVqnc");var r,a,s,u;(a=r||(r={}))[a.Always=1/0]="Always",a[a.Short=(0,o.toMilliseconds)({days:1})]="Short",a[a.Medium=(0,o.toMilliseconds)({days:3})]="Medium",a[a.Long=(0,o.toMilliseconds)({days:7})]="Long",(u=s||(s={}))[u.Immediate=0]="Immediate",u[u.Short=(0,o.toMilliseconds)({minutes:1})]="Short",u[u.Medium=(0,o.toMilliseconds)({minutes:2.5})]="Medium",u[u.Long=(0,o.toMilliseconds)({minutes:5})]="Long",u[u.Never=1/0]="Never"})),i.register("48Z1Q",(function(t,n){e(t.exports,"useRecommendedValidators",(function(){return l}),(function(e){return l=e}));var o=i("3tdpt"),r=i("csW2r"),a=i("5u9SD"),s=i("7dNLn"),u=i("kX9T3"),c=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const l=e=>{const t=s.stakingQueryKeys.recommendedValidators();return(0,o.useQuery)({enabled:!0,queryKey:t,cacheTime:u.CacheTime.Long,staleTime:u.StaleTime.Never,queryFn(){return c(this,void 0,void 0,(function*(){return(0,a.getRecommendedValidators)(e())}))},onError(e){r.telemetry.captureError(e,r.FeatureTag.Staking)}})}})),i.register("5u9SD",(function(t,n){e(t.exports,"getRecommendedValidators",(function(){return u}),(function(e){return u=e}));var o=i("beWYh"),r=i("jjhma"),a=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const s=new Error("Failed to fetch recommended staking validators.");function u(e){return a(this,void 0,void 0,(function*(){try{const t=yield o.rb.get(`${e}/staking/v1/recommended`);if(!(0,o.responseIsOkay)(t))throw s;const n=t.data;return r.RecommendedValidators.parse(n).validators}catch(e){throw s}}))}})),i.register("jjhma",(function(t,n){e(t.exports,"StakeAccountType",(function(){return o})),e(t.exports,"StakeApy",(function(){return u})),e(t.exports,"RecommendedValidators",(function(){return c})),e(t.exports,"StakingRewardsHistory",(function(){return d})),e(t.exports,"LiquidStakingSupportedTokens",(function(){return v}));var o,r,a=i("iOvk1"),s=i("7XqVB");(r=o||(o={})).Initialized="initialized",r.Delegated="delegated";const u=s.z.object({apy:s.z.number()}),c=s.z.object({validators:s.z.array(s.z.string())}),l=s.z.object({epoch:s.z.number(),effectiveSlot:s.z.number(),amount:s.z.number(),postBalance:s.z.number(),percentChange:s.z.number(),apr:s.z.number(),timestamp:s.z.number()}),d=s.z.object({items:s.z.array(l)}),p=s.z.object({address:s.z.string(),chainId:a.NetworkID,decimals:s.z.number(),logoURI:s.z.string(),name:s.z.string(),symbol:s.z.string()}),f=s.z.object({caip19:s.z.string(),metadata:p}),m=s.z.object({vote_account:s.z.string()}),g=s.z.object({apy:s.z.string(),chainId:a.NetworkID,convertRatio:s.z.string(),name:s.z.string(),stakePoolAddress:s.z.string(),stakePoolTokenMetadata:f,validators:s.z.array(m)}),v=s.z.record(s.z.string(),s.z.array(g))})),i.register("39pK6",(function(t,n){e(t.exports,"useSignatureStatus",(function(){return l}),(function(e){return l=e}));var o=i("3tdpt"),r=i("3vaB1"),a=i("7dNLn"),s=i("kX9T3"),u=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const c=(e,t)=>u(void 0,void 0,void 0,(function*(){return yield e.getSignatureStatus(t,{searchTransactionHistory:!0})}));function l(e,t,n,i){var l;const d=a.stakingQueryKeys.signatureStatus(i),p=e.getQueryData(d),f=null===(l=null==p?void 0:p.value)||void 0===l?void 0:l.confirmationStatus,m=!!i&&"finalized"!==f;return(0,o.useQuery)({queryKey:d,queryFn:()=>u(this,void 0,void 0,(function*(){if(!i)throw r.MissingConfirmationSignatureError;return yield c(t,i)})),enabled:m,refetchInterval:n,staleTime:s.StaleTime.Never})}})),i.register("gqfgW",(function(t,n){e(t.exports,"useStakeAccountMinBalance",(function(){return l}),(function(e){return l=e}));var o=i("3tdpt"),r=i("hMVEP"),a=i("7dNLn"),s=i("kX9T3"),u=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const c=e=>()=>u(void 0,void 0,void 0,(function*(){return yield e.getMinimumBalanceForRentExemption(r.StakeProgram.space)}));function l(e){const t=a.stakingQueryKeys.stakeAccountMinBalance(),n=c(e);return(0,o.useQuery)({queryKey:t,queryFn:n,placeholderData:0,staleTime:s.StaleTime.Never})}})),i.register("3cJgq",(function(t,n){e(t.exports,"useStakeAccounts",(function(){return f}),(function(e){return f=e}));var o=i("3tdpt"),r=i("hMVEP"),a=i("csW2r"),s=i("7dNLn"),u=i("kX9T3"),c=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const l=(e,t)=>c(void 0,void 0,void 0,(function*(){const n=[];t.ownerPublicKey&&n.push({memcmp:{offset:44,bytes:t.ownerPublicKey}}),t.voteAccountPublicKey&&n.push({dataSize:200},{memcmp:{offset:124,bytes:t.voteAccountPublicKey}});const o=yield e.getParsedProgramAccounts(r.StakeProgram.programId,{filters:n});let i=[];if(t.fetchInflationRewards)try{i=yield((e,t,n,...o)=>c(void 0,[e,t,n,...o],void 0,(function*(e,t,n,o="confirmed"){return yield e.getInflationReward(t,n,o)})))(e,o.map((({pubkey:e})=>e)))}catch(e){const t=e;!t.message.includes("RPC request timed out")&&a.telemetry.captureError(t,a.FeatureTag.Staking)}return o.map(((e,t)=>{var n;return Object.assign({pubkey:e.pubkey.toString(),lamports:e.account.lamports,inflationReward:null===(n=i[t])||void 0===n?void 0:n.amount},e.account.data.parsed)}))})),d=(e,t)=>s.stakingQueryKeys.stakeAccounts(e,t),p=(e,t)=>()=>l(e,{ownerPublicKey:t,fetchInflationRewards:!0});function f(e,t){const n=d(t,e.rpcEndpoint),r=p(e,t);return(0,o.useQuery)({queryKey:n,queryFn:r,placeholderData:[],staleTime:u.StaleTime.Never})}})),i.register("d5USZ",(function(t,n){e(t.exports,"getStakeActivationData",(function(){return l}),(function(e){return l=e})),e(t.exports,"useStakeActivationData",(function(){return d}),(function(e){return d=e}));var o=i("3tdpt"),r=i("hMVEP"),a=i("3vaB1"),s=i("7dNLn"),u=i("kX9T3"),c=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const l=(e,t)=>e.getStakeActivation(new(0,r.PublicKey)(t));function d(e,t){const n=s.stakingQueryKeys.stakeActivationData(t),r=!!t;return(0,o.useQuery)({queryKey:n,queryFn:()=>c(this,void 0,void 0,(function*(){if(!t)throw a.MissingPublicKeyError;return yield l(e,t)})),enabled:r,staleTime:u.StaleTime.Never})}})),i.register("40bAw",(function(t,n){e(t.exports,"useStakeApy",(function(){return l}),(function(e){return l=e}));var o=i("3tdpt"),r=i("csW2r"),a=i("9Kma9"),s=i("7dNLn"),u=i("kX9T3"),c=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const l=e=>{const t=s.stakingQueryKeys.stakeApy();return(0,o.useQuery)({enabled:!0,queryKey:t,cacheTime:u.CacheTime.Short,staleTime:u.StaleTime.Never,queryFn(){return c(this,void 0,void 0,(function*(){return(0,a.getStakingApy)(e())}))},onError(e){r.telemetry.captureError(e,r.FeatureTag.Staking)}})}})),i.register("9Kma9",(function(t,n){e(t.exports,"getStakingApy",(function(){return u}),(function(e){return u=e}));var o=i("beWYh"),r=i("jjhma"),a=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const s=new Error("Failed to fetch staking APY");function u(e){return a(this,void 0,void 0,(function*(){try{const t=yield o.rb.get(`${e}/staking/v1/apy`);if(!(0,o.responseIsOkay)(t))throw s;const n=t.data;return r.StakeApy.parse(n).apy}catch(e){throw s}}))}})),i.register("8BkVZ",(function(t,n){e(t.exports,"useStakeRewardsHistory",(function(){return l}),(function(e){return l=e}));var o=i("3tdpt"),r=i("csW2r"),a=i("1xomf"),s=i("7dNLn"),u=i("kX9T3"),c=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};function l(e,t,n,i=2){const l=s.stakingQueryKeys.stakeRewardsHistory(t);return(0,o.useInfiniteQuery)({retry:i,enabled:!!t&&!!n,queryKey:l,cacheTime:u.CacheTime.Long,staleTime:u.StaleTime.Never,queryFn:o=>c(this,[o],void 0,(function*({pageParam:o}){const r=o?{address:t,chainId:n,epoch:o}:{address:t,chainId:n};return(0,a.getStakingRewardsHistory)(e(),r)})),getNextPageParam:({items:e})=>e.length?e[e.length-1].epoch:null,onError:e=>r.telemetry.captureError(e,r.FeatureTag.Staking)})}})),i.register("1xomf",(function(t,n){e(t.exports,"getStakingRewardsHistory",(function(){return u}),(function(e){return u=e}));var o=i("beWYh"),r=i("jjhma"),a=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const s=new Error("Failed to fetch staking rewards history");function u(e,t){return a(this,void 0,void 0,(function*(){let n;try{n=yield o.rb.post(`${e}/staking/v1/history`,t)}catch(e){throw s}if(!(0,o.responseIsOkay)(n))throw s;const i=n.data,a=r.StakingRewardsHistory.safeParse(i);if(a.success)return a.data;throw s}))}})),i.register("kETlb",(function(t,n){e(t.exports,"useValidatorInfo",(function(){return l}),(function(e){return l=e}));var o=i("3tdpt"),r=i("f5UU6"),a=i("7dNLn"),s=i("kX9T3"),u=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const c=e=>()=>u(void 0,void 0,void 0,(function*(){return(yield e.getParsedProgramAccounts(r.CONFIG_PROGRAM_ID)).reduce(((e,t)=>{var n;if("validatorInfo"!==(null===(n=t.account.data.parsed)||void 0===n?void 0:n.type))return e;const o=t.pubkey.toString(),r=t.account.data.parsed.info.keys,[,i]=r;if(!i.signer)return e;const a=i.pubkey,s=t.account.data.parsed.info.configData;return e.push({identityPubkey:a,infoPubkey:o,info:s}),e}),[])}));function l(e){const t=a.stakingQueryKeys.validatorInfo(),n=c(e);return(0,o.useQuery)({queryKey:t,queryFn:n,placeholderData:[],staleTime:s.StaleTime.Never})}})),i.register("FEhzp",(function(t,n){e(t.exports,"useValidators",(function(){return c}),(function(e){return c=e}));var o=i("29o0l"),r=i("9TG0W"),a=i("kETlb"),s=i("cJRQS"),u=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};function c(e){const{isFetched:t,isFetching:n,isLoading:i,isSuccess:c,isError:l,dataUpdatedAt:d,errorUpdatedAt:p,error:f,refetch:m,data:g}=(0,s.useVoteAccounts)(e),v=Math.max(d,p),{isFetched:y,isFetching:h,isLoading:S,isSuccess:b,isError:k,dataUpdatedAt:w,errorUpdatedAt:A,error:T,refetch:C,data:x}=(0,a.useValidatorInfo)(e),E=Math.max(w,A),I=Math.max(v,E),P=t&&y,F=n||h,N=c||b,D=l||k,O=f||T,M=i||S,L=(0,o.useCallback)((()=>u(this,void 0,void 0,(function*(){Promise.all([m(),C()])}))),[C,m]);return{results:(0,o.useMemo)((()=>{if(!g)return[];if(!x)return[];const e=(0,r.sortVoteAccounts)(g),t=new Map(e.map((e=>[e.identityPubkey,e]))),n=new Map(x.map((e=>[e.identityPubkey,e]))),o=[];for(const[e,r]of t){const t=n.get(e);o.push(Object.assign(Object.assign({},r),t))}return o}),[x,g]),dataUpdatedAt:I,error:O,isSuccess:N,isError:D,isFetched:P,isFetching:F,isLoading:M,refetch:L}}})),i.register("9TG0W",(function(t,n){e(t.exports,"sortVoteAccounts",(function(){return r}));const o=(e,t)=>e+t[1];function r(e){const t=function(e){const t={maxEpochCredits:0,maxActivatedStake:0};for(const n of e){const e=n.epochCredits.reduce(o,0);t.maxEpochCredits<e&&(t.maxEpochCredits=e),t.maxActivatedStake<n.activatedStake&&(t.maxActivatedStake=n.activatedStake)}return t}(e),n=function(e,t,n){return(o,r)=>{const a=i(o,e,t,n);return i(r,e,t,n)-a}}(t.maxEpochCredits,t.maxActivatedStake,{commissionWeight:.6,epochCreditsWeight:.3,activatedStakeWeight:.1});return e.sort(n)}function i(e,t,n,r){const{commission:i,epochCredits:a,activatedStake:s}=e,{commissionWeight:u,epochCreditsWeight:c,activatedStakeWeight:l}=r,{normalizedCommission:d,normalizedEpochCredits:p,normalizedActivatedStake:f}=function(e,t,n,o,r){return{normalizedCommission:(100-e)/100,normalizedEpochCredits:t/n,normalizedActivatedStake:Math.log10(o+1)/Math.log10(r+1)}}(i,a.reduce(o,0),t,s,n);return(i>10?.5:1)*(u*d+c*p+l*f)}})),i.register("cJRQS",(function(t,n){e(t.exports,"useVoteAccounts",(function(){return c}),(function(e){return c=e}));var o=i("3tdpt"),r=i("7dNLn"),a=i("kX9T3"),s=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const u=e=>s(void 0,void 0,void 0,(function*(){const t=yield e.getVoteAccounts();return[...t.current,...t.delinquent].map((e=>({identityPubkey:e.nodePubkey,voteAccountPubkey:e.votePubkey,commission:e.commission,lastVote:e.lastVote,epochCredits:e.epochCredits,activatedStake:e.activatedStake}))).filter((e=>e.commission<99))}));function c(e){const t=r.stakingQueryKeys.voteAccounts(e.rpcEndpoint);return(0,o.useQuery)({queryKey:t,queryFn:()=>s(this,void 0,void 0,(function*(){return u(e)})),placeholderData:[],staleTime:a.StaleTime.Never})}})),i.register("efxv4",(function(t,n){e(t.exports,"useWithdrawStake",(function(){return m}),(function(e){return m=e}));var o=i("iOvk1"),r=i("43063"),a=i("7mQ3Y"),s=i("3tdpt"),u=i("hMVEP"),c=i("csW2r"),l=i("7gANb"),d=i("3vaB1");i("9OqWg");var p=i("hIkt0"),f=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const m=(e,t,n,i,m)=>{const{t:g}=(0,r.useTranslation)(),{mutateAsync:v}=e.useSignAndSendSolanaTransactionAsync(t);return(0,s.useMutation)({mutationFn:e=>f(void 0,[e],void 0,(function*({accountIdentifier:e,senderAddress:n,stakePubkey:r,authorizedPubkey:s,amount:c}){if(!n)throw d.MissingSenderAddressError;const{networkID:p,address:f}=n,y=function({stakePubkey:e,authorizedPubkey:t,amount:n,transaction:o=new(0,u.Transaction)}){return o.add(u.StakeProgram.withdraw({stakePubkey:e,authorizedPubkey:t,toPubkey:t,lamports:n})),o}({stakePubkey:r,authorizedPubkey:s,amount:c}),h=yield i.addPriorityFee(y,{connection:t}),S={ownerAddress:null!=f?f:"",networkID:p,data:{signature:""},type:l.PendingTransactionType.WithdrawStake,display:{summary:{topLeft:{label:g("transactionsPendingWithdrawingStake")}}}};m.then((e=>e.approved({chainType:a.AddressType.Solana,chainName:o.Chain.Solana,networkId:o.Chains.getSolanaNetworkIDValue(p),type:"withdraw"})));const b=yield v({accountIdentifier:e,feePayer:new(0,u.PublicKey)(f),transaction:h,pendingTransactionInput:S});return m.then((e=>e.submittedTransaction(b,{chainType:a.AddressType.Solana,chainName:o.Chain.Solana,networkId:o.Chains.getSolanaNetworkIDValue(p),method:"signAndSendTransaction"}))),{networkID:p,id:null!=b?b:""}})),onSuccess:e=>{(0,l.waitForTransactionConfirmation)({connection:t,signature:e.id}).then((()=>{m.then((t=>t.transactionStatus(e.id,{chainType:a.AddressType.Solana,chainName:o.Chain.Solana,networkId:o.Chains.getSolanaNetworkIDValue(e.networkID),status:{type:"confirmed"}}))),(0,p.invalidateAllStakeAccountData)(n)()})).catch((t=>{m.then((t=>t.transactionStatus(e.id,{chainType:a.AddressType.Solana,chainName:o.Chain.Solana,networkId:o.Chains.getSolanaNetworkIDValue(e.networkID),status:{type:"error"}}))),c.telemetry.captureError(t,c.FeatureTag.Staking)}))}})}})),i.register("5ZOeC",(function(t,n){e(t.exports,"useCreateStakeAccountAndDelegateStake",(function(){return v}),(function(e){return v=e}));var o=i("iOvk1"),r=i("43063"),a=i("7mQ3Y"),s=i("3tdpt"),u=i("hMVEP"),c=i("csW2r"),l=i("7gANb"),d=i("3vaB1");i("9OqWg");var p=i("hIkt0"),f=i("6fWI5"),m=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};function g({lamports:e,votePubkey:t,authorizedPubkey:n}){const[o,r]=function({ownerPublicKey:e,lamports:t,transaction:n=new(0,u.Transaction)}){const o=u.Keypair.generate();return n.add(u.StakeProgram.createAccount({fromPubkey:e,stakePubkey:o.publicKey,authorized:new(0,u.Authorized)(e,e),lamports:t})),[n,o]}({ownerPublicKey:n,lamports:e});return o.add((0,f.delegateStake)({stakePubkey:r.publicKey,authorizedPubkey:n,votePubkey:t})),[o,r]}const v=(e,t,n,i,f)=>{const{t:v}=(0,r.useTranslation)(),{mutateAsync:y}=e.useSignAndSendSolanaTransactionAsync(t);return(0,s.useMutation)({mutationFn:e=>m(void 0,[e],void 0,(function*({accountIdentifier:e,senderAddress:n,lamports:r,votePubkey:s,authorizedPubkey:c,usdPerSol:p}){if(!n)throw d.MissingSenderAddressError;const{networkID:m,address:h}=n,[S,b]=g({accountIdentifier:e,senderAddress:n,lamports:r,votePubkey:s,authorizedPubkey:c}),k=yield i.addPriorityFee(S,{connection:t}),w={ownerAddress:null!=h?h:"",networkID:m,data:{signature:""},type:l.PendingTransactionType.CreateAccountAndDelegateStake,display:{summary:{topLeft:{label:v("transactionsPendingCreatingAndDelegatingStake")}}}};f.then((e=>e.approved({chainType:a.AddressType.Solana,chainName:o.Chain.Solana,networkId:o.Chains.getSolanaNetworkIDValue(m),type:"delegate"})));const A=yield y({accountIdentifier:e,feePayer:new(0,u.PublicKey)(h),transaction:k,pendingTransactionInput:w,opts:{additionalSignerAccounts:[b]}});f.then((e=>e.submittedTransaction(A,{chainType:a.AddressType.Solana,chainName:o.Chain.Solana,networkId:o.Chains.getSolanaNetworkIDValue(m),method:"signAndSendTransaction"})));const T=(0,u.lamportsToSolana)(r),C=p?T.times(p):void 0;return f.then((e=>e.createStakeAccountAndDelegateStake({sol:T.toNumber(),usd:null==C?void 0:C.toNumber(),voteAccountPubkey:s}))),{networkID:m,id:null!=A?A:""}})),onSuccess:e=>{(0,l.waitForTransactionConfirmation)({connection:t,signature:e.id}).then((()=>{f.then((t=>t.transactionStatus(e.id,{chainType:a.AddressType.Solana,chainName:o.Chain.Solana,networkId:o.Chains.getSolanaNetworkIDValue(e.networkID),status:{type:"confirmed"}}))),(0,p.invalidateAllStakeAccountData)(n)()})).catch((t=>{f.then((t=>t.transactionStatus(e.id,{chainType:a.AddressType.Solana,chainName:o.Chain.Solana,networkId:o.Chains.getSolanaNetworkIDValue(e.networkID),status:{type:"error"}}))),c.telemetry.captureError(t,c.FeatureTag.Staking)}))}})}})),i.register("8lG7n",(function(t,n){e(t.exports,"useConvertStakeAccountInfoPageProps",(function(){return d}));var o=i("iOvk1"),r=i("7mQ3Y"),a=i("29o0l"),s=i("liNiM"),u=i("FEhzp"),c=i("cKEWg"),l=i("kFx26");const d=(e,t,n,i)=>{var d;const{connection:p}=n.useSelectedSolanaConnection(),{data:f}=t.useSelectedChainAddress(r.AddressType.Solana),{initLiquidStake:m}=(0,l.useNativeLiquidStaking)(i,o.Chains.solana.mainnetID),{trackConvertModalContinue:g,trackConvertModalNotNow:v}=(0,c.useConvertStakeAnalytics)(),{results:y,isFetched:h}=(0,u.useValidators)(p),S=(0,a.useMemo)((()=>new Map(y.map((e=>[e.voteAccountPubkey,e])))),[y]),b=(0,s.usePrefetchConvertStakeAccountList)(p,null!==(d=null==f?void 0:f.address)&&void 0!==d?d:"",S,h);return(0,a.useEffect)((()=>{b()}),[b]),(0,a.useEffect)((()=>{m(e)}),[e,m]),{trackConvertModalContinue:g,trackConvertModalNotNow:v}}})),i.register("liNiM",(function(t,n){e(t.exports,"useConvertStakeAccountList",(function(){return g}),(function(e){return g=e})),e(t.exports,"usePrefetchConvertStakeAccountList",(function(){return v}),(function(e){return v=e}));var o=i("3tdpt"),r=i("hMVEP"),a=i("29o0l"),s=i("5SMLK"),u=i("7dNLn"),c=i("kX9T3"),l=i("d5USZ"),d=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const p=(e,t,n)=>d(void 0,void 0,void 0,(function*(){const o=(e=>{const t=[];return e.ownerPublicKey&&t.push({memcmp:{offset:44,bytes:e.ownerPublicKey}}),e.voteAccountPublicKey&&t.push({dataSize:200},{memcmp:{offset:124,bytes:e.voteAccountPublicKey}}),t})(t),i=yield e.getParsedProgramAccounts(r.StakeProgram.programId,{filters:o}),a=(yield Promise.allSettled(i.map((t=>(0,l.getStakeActivationData)(e,t.pubkey.toString()))))).map((e=>{if("fulfilled"===e.status)return e.value.state})),u=(yield Promise.allSettled(i.map((e=>{var t,o,r;const i=null===(t=e.account.data.parsed.info)||void 0===t?void 0:t.stake.delegation.voter,a=n.get(i),u=null===(o=null==a?void 0:a.info)||void 0===o?void 0:o.keybaseUsername,c=null===(r=null==a?void 0:a.info)||void 0===r?void 0:r.iconUrl;return c?new Promise((e=>e(c))):u?(0,s.getKeybaseUserAvatar)(u):new Promise((e=>e(null)))})))).map((e=>{if("fulfilled"===e.status&&null!==e.value)return e.value}));return i.map(((e,t)=>Object.assign({pubkey:e.pubkey.toString(),lamports:e.account.lamports,activationState:a[t],imageUri:u[t]},e.account.data.parsed)))})),f=(e,t)=>u.stakingQueryKeys.convertStakeAccountList(e,t),m=(e,t,n)=>()=>p(e,{ownerPublicKey:t},n);function g(e,t,n,r=!0){const i=f(t,e.rpcEndpoint),a=m(e,t,n);return(0,o.useQuery)({queryKey:i,queryFn:a,enabled:!!t&&r,staleTime:c.StaleTime.Never})}const v=(e,t,n,r)=>{const i=(0,o.useQueryClient)();return(0,a.useCallback)((()=>d(void 0,void 0,void 0,(function*(){r&&(yield i.prefetchQuery(f(t,e.rpcEndpoint),(()=>p(e,{ownerPublicKey:t},n))))}))),[i,t,e,n,r])}})),i.register("cKEWg",(function(t,n){e(t.exports,"useConvertStakeAnalytics",(function(){return c}));var o=i("h0VH5"),r=i("iOvk1"),a=i("7mQ3Y"),s=i("29o0l");let u=null;const c=()=>{const e=(0,o.useAnalytics)(),t=(e=>{if(!u&&e){const t="liquidStake";u=new(0,o.SequenceAnalytics)(e,t)}if(!u)throw new Error("liquidStakeAnalytics was not properly configured");return u})(e),n=(0,s.useCallback)(((t,n)=>{e.capture("liquidStakingConvertAccountClicked",{data:{stake:{validatorName:t,stakeAccountBalance:n}}})}),[e]),i=(0,s.useCallback)((t=>{e.capture("liquidStakingConvertAccountListSeen",{data:{stake:{stakeAccounts:t}}})}),[e]),c=(0,s.useCallback)((()=>{e.capture("liquidStakingConvertBannerClicked")}),[e]),l=(0,s.useCallback)((()=>{e.capture("liquidStakingConvertBannerSeen")}),[e]),d=(0,s.useCallback)((()=>{e.capture("liquidStakingConvertModalContinue")}),[e]),p=(0,s.useCallback)((()=>{e.capture("liquidStakingConvertModalNotNow")}),[e]),f=(0,s.useCallback)((({provider:t,convertDetails:n,amount:o,fromAmount:r,toAmount:i,fromAmountUSD:a,toAmountUSD:s})=>{e.capture("liquidStakingConvertApprovedByUser",{data:{stake:{stakePoolAddress:null==t?void 0:t.stakePoolAddress,token:null==t?void 0:t.stakePoolTokenMetadata.metadata.name,fromAmount:r,toAmount:i,fromAmountUSD:a,toAmountUSD:s,apy:null==t?void 0:t.apy,convertRatio:null==t?void 0:t.convertRatio,caip19:null==t?void 0:t.stakePoolTokenMetadata.caip19,validatorName:null==n?void 0:n.validatorName,stakeAccountBalance:o}}})}),[e]),m=(0,s.useCallback)((e=>{t.submittedTransaction(e,{chainType:a.AddressType.Solana,chainName:r.Chain.Solana,networkId:"mainnet",method:"signAndSendTransaction"})}),[t]),g=(0,s.useCallback)((({amount:t,convertDetails:n,provider:o})=>{e.capture("liquidStakingConvertSuccess",{data:{stake:{apy:null==o?void 0:o.apy,convertRatio:null==o?void 0:o.convertRatio,caip19:null==o?void 0:o.stakePoolTokenMetadata.caip19,stakePoolAddress:null==o?void 0:o.stakePoolAddress,token:null==o?void 0:o.stakePoolTokenMetadata.metadata.name,totalAmount:t,validatorName:null==n?void 0:n.validatorName}}})}),[e]);return{trackConvertStakeAccountClicked:n,trackConvertStakeAccountListSeen:i,trackConvertBannerClicked:c,trackConvertBannerSeen:l,trackConvertModalContinue:d,trackConvertModalNotNow:p,trackConvertApprovedByUser:f,trackConvertFailed:(0,s.useCallback)((({amount:t,convertDetails:n})=>{e.capture("liquidStakingConvertFailed",{data:{stake:{validatorName:null==n?void 0:n.validatorName,stakeAccountBalance:t}}})}),[e]),trackConvertSubmitted:m,trackConvertSuccess:g,trackConvertMoreClicked:(0,s.useCallback)((()=>{e.capture("liquidStakingConvertMoreClicked")}),[e])}}})),i.register("kFx26",(function(t,n){e(t.exports,"useNativeLiquidStaking",(function(){return a}));var o=i("f5UU6"),r=i("i6CYo");const a=(e,t)=>{const n=o.NETWORK_TO_NATIVE_FUNGIBLE.get(t);return(0,r.useLiquidStaking)(e,n)}})),i.register("i6CYo",(function(t,n){e(t.exports,"useLiquidStaking",(function(){return l}));var o=i("iOvk1"),r=i("5slFC"),a=i("29o0l"),s=i("7E9lQ"),u=i("66NgB");i("bX8dN");var c=i("5HQUf");const l=(e,t)=>{const n=(0,c.useLiquidStakingStore)((e=>e.setProvider)),i=(0,c.useLiquidStakingStore)((e=>e.setFungibleToStake)),l=(0,c.useLiquidStakingStore)((e=>e.setSkipDismissRouting)),d=(0,a.useMemo)((()=>t?(0,o.encodeCaip19)((0,r.getFungibleCaip19FromFungible)(t)):""),[t]),{data:p,isLoading:f}=(0,s.useAverageValidatorApy)(e),m=p?p/100:null,{data:g={},isLoading:v}=(0,u.useLiquidStakingSupportedTokens)(e),y=(0,a.useMemo)((()=>{var e;return null!==(e=g[d])&&void 0!==e?e:[]}),[d,g]),h=y?y[0]:void 0,S=(0,a.useCallback)((e=>{h&&t&&(i(t),n(h),l(e))}),[t,h,i,n,l]);return{isLoading:v||f,isSupported:y.length>0,providers:y,initLiquidStake:S,defaultProvider:h,avgValidatorApy:m}}})),i.register("7E9lQ",(function(t,n){e(t.exports,"useAverageValidatorApy",(function(){return l}),(function(e){return l=e}));var o=i("3tdpt"),r=i("csW2r"),a=i("RVqnc"),s=i("9eCWz"),u=i("7dNLn"),c=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const l=e=>{const t=u.stakingQueryKeys.averageValidatorApy();return(0,o.useQuery)({enabled:!0,queryKey:t,cacheTime:(0,a.toMilliseconds)({hours:1}),staleTime:1/0,queryFn(){return c(this,void 0,void 0,(function*(){return(0,s.getAverageValidatorApy)(e())}))},onError(e){r.telemetry.captureError(e,r.FeatureTag.Staking)}})}})),i.register("9eCWz",(function(t,n){e(t.exports,"getAverageValidatorApy",(function(){return u}),(function(e){return u=e}));var o=i("beWYh"),r=i("jjhma"),a=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const s=new Error("Failed to fetch Average Validator APY");function u(e){return a(this,void 0,void 0,(function*(){const t=yield o.rb.get(`${e}/staking/v1/avg-validator-apy`);if(!(0,o.responseIsOkay)(t))throw s;const n=r.StakeApy.safeParse(t.data);if(n.success)return n.data.apy;throw s}))}})),i.register("66NgB",(function(t,n){e(t.exports,"useLiquidStakingSupportedTokens",(function(){return d}),(function(e){return d=e}));var o=i("3tdpt"),r=i("csW2r"),a=i("RVqnc"),s=i("bqBHl"),u=i("7dNLn"),c=i("kX9T3"),l=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const d=e=>{const t=u.stakingQueryKeys.liquidStakingSupportedTokens(e());return(0,o.useQuery)({queryKey:t,cacheTime:(0,a.toMilliseconds)({hours:1}),staleTime:c.StaleTime.Never,queryFn(){return l(this,void 0,void 0,(function*(){return yield(0,s.getLiquidStakingSupportedTokens)(e())}))},onError(e){r.telemetry.captureError(e,r.FeatureTag.Staking)}})}})),i.register("bqBHl",(function(t,n){e(t.exports,"getLiquidStakingSupportedTokens",(function(){return c}),(function(e){return c=e}));var o=i("beWYh"),r=i("jjhma"),a=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const s=new Error("Failed to fetch liquid staking supported tokens"),u=new Error("Missing supported tokens in response");function c(e){return a(this,void 0,void 0,(function*(){try{const t=yield o.rb.get(`${e}/liquid-staking/v1/supported-tokens`);if(!(0,o.responseIsOkay)(t))throw s;const n=r.LiquidStakingSupportedTokens.safeParse(t.data.supportedTokens);if(!n.success)throw u;return n.data}catch(e){throw s}}))}})),i.register("bX8dN",(function(t,n){e(t.exports,"useLiquidStakingStore",(function(){return i("5HQUf").useLiquidStakingStore}));i("5HQUf")})),i.register("5HQUf",(function(n,o){e(n.exports,"useLiquidStakingStore",(function(){return s}));var r=i("gTwcH");const a={transactionData:void 0,fungibleToStake:void 0,provider:void 0,convert:{validatorVote:"",stakeAccount:"",validatorName:"",eligibleAccountsCount:0},amount:"",navigateTo:null,skipDismissRouting:void 0},s=t(r)((e=>Object.assign(Object.assign({},a),{resetStaking:()=>e(a),setTransactionData:t=>e({transactionData:t}),setFungibleToStake:t=>e({fungibleToStake:t}),setProvider:t=>e({provider:t}),setConvertStakeAccount:t=>e({convert:t}),setAmount:t=>e({amount:t}),setNavigateTo:t=>e({navigateTo:t}),setSkipDismissRouting:t=>e({skipDismissRouting:t})})))})),i.register("hTrOf",(function(t,n){e(t.exports,"useConvertStakeAccountListPageProps",(function(){return u}));var o=i("29o0l");i("bX8dN");var r=i("5HQUf"),a=i("gQcB9"),s=i("cKEWg");const u=({accountHooks:e,transactionHooks:t,navigateToReviewPage:n})=>{var i,u;const c=(0,r.useLiquidStakingStore)((e=>e.setConvertStakeAccount)),l=(0,r.useLiquidStakingStore)((e=>e.setAmount)),d=(0,r.useLiquidStakingStore)((e=>e.fungibleToStake)),p=(0,r.useLiquidStakingStore)((e=>e.provider)),{trackConvertStakeAccountClicked:f,trackConvertStakeAccountListSeen:m}=(0,s.useConvertStakeAnalytics)(),{error:g,refetch:v,isLoadingList:y,eligibleStakeAccounts:h,inelegibleStakeAccounts:S}=(0,a.useConvertibleStakeAccounts)({accountHooks:e,transactionHooks:t,provider:p});(0,o.useEffect)((()=>{y||m([...h,...S].map((e=>({title:e.title,amount:e.amount,eligible:e.eligible}))))}),[m,h,S,y]);const b=(0,o.useCallback)((e=>{var t,o,r,i,a,s;const u=null!==(i=null===(r=null===(o=null===(t=null==e?void 0:e.info)||void 0===t?void 0:t.stake)||void 0===o?void 0:o.delegation)||void 0===r?void 0:r.voter)&&void 0!==i?i:"",d=`${null!==(a=null==e?void 0:e.lamports)&&void 0!==a?a:"0"}`,p=null!==(s=null==e?void 0:e.title)&&void 0!==s?s:"";c({validatorVote:u,stakeAccount:e.pubkey,validatorName:p,eligibleAccountsCount:h.length}),l(d),f(p,d),n()}),[f,h.length,n,c,l]),k=(0,o.useCallback)((()=>{v()}),[v]);return{isLoading:y,error:g,eligibleStakeAccounts:h,inelegibleStakeAccounts:S,onReload:k,onSelectStakeAccount:b,tokenSymbol:null!==(i=null==d?void 0:d.data.symbol)&&void 0!==i?i:"",tokenDecimals:null!==(u=null==d?void 0:d.data.decimals)&&void 0!==u?u:0}}})),i.register("gQcB9",(function(t,n){e(t.exports,"useConvertibleStakeAccounts",(function(){return d}));var o=i("4xbAj"),r=i("7mQ3Y"),a=i("29o0l"),s=i("liNiM"),u=i("FEhzp"),c=i("jjhma"),l=i("9T5hE");const d=({accountHooks:e,transactionHooks:t,provider:n})=>{var o;const i=null==n?void 0:n.validators,c=(0,a.useMemo)((()=>i?new Map(i.map((e=>[e.vote_account,e]))):new Map),[i]),{connection:l}=t.useSelectedSolanaConnection(),{data:d}=e.useSelectedChainAddress(r.AddressType.Solana),{results:f,isFetched:m,isError:g}=(0,u.useValidators)(l),v=(0,a.useMemo)((()=>new Map(f.map((e=>[e.voteAccountPubkey,e])))),[f]),{data:y,isLoading:h,isFetching:S,error:b,refetch:k}=(0,s.useConvertStakeAccountList)(l,null!==(o=null==d?void 0:d.address)&&void 0!==o?o:"",v,m||g),w=h||S,A=(0,a.useMemo)((()=>w||!y?[]:y.map((e=>p(e,v,c))).sort(((e,t)=>e.lamports>t.lamports?-1:1))),[w,y,v,c]),T=(0,a.useMemo)((()=>A.filter((e=>e.eligible))),[A]),C=(0,a.useMemo)((()=>A.filter((e=>!e.eligible))),[A]);return{hasConvertibleStakeAccounts:T.length>0,eligibleStakeAccounts:T,inelegibleStakeAccounts:C,isLoadingList:w,error:b,refetch:k}},p=(e,t,n)=>{const o=(0,l.isEligibleToConvert)(e,n),r=f(e,t),i=e.lamports;return Object.assign(Object.assign({},e),{amount:i,eligible:o,title:r,imageUri:e.imageUri})},f=(e,t)=>{var n,r,i;let a="";if(e.type===c.StakeAccountType.Delegated){const{voter:s}=e.info.stake.delegation,u=t.get(s),c=null===(n=null==u?void 0:u.info)||void 0===n?void 0:n.keybaseUsername,l=null===(r=null==u?void 0:u.info)||void 0===r?void 0:r.name;a=null!==(i=null!=l?l:c)&&void 0!==i?i:(0,o.formatHashMedium)(s)}else e.type===c.StakeAccountType.Initialized&&(a=e.pubkey);return a}})),i.register("9T5hE",(function(t,n){e(t.exports,"isEligibleToConvert",(function(){return a}));var o=i("jjhma"),r=i("6iCXA");const a=(e,t)=>{var n,i,a,s;if(e.type===o.StakeAccountType.Initialized)return!1;const u=null!==(s=null===(a=null===(i=null===(n=null==e?void 0:e.info)||void 0===n?void 0:n.stake)||void 0===i?void 0:i.delegation)||void 0===a?void 0:a.voter)&&void 0!==s?s:"",c=(0,r.isLockedStakeAccount)(e);return"active"===e.activationState&&t.has(u)&&!c}})),i.register("6iCXA",(function(t,n){function o(e){var t,n;const o=!!(null==e?void 0:e.info.meta.lockup),r=new Date(1e3*(null!==(n=null===(t=null==e?void 0:e.info.meta.lockup)||void 0===t?void 0:t.unixTimestamp)&&void 0!==n?n:0));return o&&r.getTime()>Date.now()}e(t.exports,"isLockedStakeAccount",(function(){return o}))})),i.register("j8dxk",(function(t,n){e(t.exports,"useConvertStakeAccountReviewPageProps",(function(){return p}));var o=i("iOvk1"),r=i("5slFC"),a=i("7mQ3Y"),s=i("29o0l"),u=i("k9HWV");i("bX8dN");var c=i("5HQUf"),l=i("1uG6h"),d=i("cKEWg");const p=({accountHooks:e,fungibleHooks:t,transactionHooks:n,priceHooks:i,priorityFeeService:p,navigateToStatusPage:f})=>{var m,g,v,y,h;const{data:S}=e.useSelectedChainAddress(a.AddressType.Solana),{trackConvertApprovedByUser:b}=(0,d.useConvertStakeAnalytics)(),k=(0,c.useLiquidStakingStore)((e=>e.convert)),w=(0,c.useLiquidStakingStore)((e=>e.provider)),A=(0,c.useLiquidStakingStore)((e=>e.amount)),T=(0,c.useLiquidStakingStore)((e=>e.setTransactionData)),{connection:C}=n.useSelectedSolanaConnection(),{fungible:x}=t.useGetFungibleBalance({key:(null==w?void 0:w.stakePoolTokenMetadata.metadata.address)||""}),E=x?(0,r.parseOwnerAddress)(x):void 0,{data:I,isLoading:P}=(0,u.useGetConvertStakeAccountTransaction)({connection:C,networkId:null!==(m=null==w?void 0:w.chainId)&&void 0!==m?m:o.Chains.solana.mainnetID,stakePoolAddress:null!==(g=null==w?void 0:w.stakePoolAddress)&&void 0!==g?g:"",ownerAddress:null!==(v=null==S?void 0:S.address)&&void 0!==v?v:"",validatorVoteAddress:null!==(y=null==k?void 0:k.validatorVote)&&void 0!==y?y:"",stakeAccountAddress:null!==(h=null==k?void 0:k.stakeAccount)&&void 0!==h?h:"",poolTokenAccountAddress:E,priorityFeeService:p}),F=(0,l.useLiquidStakeReviewPageProps)({process:"convert",accountHooks:e,fungibleHooks:t,transactionHooks:n,priceHooks:i,transactionData:I,isLoadingTransactionData:P}),N=(0,s.useCallback)((()=>{var e,t,n,o;b({provider:w,convertDetails:k,amount:A,fromAmount:null===(e=F.payAsset)||void 0===e?void 0:e.amount,toAmount:null===(t=F.receiveAsset)||void 0===t?void 0:t.amount,fromAmountUSD:null===(n=F.payAsset)||void 0===n?void 0:n.amountUsd,toAmountUSD:null===(o=F.receiveAsset)||void 0===o?void 0:o.amountUsd}),T(I),f()}),[f,T,I,b,k,w,F,A]);return Object.assign(Object.assign({},F),{onPrimaryButtonPress:N})}})),i.register("k9HWV",(function(t,n){e(t.exports,"useGetConvertStakeAccountTransaction",(function(){return d}),(function(e){return d=e}));var o=i("iOvk1"),r=i("3tdpt"),a=i("csW2r");i("ls3Bv");var s=i("aye90"),u=i("7dNLn"),c=i("kX9T3"),l=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const d=e=>{const t=u.stakingQueryKeys.getConvertStakeTransaction({stakePoolAddress:e.stakePoolAddress,ownerAddress:e.ownerAddress,validatorVoteAddress:e.validatorVoteAddress,stakeAccountAddress:e.stakeAccountAddress,poolTokenAccountAddress:e.poolTokenAccountAddress}),n=!!(e.stakePoolAddress&&e.ownerAddress&&e.validatorVoteAddress&&e.stakeAccountAddress);return(0,r.useQuery)({enabled:n,queryKey:t,staleTime:c.StaleTime.Never,queryFn(){return l(this,void 0,void 0,(function*(){if(o.Chains.isSolanaNetworkID(e.networkId)){const{transaction:t,signers:n}=yield(0,s.getConvertStakeAccountTransaction)(e);return{networkID:e.networkId,transaction:t,signers:n}}throw new Error(`Unsupported networkId: ${e.networkId}`)}))},onError(e){a.telemetry.captureError(e,a.FeatureTag.Staking)}})}})),i.register("ls3Bv",(function(t,n){e(t.exports,"getConvertStakeAccountTransaction",(function(){return i("aye90").getConvertStakeAccountTransaction})),e(t.exports,"getMintPoolTokenTransaction",(function(){return i("c0UDV").getMintPoolTokenTransaction}));i("aye90"),i("c0UDV")})),i.register("aye90",(function(t,n){e(t.exports,"getConvertStakeAccountTransaction",(function(){return l}),(function(e){return l=e}));var o=i("iOvk1"),r=i("hMVEP"),a=i("7gANb"),s=i("8kUwL"),u=i("jsXSE"),c=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const l=e=>c(void 0,[e],void 0,(function*({connection:e,stakePoolAddress:t,ownerAddress:n,validatorVoteAddress:i,stakeAccountAddress:c,poolTokenAccountAddress:l,priorityFeeService:d}){const p=new(0,r.PublicKey)(t),f=new(0,r.PublicKey)(n),m=new(0,r.PublicKey)(i),g=new(0,r.PublicKey)(c),v=l?new(0,r.PublicKey)(l):void 0,y=new(0,r.PublicKey)((0,s.getReferralAccount)(n)),{instructions:h,signers:S}=yield(0,u.depositStake)(e,p,f,m,g,v,y),b=(yield e.getLatestBlockhash("confirmed")).blockhash,k=new(0,r.VersionedTransaction)(new(0,r.TransactionMessage)({instructions:h,payerKey:f,recentBlockhash:b}).compileToV0Message());return{transaction:yield d.addPriorityFee(k,{connection:(0,a.createConnectionBySolanaNetworkID)(o.NetworkIDs.Solana.Mainnet),calculators:{cost:a.BACKEND_FEE_CALCULATOR,budget:new(0,a.ComputeOptimizedLimitCalculator)(a.DEFAULT_COMPUTE_UNITS_PER_IX,a.DEFAULT_COMPUTE_UNITS_PER_IX)}}),signers:S}}))})),i.register("8kUwL",(function(n,o){e(n.exports,"getReferralAccount",(function(){return c}));var r=i("kK5gs"),a=i("85iHy"),s=i("8tcqI").Buffer;const u=[69,107,109,106,121,122,120,100,105,53,52,51,110,99,76,56,54,116,99,97,67,65,100,117,108,79,119,121,110,86,53,68,118,54,86,67,109,73,84,117,118,48,51,118,53,101,98,76,80,98,48,88,101,57,111,108,82,71,75,72,85,71,119,68,117,116,111,117,68,117,77,55,49,88,65,106,55,97,111,74,102,77,78,106,56,119,61,61],c=e=>{const n=`${String.fromCharCode(...u)}||${e}`,o=(0,r.sha256)(s.from(n));return t(a).encode(o)}})),i.register("kK5gs",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.sha224=e.exports.sha256=void 0;var n=i("629sm"),o=i("729hD");const r=(e,t,n)=>e&t^e&n^t&n,a=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),s=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),u=new Uint32Array(64);class c extends n.SHA2{get(){const{A:e,B:t,C:n,D:o,E:r,F:i,G:a,H:s}=this;return[e,t,n,o,r,i,a,s]}set(e,t,n,o,r,i,a,s){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|o,this.E=0|r,this.F=0|i,this.G=0|a,this.H=0|s}process(e,t){for(let n=0;n<16;n++,t+=4)u[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=u[e-15],n=u[e-2],r=(0,o.rotr)(t,7)^(0,o.rotr)(t,18)^t>>>3,i=(0,o.rotr)(n,17)^(0,o.rotr)(n,19)^n>>>10;u[e]=i+u[e-7]+r+u[e-16]|0}let{A:n,B:i,C:s,D:c,E:l,F:d,G:p,H:f}=this;for(let e=0;e<64;e++){const t=f+((0,o.rotr)(l,6)^(0,o.rotr)(l,11)^(0,o.rotr)(l,25))+((m=l)&d^~m&p)+a[e]+u[e]|0,g=((0,o.rotr)(n,2)^(0,o.rotr)(n,13)^(0,o.rotr)(n,22))+r(n,i,s)|0;f=p,p=d,d=l,l=c+t|0,c=s,s=i,i=n,n=t+g|0}var m;n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,c=c+this.D|0,l=l+this.E|0,d=d+this.F|0,p=p+this.G|0,f=f+this.H|0,this.set(n,i,s,c,l,d,p,f)}roundClean(){u.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}constructor(){super(64,32,8,!1),this.A=0|s[0],this.B=0|s[1],this.C=0|s[2],this.D=0|s[3],this.E=0|s[4],this.F=0|s[5],this.G=0|s[6],this.H=0|s[7]}}class l extends c{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}e.exports.sha256=(0,o.wrapConstructor)((()=>new c)),e.exports.sha224=(0,o.wrapConstructor)((()=>new l))})),i.register("629sm",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.SHA2=void 0;var n=i("cfNwb"),o=i("729hD");class r extends o.Hash{update(e){(0,n.exists)(this);const{view:t,buffer:r,blockLen:i}=this,a=(e=(0,o.toBytes)(e)).length;for(let n=0;n<a;){const s=Math.min(i-this.pos,a-n);if(s!==i)r.set(e.subarray(n,n+s),this.pos),this.pos+=s,n+=s,this.pos===i&&(this.process(t,0),this.pos=0);else{const t=(0,o.createView)(e);for(;i<=a-n;n+=i)this.process(t,n)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.exists)(this),(0,n.output)(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:a}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let e=s;e<i;e++)t[e]=0;!function(e,t,n,o){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,o);const r=BigInt(32),i=BigInt(4294967295),a=Number(n>>r&i),s=Number(n&i),u=o?4:0,c=o?0:4;e.setUint32(t+u,a,o),e.setUint32(t+c,s,o)}(r,i-8,BigInt(8*this.length),a),this.process(r,0);const u=(0,o.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)u.setUint32(4*e,d[e],a)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:o,finished:r,destroyed:i,pos:a}=this;return e.length=o,e.pos=a,e.finished=r,e.destroyed=i,o%t&&e.buffer.set(n),e}constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,o.createView)(this.buffer)}}e.exports.SHA2=r})),i.register("cfNwb",(function(e,t){"use strict";function n(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function o(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function r(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function i(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)}function a(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function s(e,t){r(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.output=e.exports.exists=e.exports.hash=e.exports.bytes=e.exports.bool=e.exports.number=void 0,e.exports.number=n,e.exports.bool=o,e.exports.bytes=r,e.exports.hash=i,e.exports.exists=a,e.exports.output=s;const u={number:n,bool:o,bytes:r,hash:i,exists:a,output:s};e.exports.default=u})),i.register("729hD",(function(e,t){"use strict";
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.randomBytes=e.exports.wrapXOFConstructorWithOpts=e.exports.wrapConstructorWithOpts=e.exports.wrapConstructor=e.exports.checkOpts=e.exports.Hash=e.exports.concatBytes=e.exports.toBytes=e.exports.utf8ToBytes=e.exports.asyncLoop=e.exports.nextTick=e.exports.hexToBytes=e.exports.bytesToHex=e.exports.isLE=e.exports.rotr=e.exports.createView=e.exports.u32=e.exports.u8=void 0;var n=i("cX2qN");const o=e=>e instanceof Uint8Array;e.exports.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);e.exports.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));e.exports.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(e.exports.rotr=(e,t)=>e<<32-t|e>>>t,e.exports.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!e.exports.isLE)throw new Error("Non little-endian hardware is not supported");const r=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));e.exports.bytesToHex=function(e){if(!o(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=r[e[n]];return t},e.exports.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let t=0;t<n.length;t++){const o=2*t,r=e.slice(o,o+2),i=Number.parseInt(r,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[t]=i}return n};function a(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function s(e){if("string"==typeof e&&(e=a(e)),!o(e))throw new Error("expected Uint8Array, got "+typeof e);return e}e.exports.nextTick=async()=>{},e.exports.asyncLoop=async function(t,n,o){let r=Date.now();for(let i=0;i<t;i++){o(i);const t=Date.now()-r;t>=0&&t<n||(await(0,e.exports.nextTick)(),r+=t)}},e.exports.utf8ToBytes=a,e.exports.toBytes=s,e.exports.concatBytes=function(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let n=0;return e.forEach((e=>{if(!o(e))throw new Error("Uint8Array expected");t.set(e,n),n+=e.length})),t};e.exports.Hash=class{clone(){return this._cloneInto()}};const u={}.toString;e.exports.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==u.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},e.exports.wrapConstructor=function(e){const t=t=>e().update(s(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t},e.exports.wrapConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(s(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},e.exports.wrapXOFConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(s(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},e.exports.randomBytes=function(e=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}})),i.register("cX2qN",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.crypto=void 0,e.exports.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0})),i.register("jsXSE",(function(n,o){e(n.exports,"depositStake",(function(){return v}),(function(e){return v=e})),e(n.exports,"depositSol",(function(){return y}),(function(e){return y=e}));var r=i("hMVEP"),a=i("fxZCU"),s=i("dNfx5"),u=i("c1rzP"),c=i("1ZOZY"),l=i("kEQoY"),d=i("jMFTJ"),p=i("8tcqI").Buffer,f=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};function m(e,t){return f(this,void 0,void 0,(function*(){const n=yield e.getAccountInfo(t);if(!n)throw new Error("Invalid stake pool account");return{pubkey:t,account:{data:d.StakePoolLayout.decode(n.data),executable:n.executable,lamports:n.lamports,owner:n.owner}}}))}function g(e,t){return f(this,void 0,void 0,(function*(){const[n]=yield r.PublicKey.findProgramAddress([t.toBuffer(),p.from("withdraw")],e);return n}))}function v(e,n,o,i,d,v,y){return f(this,void 0,void 0,(function*(){const h=yield m(e,n),S=yield g(c.STAKE_POOL_PROGRAM_ID,n),b=yield function(e,n,o,i){return f(this,void 0,void 0,(function*(){const[a]=yield r.PublicKey.findProgramAddress([n.toBuffer(),o.toBuffer(),i?new(t(u))(i).toArrayLike(p,"le",4):p.alloc(0)],e);return a}))}(c.STAKE_POOL_PROGRAM_ID,i,n),k=[],w=h.account.data.poolMint;if(!v){const e=(0,s.getAssociatedTokenAddressSync)(w,o);k.push((0,a.createAssociatedTokenAccountIdempotentInstruction)(o,e,o,w)),v=e}return k.push(...r.StakeProgram.authorize({stakePubkey:d,authorizedPubkey:o,newAuthorizedPubkey:h.account.data.stakeDepositAuthority,stakeAuthorizationType:r.StakeAuthorizationLayout.Staker}).instructions),k.push(...r.StakeProgram.authorize({stakePubkey:d,authorizedPubkey:o,newAuthorizedPubkey:h.account.data.stakeDepositAuthority,stakeAuthorizationType:r.StakeAuthorizationLayout.Withdrawer}).instructions),k.push(l.StakePoolInstruction.depositStake({stakePool:n,validatorList:h.account.data.validatorList,depositAuthority:h.account.data.stakeDepositAuthority,reserveStake:h.account.data.reserveStake,managerFeeAccount:h.account.data.managerFeeAccount,referralPoolAccount:v,destinationPoolAccount:v,withdrawAuthority:S,depositStake:d,validatorStake:b,poolMint:w,referralAccount:y})),{instructions:k,signers:[]}}))}function y(e,t,n,o,i,u,d,p){return f(this,void 0,void 0,(function*(){const f=yield e.getBalance(n,"confirmed");if(f<o)throw new Error(`Not enough SOL to deposit into pool. Maximum deposit amount is ${function(e){if("number"==typeof e)return Math.abs(e)/r.LAMPORTS_PER_SOL;if("bigint"==typeof e)return Math.abs(Number(e))/r.LAMPORTS_PER_SOL;let t=1;e.isNeg()&&(t=-1);const n=e.abs().toString(10).padStart(10,"0"),o=n.length-9,i=n.slice(0,o)+"."+n.slice(o);return t*parseFloat(i)}(f)} SOL.`);const v=(yield m(e,t)).account.data,y=new(0,r.Keypair),h=[y],S=[];if(S.push(r.SystemProgram.transfer({fromPubkey:n,toPubkey:y.publicKey,lamports:o})),!i){const e=(0,s.getAssociatedTokenAddressSync)(v.poolMint,n);S.push((0,a.createAssociatedTokenAccountIdempotentInstruction)(n,e,n,v.poolMint)),i=e}const b=yield g(c.STAKE_POOL_PROGRAM_ID,t);return S.push(l.StakePoolInstruction.depositSol({stakePool:t,reserveStake:v.reserveStake,fundingAccount:y.publicKey,destinationPoolAccount:i,managerFeeAccount:v.managerFeeAccount,referralPoolAccount:null!=d?d:i,poolMint:v.poolMint,lamports:o,withdrawAuthority:b,depositAuthority:p,referralAccount:u})),{instructions:S,signers:h}}))}})),i.register("1ZOZY",(function(t,n){e(t.exports,"STAKE_POOL_PROGRAM_ID",(function(){return o}));const o=new(0,i("hMVEP").PublicKey)("SPoo1Ku8WFXoNDMHPsrGSTSG1Y47rzgn41SLUNakuHy")})),i.register("kEQoY",(function(t,n){e(t.exports,"StakePoolInstruction",(function(){return l}));var o=i("hMVEP"),r=i("bfrkk"),a=i("1ZOZY"),s=i("8tcqI").Buffer;const u=Object.freeze({DepositStake:{index:9,layout:o.BufferLayout.struct([o.BufferLayout.u8("instruction")])},DepositSol:{index:14,layout:o.BufferLayout.struct([o.BufferLayout.u8("instruction"),o.BufferLayout.ns64("lamports")])}});function c(e,t){const n=e.layout.span,o=s.alloc(n),r=Object.assign({instruction:e.index},t);return e.layout.encode(r,o),o}class l{static depositStake(e){const{stakePool:t,validatorList:n,depositAuthority:i,withdrawAuthority:s,depositStake:l,validatorStake:d,reserveStake:p,destinationPoolAccount:f,managerFeeAccount:m,referralPoolAccount:g,poolMint:v,referralAccount:y}=e,h=c(u.DepositStake),S=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:o.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:o.SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:o.StakeProgram.programId,isSigner:!1,isWritable:!1}];return y&&S.push({pubkey:y,isSigner:!1,isWritable:!1}),new(0,o.TransactionInstruction)({programId:a.STAKE_POOL_PROGRAM_ID,keys:S,data:h})}static depositSol(e){const{stakePool:t,withdrawAuthority:n,depositAuthority:i,reserveStake:s,fundingAccount:l,destinationPoolAccount:d,managerFeeAccount:p,referralPoolAccount:f,poolMint:m,lamports:g,referralAccount:v}=e,y=c(u.DepositSol,{lamports:g}),h=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!0,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:o.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:r.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}];return i&&h.push({pubkey:i,isSigner:!0,isWritable:!1}),v&&h.push({pubkey:v,isSigner:!1,isWritable:!1}),new(0,o.TransactionInstruction)({programId:a.STAKE_POOL_PROGRAM_ID,keys:h,data:y})}}})),i.register("jMFTJ",(function(t,n){e(t.exports,"StakePoolLayout",(function(){return a}));var o=i("6m1jp");const r=[(0,o.u64)("denominator"),(0,o.u64)("numerator")],a=(0,o.struct)([(0,o.u8)("accountType"),(0,o.publicKey)("manager"),(0,o.publicKey)("staker"),(0,o.publicKey)("stakeDepositAuthority"),(0,o.u8)("stakeWithdrawBumpSeed"),(0,o.publicKey)("validatorList"),(0,o.publicKey)("reserveStake"),(0,o.publicKey)("poolMint"),(0,o.publicKey)("managerFeeAccount"),(0,o.publicKey)("tokenProgramId"),(0,o.u64)("totalLamports"),(0,o.u64)("poolTokenSupply"),(0,o.u64)("lastUpdateEpoch"),(0,o.struct)([(0,o.u64)("unixTimestamp"),(0,o.u64)("epoch"),(0,o.publicKey)("custodian")],"lockup"),(0,o.struct)(r,"epochFee"),(0,o.option)((0,o.struct)(r),"nextEpochFee"),(0,o.option)((0,o.publicKey)(),"preferredDepositValidatorVoteAddress"),(0,o.option)((0,o.publicKey)(),"preferredWithdrawValidatorVoteAddress"),(0,o.struct)(r,"stakeDepositFee"),(0,o.struct)(r,"stakeWithdrawalFee"),(0,o.option)((0,o.struct)(r),"nextStakeWithdrawalFee"),(0,o.u8)("stakeReferralFee"),(0,o.option)((0,o.publicKey)(),"solDepositAuthority"),(0,o.struct)(r,"solDepositFee"),(0,o.u8)("solReferralFee"),(0,o.option)((0,o.publicKey)(),"solWithdrawAuthority"),(0,o.struct)(r,"solWithdrawalFee"),(0,o.option)((0,o.struct)(r),"nextSolWithdrawalFee"),(0,o.u64)("lastEpochPoolTokenSupply"),(0,o.u64)("lastEpochTotalLamports")])})),i.register("6m1jp",(function(e,t){var n=i("8tcqI").Buffer,o=e.exports&&e.exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.map=e.exports.array=e.exports.rustEnum=e.exports.str=e.exports.vecU8=e.exports.tagged=e.exports.vec=e.exports.bool=e.exports.option=e.exports.publicKey=e.exports.i256=e.exports.u256=e.exports.i128=e.exports.u128=e.exports.i64=e.exports.u64=e.exports.struct=e.exports.f64=e.exports.f32=e.exports.i32=e.exports.u32=e.exports.i16=e.exports.u16=e.exports.i8=e.exports.u8=void 0;var r=i("lCwV5"),a=i("liYfk");const s=o(i("c1rzP"));r=i("lCwV5");Object.defineProperty(e.exports,"u8",{enumerable:!0,get:function(){return r.u8}}),Object.defineProperty(e.exports,"i8",{enumerable:!0,get:function(){return r.s8}}),Object.defineProperty(e.exports,"u16",{enumerable:!0,get:function(){return r.u16}}),Object.defineProperty(e.exports,"i16",{enumerable:!0,get:function(){return r.s16}}),Object.defineProperty(e.exports,"u32",{enumerable:!0,get:function(){return r.u32}}),Object.defineProperty(e.exports,"i32",{enumerable:!0,get:function(){return r.s32}}),Object.defineProperty(e.exports,"f32",{enumerable:!0,get:function(){return r.f32}}),Object.defineProperty(e.exports,"f64",{enumerable:!0,get:function(){return r.f64}}),Object.defineProperty(e.exports,"struct",{enumerable:!0,get:function(){return r.struct}});class u extends r.Layout{decode(e,t=0){const n=new s.default(this.blob.decode(e,t),10,"le");return this.signed?n.fromTwos(8*this.span).clone():n}encode(e,t,o=0){return this.signed&&(e=e.toTwos(8*this.span)),this.blob.encode(e.toArrayLike(n,"le",this.span),t,o)}constructor(e,t,n){super(e,n),this.blob=(0,r.blob)(e),this.signed=t}}function c(e){return new u(8,!1,e)}e.exports.u64=c,e.exports.i64=function(e){return new u(8,!0,e)},e.exports.u128=function(e){return new u(16,!1,e)},e.exports.i128=function(e){return new u(16,!0,e)},e.exports.u256=function(e){return new u(32,!1,e)},e.exports.i256=function(e){return new u(32,!0,e)};class l extends r.Layout{decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}constructor(e,t,n,o){super(e.span,o),this.layout=e,this.decoder=t,this.encoder=n}}e.exports.publicKey=function(e){return new l((0,r.blob)(32),(e=>new a.PublicKey(e)),(e=>e.toBuffer()),e)};class d extends r.Layout{encode(e,t,n=0){return null==e?this.discriminator.encode(0,t,n):(this.discriminator.encode(1,t,n),this.layout.encode(e,t,n+1)+1)}decode(e,t=0){const n=this.discriminator.decode(e,t);if(0===n)return null;if(1===n)return this.layout.decode(e,t+1);throw new Error("Invalid option "+this.property)}getSpan(e,t=0){const n=this.discriminator.decode(e,t);if(0===n)return 1;if(1===n)return this.layout.getSpan(e,t+1)+1;throw new Error("Invalid option "+this.property)}constructor(e,t){super(-1,t),this.layout=e,this.discriminator=(0,r.u8)()}}function p(e){if(0===e)return!1;if(1===e)return!0;throw new Error("Invalid bool: "+e)}function f(e){return e?1:0}function m(e){const t=(0,r.u32)("length"),n=(0,r.struct)([t,(0,r.blob)((0,r.offset)(t,-t.span),"data")]);return new l(n,(({data:e})=>e),(e=>({data:e})),e)}e.exports.option=function(e,t){return new d(e,t)},e.exports.bool=function(e){return new l((0,r.u8)(),p,f,e)},e.exports.vec=function(e,t){const n=(0,r.u32)("length"),o=(0,r.struct)([n,(0,r.seq)(e,(0,r.offset)(n,-n.span),"values")]);return new l(o,(({values:e})=>e),(e=>({values:e})),t)},e.exports.tagged=function(e,t,n){const o=(0,r.struct)([c("tag"),t.replicate("data")]);return new l(o,(function({tag:t,data:n}){if(!t.eq(e))throw new Error("Invalid tag, expected: "+e.toString("hex")+", got: "+t.toString("hex"));return n}),(t=>({tag:e,data:t})),n)},e.exports.vecU8=m,e.exports.str=function(e){return new l(m(),(e=>e.toString("utf-8")),(e=>n.from(e,"utf-8")),e)},e.exports.rustEnum=function(e,t,n){const o=(0,r.union)(null!=n?n:(0,r.u8)(),t);return e.forEach(((e,t)=>o.addVariant(t,e,e.property))),o},e.exports.array=function(e,t,n){const o=(0,r.struct)([(0,r.seq)(e,t,"values")]);return new l(o,(({values:e})=>e),(e=>({values:e})),n)};class g extends r.Layout{decode(e,t){t=t||0;return[this.keyLayout.decode(e,t),this.valueLayout.decode(e,t+this.keyLayout.getSpan(e,t))]}encode(e,t,n){n=n||0;const o=this.keyLayout.encode(e[0],t,n);return o+this.valueLayout.encode(e[1],t,n+o)}getSpan(e,t){return this.keyLayout.getSpan(e,t)+this.valueLayout.getSpan(e,t)}constructor(e,t,n){super(e.span+t.span,n),this.keyLayout=e,this.valueLayout=t}}e.exports.map=function(e,t,n){const o=(0,r.u32)("length"),i=(0,r.struct)([o,(0,r.seq)(new g(e,t),(0,r.offset)(o,-o.span),"values")]);return new l(i,(({values:e})=>new Map(e)),(e=>({values:Array.from(e.entries())})),n)}})),i.register("c0UDV",(function(t,n){e(t.exports,"getMintPoolTokenTransaction",(function(){return l}),(function(e){return l=e}));var o=i("iOvk1"),r=i("hMVEP"),a=i("7gANb"),s=i("8kUwL"),u=i("jsXSE"),c=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const l=e=>c(void 0,[e],void 0,(function*({connection:e,stakePoolAddress:t,ownerAddress:n,amount:i,poolTokenAccountAddress:c,priorityFeeService:l}){const d=new(0,r.PublicKey)(t),p=new(0,r.PublicKey)(n),f=c?new(0,r.PublicKey)(c):void 0,m=new(0,r.PublicKey)((0,s.getReferralAccount)(n)),{instructions:g,signers:v}=yield(0,u.depositSol)(e,d,p,i,f,m),y=(yield e.getLatestBlockhash("confirmed")).blockhash,h=new(0,r.VersionedTransaction)(new(0,r.TransactionMessage)({instructions:g,payerKey:p,recentBlockhash:y}).compileToV0Message());return{transaction:yield l.addPriorityFee(h,{connection:(0,a.createConnectionBySolanaNetworkID)(o.NetworkIDs.Solana.Mainnet),calculators:{cost:a.BACKEND_FEE_CALCULATOR,budget:new(0,a.ComputeOptimizedLimitCalculator)(a.DEFAULT_COMPUTE_UNITS_PER_IX,a.DEFAULT_COMPUTE_UNITS_PER_IX)}}),signers:v}}))})),i.register("1uG6h",(function(t,n){e(t.exports,"useLiquidStakeReviewPageProps",(function(){return l}));var o=i("7mQ3Y"),r=i("29o0l");i("bX8dN");var a=i("5HQUf"),s=i("lXUUP"),u=i("6Yefa"),c=i("hDvW4");const l=({process:e,accountHooks:t,fungibleHooks:n,transactionHooks:i,priceHooks:l,transactionData:d,isLoadingTransactionData:p})=>{const f=(0,a.useLiquidStakingStore)((e=>e.provider)),m=(0,a.useLiquidStakingStore)((e=>e.fungibleToStake)),g=(0,a.useLiquidStakingStore)((e=>e.amount)),{data:v}=t.useSelectedChainAddress(o.AddressType.Solana),{isLoadingTokens:y}=n.useGetFungibleBalance({key:(null==f?void 0:f.stakePoolTokenMetadata.metadata.address)||""}),{isLoading:h,hasSufficientFunds:S,transactionFees:b,networkFeeErrorMsg:k}=(0,c.useLiquidStakingTransactionFees)({chainAddress:v,fungibleHooks:n,transactionData:d,transactionHooks:i}),w=(0,r.useMemo)((()=>(0,s.getPriceArgs)(m,f)),[m,f]),{data:A}=l.usePrices(w),T=p||h||y,C=!T&&!!d&&"insufficient"!==S&&!k;return(0,u.useMapToViewState)({process:e,fungibleToStake:m,amount:g,provider:f,selectedChainAddress:v,transactionFees:b,isLoading:T,canSubmit:C,priceMap:A,networkFeeErrorMsg:k})}})),i.register("lXUUP",(function(t,n){e(t.exports,"getPriceArgs",(function(){return a}));var o=i("iOvk1"),r=i("5slFC");const a=(e,t)=>{var n;const i=[],a=e?(0,r.getFungibleCaip19FromFungible)(e):void 0,s=(0,o.decodeCaip19)(null!==(n=null==t?void 0:t.stakePoolTokenMetadata.caip19)&&void 0!==n?n:"");return a&&s&&(i.push(a),i.push(s)),{query:{data:i}}}})),i.register("6Yefa",(function(n,o){e(n.exports,"useMapToViewState",(function(){return m}));var r=i("iOvk1"),a=i("5slFC"),s=i("43063");i("kram9");var u=i("4qSWN"),c=i("dbFer"),l=i("RVqnc"),d=i("kAKNF"),p=i("29o0l");const f=(e,n,o,i)=>{var u,p;if(!n||!e)return null;const f=((e,n)=>{if(!n)return t(d)(0);const o=new(t(d))(n.convertRatio);return(0,l.amountToUiAmount)(e,n.stakePoolTokenMetadata.metadata.decimals).div(o)})(o,n),m=i?i[n.stakePoolTokenMetadata.caip19]:void 0,g=(null==m?void 0:m.usd)?f.multipliedBy(m.usd):null;return{amount:(0,c.formatTokenAmountGreaterThan1)(f),amountUsd:g?`$${(0,c.formatTokenAmountGreaterThan1)(g)}`:"",border:!1,network:{id:null!==(u=n.stakePoolTokenMetadata.metadata.chainId)&&void 0!==u?u:r.SolanaNetworkID.Mainnet,name:e.data.chain.name,symbol:e.data.chain.symbol,imageUrl:e.data.chain.imageUrl},logoUri:null!==(p=n.stakePoolTokenMetadata.metadata.logoURI)&&void 0!==p?p:null,symbol:n.stakePoolTokenMetadata.metadata.symbol,title:s.i18next.t("liquidStakeReviewYouReceive"),tokenAddress:n.stakePoolTokenMetadata.metadata.address,tokenType:a.FungibleTokenType.SPL}},m=({process:e,fungibleToStake:t,amount:n,provider:o,selectedChainAddress:r,transactionFees:i,isLoading:d,canSubmit:m,priceMap:g,networkFeeErrorMsg:v})=>{var y,h,S;const b=(0,p.useMemo)((()=>((e,t,n)=>{var o,r;if(!e)return null;const i=(0,l.amountToUiAmount)(t,e.data.decimals),d=(0,u.extractPrice)(e,n),p=(null==d?void 0:d.usd)?i.multipliedBy(d.usd):null;return{amount:(0,c.formatTokenAmountGreaterThan1)(i),amountUsd:p?`$${(0,c.formatTokenAmountGreaterThan1)(p)}`:"",border:!1,logoUri:null!==(o=e.data.logoUri)&&void 0!==o?o:null,network:{id:e.data.chain.id,name:e.data.chain.name,symbol:e.data.chain.symbol,imageUrl:e.data.chain.imageUrl},symbol:e.data.symbol,tokenAddress:e.data.tokenAddress,tokenType:null!==(r=e.type)&&void 0!==r?r:a.FungibleTokenType.SolanaNative,title:s.i18next.t("liquidStakeReviewYouPay")}})(t,n,g)),[t,n,g]),k=(0,p.useMemo)((()=>f(t,o,n,g)),[t,o,n,g]),w=null!==(y=null==o?void 0:o.name)&&void 0!==y?y:"";return{process:e,payAsset:b,receiveAsset:k,account:null!==(h=null==r?void 0:r.address)&&void 0!==h?h:"",providerName:w,apy:void 0!==(null==o?void 0:o.apy)?(0,l.formatPercentage)(Number.parseFloat(o.apy)):"",networkFee:`${(0,a.formatAmount)((0,l.amountToUiAmount)(i,null!==(S=null==t?void 0:t.data.decimals)&&void 0!==S?S:0))} ${null==t?void 0:t.data.symbol}`,accountLabelText:s.i18next.t("stakeReviewAccount"),providerLabelText:s.i18next.t("liquidStakeReviewProvider"),apyLabelText:s.i18next.t("stakeReviewAPY"),networkFeeLabelText:s.i18next.t("liquidStakeReviewNetworkFee"),primaryButtonText:s.i18next.t("convert"===e?"commandConvert":"commandStake"),isLoading:d,canSubmit:m,networkFeeErrorMsg:v}}})),i.register("kram9",(function(t,n){e(t.exports,"useSwapperStore",(function(){return i("iTQ0V").useSwapperStore})),e(t.exports,"HIGH_PRICE_IMPACT_THRESHOLD",(function(){return i("2UOPE").HIGH_PRICE_IMPACT_THRESHOLD})),e(t.exports,"HIGH_SLIPPAGE_THRESHOLD",(function(){return i("2UOPE").HIGH_SLIPPAGE_THRESHOLD})),e(t.exports,"analyticsPayload",(function(){return i("1vR3U").analyticsPayload})),e(t.exports,"formatSecondsAsSwapTime",(function(){return i("eanp9").formatSecondsAsSwapTime})),e(t.exports,"isBridgeProviderRow",(function(){return i("bAQ4W").isBridgeProviderRow})),e(t.exports,"extractPrice",(function(){return i("4qSWN").extractPrice})),e(t.exports,"formatTokenAmountGreaterThan1",(function(){return i("dbFer").formatTokenAmountGreaterThan1})),e(t.exports,"createSwapperHooks",(function(){return i("2dP6h").createSwapperHooks})),e(t.exports,"useMultichainSwapSetBuyAsset",(function(){return i("4MMT9").useSwapSetBuyAsset})),e(t.exports,"useMultichainSwapSetSellAsset",(function(){return i("iA6sm").useSwapSetSellAsset})),e(t.exports,"useMultichainFeeBreakdown",(function(){return i("dMwYe").useFeeBreakdown})),e(t.exports,"useMultichainQuote",(function(){return i("iX5lP").useQuote})),e(t.exports,"SwapAssetSelectType",(function(){return i("kvuQ4").SwapAssetSelectType})),e(t.exports,"swapperShouldDehydrateQueryPredicate",(function(){return i("kRqRr").swapperShouldDehydrateQueryPredicate})),e(t.exports,"createSwapAnalytics",(function(){return i("3JFMB").createSwapAnalytics})),e(t.exports,"getCanSwapWithNetworkID",(function(){return i("kvkOw").getCanSwapWithNetworkID}));i("iTQ0V"),i("2UOPE"),i("1vR3U"),i("eanp9"),i("csOwI"),i("bAQ4W"),i("4qSWN"),i("dbFer"),i("2dP6h"),i("4MMT9"),i("iA6sm"),i("dMwYe"),i("iX5lP"),i("kvuQ4"),i("kRqRr"),i("3JFMB"),i("kvkOw")})),i.register("iTQ0V",(function(n,o){e(n.exports,"useSwapperStore",(function(){return s}));var r=i("gTwcH");const a={buyFungible:void 0,buyUsdValue:void 0,sellFungible:void 0,sellUsdValue:void 0,sellAmount:"",uiSellAmount:"",multichainQuoteResponse:void 0,selectedProviderIndex:0,gasEstimation:void 0,isFetchingGasEstimation:!1,maxGasEstimation:void 0,quoteFetchIntervalToggle:!0,refuelEnabled:!1,hasNoRoutes:!1,isFetchingQuote:!1,error:null,searchQuery:"",numSearchResults:0},s=t(r)((e=>Object.assign(Object.assign({},a),{resetQuote:()=>e({multichainQuoteResponse:a.multichainQuoteResponse,isFetchingQuote:a.isFetchingQuote,hasNoRoutes:a.hasNoRoutes,selectedProviderIndex:a.selectedProviderIndex,error:a.error}),resetSwapper:()=>e({multichainQuoteResponse:a.multichainQuoteResponse,gasEstimation:a.gasEstimation,isFetchingGasEstimation:a.isFetchingGasEstimation,maxGasEstimation:a.maxGasEstimation,quoteFetchIntervalToggle:a.quoteFetchIntervalToggle,error:a.error,sellAmount:"",uiSellAmount:"",sellFungible:a.sellFungible,buyFungible:a.buyFungible}),setBuyFungible:t=>e({buyFungible:t}),setBuyUsdValue:t=>e({buyUsdValue:t}),setHasNoRoutes:t=>e({hasNoRoutes:t}),setIsFetchingQuote:t=>e({isFetchingQuote:t}),setMultichainQuoteResponse:t=>e({multichainQuoteResponse:t,hasNoRoutes:!1}),setSelectedProviderIndex:t=>e({selectedProviderIndex:t}),setGasEstimation:t=>e({gasEstimation:t}),setIsFetchingGasEstimation:t=>e({isFetchingGasEstimation:t}),setMaxGasEstimation:t=>e({maxGasEstimation:t}),setQuoteFetchIntervalToggle:t=>e({quoteFetchIntervalToggle:t}),setRefuelEnabled:t=>e({refuelEnabled:t}),setSellAmount:t=>e({sellAmount:t}),setSellUsdValue:t=>e({sellUsdValue:t}),setSellFungible:t=>e({sellFungible:t}),setUiSellAmount:t=>e({uiSellAmount:t}),setError:t=>e({error:t}),setSearchQuery:t=>e({searchQuery:t}),setNumSearchResults:t=>e({numSearchResults:t})})))})),i.register("2UOPE",(function(n,o){e(n.exports,"HIGH_PRICE_IMPACT_THRESHOLD",(function(){return u})),e(n.exports,"HIGH_SLIPPAGE_THRESHOLD",(function(){return c})),e(n.exports,"INITIAL_BUY_FUNGIBLE",(function(){return y})),e(n.exports,"INITIAL_SELL_FUNGIBLE",(function(){return h})),e(n.exports,"CHAIN_TO_NATIVE_FUNGIBLE",(function(){return S})),e(n.exports,"CHAIN_TO_USDC_FUNGIBLE",(function(){return b})),e(n.exports,"PHANTOM_SUPPORT_SWAP_FAILED_URL",(function(){return k})),e(n.exports,"PHANTOM_SUPPORT_FROZEN_TOKENS_URL",(function(){return w})),e(n.exports,"BALANCE_HIDDEN_TEXT",(function(){return A})),e(n.exports,"MOBILE_SWAP_INPUT_MAX_LENGTH",(function(){return T})),e(n.exports,"WRAPPED_SOLANA_ADDRESS",(function(){return C}));var r=i("iOvk1"),a=i("5slFC"),s=i("kAKNF");const u=5,c=5,l={id:r.Chains.solana.mainnetID,imageUrl:r.Chains.solana.iconUrl,name:r.Chains.solana.name,symbol:r.Chains.solana.tokenSymbol},d={type:a.FungibleTokenType.SolanaNative,data:{amount:"0",balance:new(t(s))(0),chain:l,coingeckoId:"solana",decimals:9,key:"SolanaNative",logoUri:"https://cdn.jsdelivr.net/gh/solana-labs/token-list@main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png",name:"Solana",symbol:"SOL",tokenAddress:void 0,walletAddress:"",spamStatus:a.SpamStatus.NotVerified}},p={type:a.FungibleTokenType.SPL,data:{amount:"0",balance:new(t(s))(0),chain:l,coingeckoId:"usd-coin",decimals:6,key:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",logoUri:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v/logo.png",mintAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",name:"USD Coin",splTokenAccountPubkey:"EAF7dH8Jy43Xgp68PhyybKhfKxk46NFRkWN4PMCLqMfS",symbol:"USDC",tokenAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",walletAddress:"",programId:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",spamStatus:a.SpamStatus.NotVerified}},f={type:a.FungibleTokenType.PolygonNative,data:{chain:{id:r.Chains.polygon.mainnetID,name:r.Chains.polygon.name,symbol:r.Chains.polygon.tokenSymbol,imageUrl:r.Chains.polygon.iconUrl},walletAddress:"",decimals:18,amount:"72172806352057410682",logoUri:"https://wallet-asset.matic.network/img/tokens/matic.svg",name:"Polygon",symbol:"MATIC",coingeckoId:"matic-network",balance:new(t(s))(0),key:"PolygonNative",usd:79.02922295550286,price:1.095,usd_24h_change:-.19903579005681138,tokenAddress:void 0,spamStatus:a.SpamStatus.NotVerified}},m={type:a.FungibleTokenType.ERC20,data:{amount:"0",balance:new(t(s))(0),coingeckoId:null,decimals:6,key:"0x2791bca1f2de4661ed88a30c99a7a9449aa84174",logoUri:"https://wallet-asset.matic.network/img/tokens/usdc.svg",name:"USD Coin",symbol:"USDC",tokenAddress:"0x2791bca1f2de4661ed88a30c99a7a9449aa84174",walletAddress:"",chain:{id:r.Chains.polygon.mainnetID,imageUrl:r.Chains.polygon.iconUrl,name:r.Chains.polygon.name,symbol:r.Chains.polygon.tokenSymbol},contractAddress:"0x2791bca1f2de4661ed88a30c99a7a9449aa84174",spamStatus:a.SpamStatus.NotVerified}},g={type:a.FungibleTokenType.EthereumNative,data:{chain:{id:r.Chains.ethereum.mainnetID,name:r.Chains.ethereum.name,symbol:r.Chains.ethereum.tokenSymbol,imageUrl:r.Chains.ethereum.iconUrl},walletAddress:"",decimals:18,amount:"45824381294194610",logoUri:"https://cdn.jsdelivr.net/gh/trustwallet/assets@master/blockchains/ethereum/assets/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2/logo.png",name:"Ethereum",symbol:"ETH",coingeckoId:"ethereum",balance:new(t(s))(0),key:"EthereumNative",usd:85.14215868842653,price:1858.01,usd_24h_change:.0009391170983548136,tokenAddress:void 0,spamStatus:a.SpamStatus.NotVerified}},v={type:a.FungibleTokenType.ERC20,data:{chain:{id:r.Chains.ethereum.mainnetID,name:r.Chains.ethereum.name,symbol:r.Chains.ethereum.tokenSymbol,imageUrl:r.Chains.ethereum.iconUrl},walletAddress:"",contractAddress:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",decimals:6,amount:"1881092",logoUri:"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389",name:"USD Coin",symbol:"USDC",coingeckoId:null,balance:new(t(s))(0),key:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",tokenAddress:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",usd:1.8807026139560001,price:.999793,usd_24h_change:-.0005475429199477411,spamStatus:a.SpamStatus.NotVerified}},y=p,h=d,S=new Map([[r.NetworkIDs.Solana.Mainnet,d],[r.NetworkIDs.Ethereum.Mainnet,g],[r.NetworkIDs.Polygon.Mainnet,f]]),b=new Map([[r.NetworkIDs.Solana.Mainnet,p],[r.NetworkIDs.Ethereum.Mainnet,v],[r.NetworkIDs.Polygon.Mainnet,m]]),k="https://help.phantom.app/hc/en-us/articles/5985106844435",w="https://help.phantom.app/hc/en-us/articles/29763090277139",A="••••••",T=16,C="So11111111111111111111111111111111111111112"})),i.register("1vR3U",(function(t,n){e(t.exports,"legacyAnalyticsPayload",(function(){return c})),e(t.exports,"analyticsPayload",(function(){return l}));var o=i("iOvk1"),r=i("RVqnc"),a=i("eH8pa");const s=(e,t,n)=>{if(n){return(0,r.amountToUiAmount)(e,t).times((0,r.BigNumber)(n)).toNumber()}},u=(e,t)=>t&&e?t>e?t:e:null!=t?t:e;function c({buyAssetUsdValue:e,buyToken:t,sellAssetUsdValue:n,sellToken:i,buyAmount:a,sellAmount:c,phantomFeeUiAmount:l,priceImpact:d,provider:p}){var f,m;if(t&&i){const g=s(a,t.data.decimals,e),v=s(c,i.data.decimals,n),y=u(g,v);return{networkId:i.data.chain.id,chainId:o.Chains.getChainID(i.data.chain.id),toNetworkId:t.data.chain.id,toChainId:o.Chains.getChainID(t.data.chain.id),isBridge:i.data.chain.id!==t.data.chain.id,marketName:`${i.data.symbol}/${t.data.symbol}`,tradeDirection:"sell",swapSource:p,priceImpact:d,fromAssetSymbol:null!==(f=i.data.symbol)&&void 0!==f?f:"",fromAssetAddress:i.data.tokenAddress,fromAssetAmount:(0,r.amountToUiAmount)(c,i.data.decimals),fromAssetUsdPrice:n,fromAssetUsdVolume:v,toAssetSymbol:null!==(m=t.data.symbol)&&void 0!==m?m:"",toAssetAddress:t.data.tokenAddress,toAssetAmount:(0,r.amountToUiAmount)(a,t.data.decimals),toAssetUsdPrice:e,toAssetUsdVolume:g,totalUsdVolume:y,feeUsd:l}}return null}function l({buyAssetUsdValue:e,buyToken:t,sellAssetUsdValue:n,sellToken:o,quote:i}){var c,l,d,p,f,m,g;if(t&&o){const{buyAmount:v,sellAmount:y}=i,h="priceImpact"in i?i.priceImpact:0,S="sources"in i?(0,a.parseSwapSources)(i.sources):"",b=null!==(l="fees"in i?null===(c=i.fees.find((e=>"phantom"===e.type)))||void 0===c?void 0:c.amount.toString():"")&&void 0!==l?l:"",k=s(v,t.data.decimals,e),w=s(y,o.data.decimals,n),A=u(k,w);return{chainId:null!==(d=o.data.chain.id)&&void 0!==d?d:t.data.chain.id,swap:{marketName:`${o.data.symbol}/${t.data.symbol}`,tradeDirection:"sell",swapSource:S,priceImpact:h,fromAssetSymbol:null!==(p=o.data.symbol)&&void 0!==p?p:"",fromAssetAddress:null!==(f=o.data.tokenAddress)&&void 0!==f?f:"",fromAssetAmount:(0,r.amountToUiAmount)(y,o.data.decimals),fromAssetUsdPrice:null!=n?n:0,fromAssetUsdVolume:null!=w?w:0,toAssetSymbol:null!==(m=t.data.symbol)&&void 0!==m?m:"",toAssetAddress:null!==(g=t.data.tokenAddress)&&void 0!==g?g:"",toAssetAmount:(0,r.amountToUiAmount)(v,t.data.decimals),toAssetUsdPrice:e,toAssetUsdVolume:k,totalUsdVolume:null!=A?A:0,feeUsd:Number(b)}}}return null}})),i.register("eH8pa",(function(t,n){function o(e){const t=e.reduce(((e,t)=>e.add(t.name)),new Set);return Array.from(t).join(" + ")}e(t.exports,"parseSwapSources",(function(){return o}))})),i.register("eanp9",(function(t,n){e(t.exports,"formatSecondsAsSwapTime",(function(){return o}));const o=(e,t)=>{const n=Math.floor(e/3600),o=Math.floor((e-3600*n)/60),r=e%60;if(n>0)return t("swapProviderEstimatedTimeHM",{hours:n,minutes:o});if(o>0){return t("swapProviderEstimatedTimeM",{minutes:r>0?o+1:o})}return t("swapProviderEstimatedTimeS",{seconds:r})}})),i.register("csOwI",(function(n,o){e(n.exports,"formatTokenAmountForReviewScreen",(function(){return a}));var r=i("gXOkW");const a=(e,n)=>{const o=t(r)(e),i=o.value();if(Math.abs(i)>0&&Math.abs(i)<1e-5){return`< ${i<0?"-":""}0.00001`}return n>=12?o.format("0,0.[0]"):n>=9?o.format("0,0.[000]"):o.format("0,0.[00000]")}})),i.register("bAQ4W",(function(t,n){e(t.exports,"isBridgeProviderRow",(function(){return r}));var o=i("kvuQ4");const r=e=>o.BridgeProviderRow.safeParse(e).success})),i.register("kvuQ4",(function(t,n){e(t.exports,"ErrorResponse",(function(){return s})),e(t.exports,"SwapToken",(function(){return p})),e(t.exports,"SolanaSwapQuote",(function(){return h})),e(t.exports,"EvmSwapQuote",(function(){return S})),e(t.exports,"BridgeQuote",(function(){return T})),e(t.exports,"QuoteType",(function(){return x})),e(t.exports,"SwapperQuoteResponse",(function(){return E})),e(t.exports,"SwapProviderRow",(function(){return O})),e(t.exports,"BridgeProviderRow",(function(){return M})),e(t.exports,"SwapAssetSelectType",(function(){return L}));var o=i("iOvk1"),r=i("cFUcx"),a=i("7XqVB");const s=a.z.object({name:a.z.string(),message:a.z.string()}),u=a.z.object({coingeckoId:a.z.optional(a.z.string())}),c=a.z.object({chainId:o.NetworkID,name:a.z.string(),symbol:a.z.string(),decimals:a.z.number(),logoURI:a.z.optional(a.z.string()),extensions:a.z.optional(u),includesBridge:a.z.optional(a.z.boolean())}),l=c.extend({address:a.z.string(),resourceType:a.z.literal(o.Caip19ResourceType.address)}),d=c.extend({slip44:a.z.string(),resourceType:a.z.literal(o.Caip19ResourceType.nativeToken)}),p=a.z.union([l,d]),f=a.z.enum(["network","phantom"]),m=a.z.object({name:a.z.string(),percentage:a.z.number(),amount:a.z.number(),type:f}),g=a.z.object({name:a.z.string(),proportion:a.z.string()}),v=a.z.object({sellAmount:a.z.string(),buyAmount:a.z.string()}),y=v.extend({priceImpact:a.z.number(),sources:a.z.array(g),fees:a.z.array(m)}),h=y.extend({transactionData:a.z.array(a.z.string())}),S=y.extend({allowanceTarget:a.z.string(),exchangeAddress:a.z.string(),gas:a.z.number(),value:a.z.string(),transactionData:a.z.string()}),b=a.z.object({name:a.z.string(),amount:a.z.string(),token:o.FungibleCaip19,percentage:a.z.string(),included:a.z.boolean(),amountUSD:a.z.optional(a.z.string())}),k=a.z.object({name:a.z.string(),key:a.z.string(),logoURI:a.z.string()}),w=a.z.object({name:a.z.string(),symbol:a.z.string()}),A=a.z.object({transactionData:a.z.string(),buyToken:o.FungibleCaip19,sellToken:o.FungibleCaip19,nonIncludedNonGasFees:a.z.string(),feeCosts:a.z.array(b),chainId:o.NetworkID,tool:k,value:a.z.optional(a.z.string()),allowanceTarget:a.z.optional(a.z.string()),approvalMetadata:a.z.optional(w),exchangeAddress:a.z.optional(a.z.string()),gasCosts:a.z.optional(a.z.array(a.z.number())),includedFeeCosts:a.z.optional(a.z.array(b))}),T=v.extend({executionDuration:a.z.number(),tags:a.z.array(a.z.string()),steps:a.z.array(A),refuelAmount:a.z.optional(a.z.string())}),C=a.z.union([h,S,T]),x=a.z.enum(["solana","eip155","xchain"]),E=a.z.object({type:x,taker:o.FungibleCaip19,buyToken:o.FungibleCaip19,sellToken:o.FungibleCaip19,slippageTolerance:a.z.number(),simulationTolerance:a.z.optional(a.z.number()),gasBuffer:a.z.optional(a.z.number()),quotes:a.z.array(C)}),I=a.z.enum(["swap-approval","swap","bridge-approval","bridge"]),P=a.z.enum(["swap","bridge"]),F=a.z.object({sellToken:o.FungibleCaip19,buyToken:o.FungibleCaip19,approvalMetadata:a.z.optional(w)}),N=a.z.object({type:a.z.literal("solana"),transactions:a.z.array(a.z.string()),transactionTypes:a.z.array(P),transactionPairs:a.z.optional(a.z.array(F))}),D=a.z.object({type:a.z.literal("evm"),transactions:a.z.array(r.EthUnsignedTransactionObject),transactionTypes:a.z.array(I),transactionPairs:a.z.optional(a.z.array(F))}),O=(a.z.union([N,D]),a.z.object({name:a.z.string(),fee:a.z.string()}).strict()),M=a.z.object({name:a.z.string(),fee:a.z.string(),amount:a.z.string(),tags:a.z.array(a.z.object({key:a.z.string(),text:a.z.string()})),time:a.z.object({text:a.z.string(),isFast:a.z.boolean()}),logoURI:a.z.string()});a.z.union([O,M]);var L,R;(R=L||(L={})).Buy="buy",R.Sell="sell"})),i.register("4qSWN",(function(t,n){e(t.exports,"extractPrice",(function(){return a}));var o=i("iOvk1"),r=i("5slFC");const a=(e,t)=>{if(void 0===t)return;const n=(0,r.getFungibleCaip19FromFungible)(e);return t[(0,o.encodeCaip19)(n)]}})),i.register("dbFer",(function(n,o){e(n.exports,"formatTokenAmountGreaterThan1",(function(){return u})),e(n.exports,"amountToFormattedAmountGreaterThan1",(function(){return c}));var r=i("RVqnc"),a=i("kAKNF");const s=e=>e.isGreaterThanOrEqualTo(1)?"0,0.[00]":"0,0.[00000]",u=e=>{const n=t(a)(e);return(0,r.formatTokenAmount)(e,s(n))},c=(e,n)=>{const o=new(t(a))(e).div(new(t(a))(10).pow(n));return(0,r.formatTokenAmount)(o,s(o))}})),i.register("2dP6h",(function(t,n){e(t.exports,"createSwapperHooks",(function(){return I}));var o=i("7gANb"),r=i("dOGoW"),a=i("l7Y64"),s=i("SJcyj"),u=i("fLlWF"),c=i("a6NKv"),l=i("lvhYn"),d=i("kvkOw"),p=i("fxXvK"),f=i("5oPAK"),m=i("c5bbD"),g=i("lLpwA"),v=i("bFhoc"),y=i("2Zpaf"),h=i("hVvmZ"),S=i("dtI9r"),b=i("8vNNq"),k=i("lCzzn"),w=i("4f3Q0"),A=i("9PpHT"),T=i("iTLyO"),C=i("1obA0"),x=i("8QmNP"),E=i("6M54M");function I(e,t,n,i,I,P,F,N,D,O,M,L){const R=new(0,o.PriorityFeeService);return{useSwapTransactions:e=>(0,c.useSwapTransactions)(Object.assign(Object.assign({},e),{transactionHooks:M,priorityFeeService:R})),useSwapClearQuotes:()=>(0,s.useSwapClearQuotes)(),useSwapRefuelProps:()=>(0,w.useSwapRefuelProps)({fungibleHooks:N,analytics:I}),useSwapCardProps:()=>(0,S.useSwapCardProps)({transactionHooks:M,priceHooks:F,accountHooks:D}),useCanSwapWithNetworkID:e=>(0,d.useCanSwapWithNetworkID)(Object.assign(Object.assign({},e),{accountHooks:D})),useSwapSellAssetProps:e=>(0,E.useSwapSellAssetProps)(Object.assign(Object.assign({},e),{transactionHooks:M,priceHooks:F,fungibleHooks:N,accountHooks:D,getApiEnvironment:n,queryClient:i})),useSwapProvidersProps:e=>(0,k.useSwapProvidersProps)(Object.assign(Object.assign({},e),{accountHooks:D,fungibleHooks:N,transactionHooks:M,priceHooks:F,getApiEnvironment:n,analytics:I})),useSwapReviewProps:()=>(0,T.useSwapReviewProps)({accountHooks:D,priceHooks:F}),useSwapReviewButtonProps:()=>(0,A.useSwapReviewButtonProps)({accountHooks:D,fungibleHooks:N,transactionHooks:M,priceHooks:F}),useSwapConfirmationProps:n=>(0,b.useSwapConfirmationProps)(Object.assign(Object.assign({},n),{accountSigner:e,storage:t,fungibleHooks:N,priceHooks:F,settingsHooks:O,analytics:I,asyncSwapAnalytics:P,accountHooks:D,simulationHooks:L,transactionHooks:M,priorityFeeService:R})),useSwapSellAssetList:()=>(0,x.useSwapSellAssetList)({fungibleHooks:N}),useSwapBuyAssetProps:e=>(0,h.useSwapBuyAssetProps)(Object.assign(Object.assign({},e),{priceHooks:F,analytics:I})),useSwapBuyAssetList:e=>(0,y.useSwapBuyAssetList)(Object.assign(Object.assign({},e),{fungibleHooks:N,accountHooks:D,getApiEnvironment:n})),useLiveSwapBuyAssetList:e=>(0,f.useLiveSwapBuyAssetList)(Object.assign(Object.assign({},e),{fungibleHooks:N,accountHooks:D,getApiEnvironment:n,analytics:I})),useInitialAssets:e=>(0,p.useInitialAssets)(Object.assign(Object.assign({},e),{accountHooks:D,fungibleHooks:N,getApiEnvironment:n})),useSubscribeSwapQuoteToQueries:e=>(0,v.useSubscribeSwapQuoteToQueries)(Object.assign(Object.assign({},e),{accountHooks:D,fungibleHooks:N,priceHooks:F,getApiEnvironment:n,analytics:I,storage:t})),useSubscribeGasEstimation:()=>(0,g.useSubscribeGasEstimation)({accountHooks:D,transactionHooks:M,simulationHooks:L,priorityFeeService:R}),useSwapScanTransaction:e=>(0,C.useSwapScanTransaction)(Object.assign(Object.assign({},e),{accountHooks:D,simulationHooks:L})),useBridgeRefuelProps:()=>(0,l.useBridgeRefuelProps)({fungibleHooks:N,priceHooks:F,analytics:I}),useSlippageSettingsViewState:e=>(0,m.useSlippageSettingsViewState)(Object.assign(Object.assign({},e),{analytics:I,storage:t})),useSlippageTolerance:()=>(0,u.useSwapStorageValue)({storage:t,key:u.StorageKeySwapper.SlippageTolerance,queryKey:r.swapperQueryKeys.slippageTolerance()}),useMultichainSwapFungibles:e=>(0,a.useMultichainSwapFungibles)(Object.assign(Object.assign({},e),{storage:t}))}}})),i.register("dOGoW",(function(t,n){e(t.exports,"SWAPPER_QUERY_KEYS_PREFIX",(function(){return r})),e(t.exports,"swapperQueryKeys",(function(){return s}));const o="swapper";var r,i;(i=r||(r={})).pairs="pairs",i.quotes="quotes",i.transactions="transactions";const a=[o,r.quotes],s={pairs:(e,t,n)=>[o,r.pairs,{sellToken:e,supportedNetworkIds:t,enableNativeBridgePairs:n}],quotesScope:()=>a,quotes:(e,t,n,o,r,i,s)=>[...a,{sellToken:e,buyToken:t,taker:n,takerDestination:s,sellAmount:o,slippageTolerance:r,refuelEnabled:i}],transactions:e=>[o,r.transactions,e],slippageTolerance:()=>[o,"slippageTolerance"]}})),i.register("l7Y64",(function(t,n){e(t.exports,"useMultichainSwapFungibles",(function(){return c}),(function(e){return c=e}));var o=i("7mQ3Y"),r=i("3tdpt"),a=i("kIxM0"),s=i("bjg8b"),u=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const c=({accountIdentifier:e,networkID:t,accountSigner:n,storage:i})=>(0,r.useMutation)({mutationFn:r=>u(void 0,void 0,void 0,(function*(){const{swapTransactions:u,type:c}=r;if("evm"===u.type&&c===o.AddressType.EVM){const{gasEstimation:o,pendingApprovalActivityRows:s,pendingSwapActivityRows:l}=r,{signature:d,error:p}=yield(0,a.swapTransactionEvm)({transactions:u.transactions,transactionTypes:u.transactionTypes,networkID:t,gasEstimation:o,pendingSwapActivityRows:l,pendingApprovalActivityRows:s,accountIdentifier:e,accountSigner:n,storage:i});return{networkID:t,chainType:c,id:d,error:p}}if("solana"===u.type&&c===o.AddressType.Solana){const{callerAddress:o,connection:a,pendingSwapActivityRows:l}=r;if(!a)throw new Error("missing connection");const{signature:d,error:p}=yield(0,s.swapTransactionSolana)({callerAddress:o,connection:a,networkID:t,transactions:u.transactions,pendingSwapActivityRows:l,accountIdentifier:e,accountSigner:n,storage:i});return{networkID:t,chainType:c,id:d,error:p}}throw new Error("unsupported")}))})})),i.register("kIxM0",(function(t,n){e(t.exports,"swapTransactionEvm",(function(){return u}),(function(e){return u=e}));var o=i("cFUcx"),r=i("7gANb"),a=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const s=({networkID:e,unsignedTransaction:t,pendingActivityRows:n,accountIdentifier:o,accountSigner:i,storage:a,includeCallPayload:s})=>Object.assign(Object.assign({accountSigner:i,accountIdentifier:o,networkID:e,unsignedTransaction:t},s&&{callPayload:{from:t.from,to:t.to,data:t.data,value:t.value}}),{pendingTransactionInput:{ownerAddress:t.from,networkID:e,data:{nonce:"",unsignedTransaction:t,hash:""},type:r.PendingTransactionType.Swap,display:{summary:n}},storage:a}),u=e=>a(void 0,[e],void 0,(function*({transactions:e,transactionTypes:t,networkID:n,gasEstimation:i,pendingApprovalActivityRows:a,pendingSwapActivityRows:u,accountIdentifier:c,accountSigner:l,storage:d}){let p=!0,f="";for(const[m,g]of e.entries()){const e=i[m],v={gas:`0x${e.gasLimit.toString(16)}`,maxFeePerGas:`0x${e.maxFeePerGas.toString(16)}`,maxPriorityFeePerGas:`0x${e.maxPriorityFeePerGas.toString(16)}`},y=o.EthUnsignedTransactionObject.parse(Object.assign(Object.assign({},g),v)),h=t[m].includes("approval")?a:u,S=s({networkID:n,accountIdentifier:c,pendingActivityRows:h.shift(),accountSigner:l,storage:d,unsignedTransaction:y,includeCallPayload:p});try{f=yield(0,r.signAndSendEvmTransactionAsync)(S)}catch(e){return{signature:f,error:e instanceof Error?e:new Error("Failed to process EVM swap transaction")}}p&&(p=!1)}return{signature:f}}))})),i.register("bjg8b",(function(t,n){e(t.exports,"swapTransactionSolana",(function(){return u}),(function(e){return u=e}));var o=i("hMVEP"),r=i("7gANb"),a=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const s=({networkID:e,transaction:t,feePayer:n,connection:o,pendingActivityRows:i,accountIdentifier:a,accountSigner:s,storage:u})=>({accountSigner:s,accountIdentifier:a,transaction:t,feePayer:n,connection:o,opts:{skipPreflight:!0},pendingTransactionInput:{ownerAddress:n.toBase58(),networkID:e,data:{signature:""},type:r.PendingTransactionType.Swap,display:{summary:i}},storage:u}),u=e=>a(void 0,[e],void 0,(function*({callerAddress:e,connection:t,networkID:n,transactions:i,pendingSwapActivityRows:a,accountIdentifier:u,accountSigner:c,storage:l}){const d=new(0,o.PublicKey)(e);let p;for(const[e,f]of i.entries()){const m=(0,o.transactionStringToTransaction)(f,"bs58"),g=(yield t.getLatestBlockhash("confirmed")).blockhash;(0,o.setRecentBlockhash)(m,g);const v=s({networkID:n,transaction:m,feePayer:d,connection:t,pendingActivityRows:a[e],accountIdentifier:u,accountSigner:c,storage:l});try{p=yield(0,r.signAndSendSolanaTransactionAsync)(v),e!==i.length-1&&(yield(0,r.waitForTransactionConfirmation)({connection:t,signature:p}))}catch(e){return{signature:null!=p?p:"",error:e instanceof Error?e:new Error("Failed to process solana swap transaction")}}}return{signature:null!=p?p:""}}))})),i.register("SJcyj",(function(t,n){e(t.exports,"useSwapClearQuotes",(function(){return u}),(function(e){return u=e}));var o=i("3tdpt"),r=i("iTQ0V"),a=i("dOGoW"),s=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const u=()=>{const e=(0,o.useQueryClient)(),t=(0,r.useSwapperStore)();return{clearQuotes:()=>s(void 0,void 0,void 0,(function*(){t.resetQuote(),yield e.invalidateQueries(a.swapperQueryKeys.quotesScope())}))}}})),i.register("fLlWF",(function(t,n){e(t.exports,"StorageKeySwapper",(function(){return o}),(function(e){return o=e})),e(t.exports,"useSwapStorageValue",(function(){return c}),(function(e){return c=e})),e(t.exports,"useSetSwapStorageValue",(function(){return l}),(function(e){return l=e}));var o,r=i("3tdpt"),a=i("csW2r"),s=i("6BFZj"),u=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};function c({storage:e,key:t,queryKey:n,defaultValue:o=null}){return(0,r.useQuery)({enabled:!0,queryKey:n,cacheTime:s.CacheTime.Long,staleTime:s.StaleTime.Never,queryFn(){return u(this,void 0,void 0,(function*(){try{return yield e.get(t)}catch(e){return e instanceof Error&&a.telemetry.captureError(e,a.FeatureTag.Swapper),o}}))}})}function l({storage:e,key:t,queryKey:n}){const o=(0,r.useQueryClient)();return(0,r.useMutation)({mutationFn(n){return u(this,void 0,void 0,(function*(){try{return yield e.set(t,n)}catch(e){return void(e instanceof Error&&a.telemetry.captureError(e,a.FeatureTag.Swapper))}}))},onMutate(e){return u(this,void 0,void 0,(function*(){yield o.cancelQueries(n);const t=o.getQueryData(n);return o.setQueryData(n,e),{previousValue:t}}))},onError(e,t,r){o.setQueryData(n,null==r?void 0:r.previousValue)}})}(o||(o={})).SlippageTolerance="slippageTolerance"})),i.register("6BFZj",(function(t,n){e(t.exports,"CacheTime",(function(){return o})),e(t.exports,"StaleTime",(function(){return a})),e(t.exports,"RefetchInterval",(function(){return u}));var o,r,a,s,u,c,l=i("RVqnc");(r=o||(o={}))[r.Always=1/0]="Always",r[r.Short=(0,l.toMilliseconds)({days:1})]="Short",r[r.Medium=(0,l.toMilliseconds)({days:3})]="Medium",r[r.Long=(0,l.toMilliseconds)({days:7})]="Long",(s=a||(a={}))[s.Immediate=0]="Immediate",s[s.Short=(0,l.toMilliseconds)({minutes:1})]="Short",s[s.Medium=(0,l.toMilliseconds)({minutes:2.5})]="Medium",s[s.Long=(0,l.toMilliseconds)({minutes:60})]="Long",s[s.Never=1/0]="Never",(c=u||(u={}))[c.Short=(0,l.toMilliseconds)({seconds:20})]="Short",c[c.Medium=(0,l.toMilliseconds)({minutes:2.5})]="Medium",c[c.Long=(0,l.toMilliseconds)({minutes:5})]="Long"})),i.register("a6NKv",(function(n,o){e(n.exports,"useSwapTransactions",(function(){return h}),(function(e){return h=e}));var r=i("iOvk1"),a=i("3tdpt"),s=i("cFUcx"),u=i("hMVEP"),c=i("csW2r"),l=i("7gANb"),d=i("kAKNF"),p=i("dNQbj"),f=i("dOGoW"),m=i("6BFZj"),g=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const v=e=>g(void 0,[e],void 0,(function*({callerAddress:e,contractAddress:n,networkId:o,sellAmount:i,allowanceTarget:a,exchangeAddress:u,value:c,transactionData:p,type:f}){const m=[],g=[];if(n){if((yield(0,l.getERC20Allowance)({callerAddress:e,spender:a,networkId:o,contractAddress:n})).lt(i.toString())){const t=yield(0,l.getERC20Approval)({callerAddress:e,spender:a,networkId:o,contractAddress:n});m.push(t),g.push(`${f}-approval`)}}const v=s.EthUnsignedTransactionObject.parse(Object.assign({type:s.TransactionTypes.eip1559,from:e,data:p,chainId:r.Chains.getEVMNetworkIDValue(o),to:u},"0"===c?{}:{value:`0x${new(t(d))(c).toString(16)}`}));return m.push(v),g.push(f),{transactions:m,transactionTypes:g}})),y=e=>g(void 0,[e],void 0,(function*({quote:e,priorityFeeService:t,connection:n}){const o=e.transactionData.map((e=>((e,t,n)=>g(void 0,void 0,void 0,(function*(){const o=(0,u.transactionStringToTransaction)(e,"bs58");return yield t.addPriorityFee(o,{connection:n,transactionType:l.TransactionTypeValue.Swap})})))(e,t,n))),r=(yield Promise.all(o)).map((e=>l.TransactionSerializationUtils.serialize(e).transaction));return{type:"solana",transactionTypes:r.map((()=>"swap")),transactions:r}})),h=({transactionHooks:e,priorityFeeService:t,callerAddress:n,sellFungible:o,quote:i})=>{const{connection:s}=e.useSelectedSolanaConnection(),u=f.swapperQueryKeys.transactions(i);return(0,a.useQuery)({queryKey:u,enabled:!!i,cacheTime:0,staleTime:0,refetchInterval:m.RefetchInterval.Short,onError(e){e instanceof Error&&c.telemetry.captureError(e,c.FeatureTag.Swapper)},queryFn(){return g(this,void 0,void 0,(function*(){if(!i)throw new Error("Missing quote");const e=null==o?void 0:o.data.chain.id;if((0,p.isSingleNetworkSwapQuote)(i)){if(r.Chains.isEVMNetworkID(e)&&(0,p.isEvmSwapQuote)(i))return g(void 0,[{networkId:e,callerAddress:n,quote:i,sellFungible:o}],void 0,(function*({networkId:e,callerAddress:t,quote:n,sellFungible:o}){var r;const i=null!==(r=null==o?void 0:o.data.tokenAddress)&&void 0!==r?r:"",{allowanceTarget:a,exchangeAddress:s,sellAmount:u,value:c}=n,l=yield v({callerAddress:t,contractAddress:i,networkId:e,sellAmount:u,allowanceTarget:a,exchangeAddress:s,value:c,transactionData:n.transactionData,type:"swap"});return Object.assign({type:"evm"},l)}));if(r.Chains.isSolanaNetworkID(e)&&(0,p.isSolanaSwapQuote)(i))return y({quote:i,priorityFeeService:t,connection:s});throw new Error(`Single network swap quote not supported for network ID ${e}`)}if((0,p.isBridgeQuote)(i)){if(r.Chains.isEVMNetworkID(e))return g(void 0,[{networkId:e,callerAddress:n,quote:i}],void 0,(function*({networkId:e,callerAddress:t,quote:n}){const{sellAmount:o,steps:i}=n,a=[],s=[],u=[];for(const n of i){const{allowanceTarget:i,exchangeAddress:c,value:l,transactionData:d,sellToken:p,buyToken:f,approvalMetadata:m}=n,g=p.resourceType===r.Caip19ResourceType.address?p.address:null,y=0===r.Chains.compareNetworkID(p.chainId,f.chainId)?"swap":"bridge";if(!(i&&c&&d&&l))throw new Error("Missing bridge step data for EVM bridge quote.");const h=yield v({callerAddress:t,contractAddress:g,networkId:e,sellAmount:o,allowanceTarget:i,exchangeAddress:c,value:l,transactionData:d,type:y});a.push(...h.transactions),s.push(...h.transactionTypes),u.push({sellToken:p,buyToken:f,approvalMetadata:m}),2==h.transactionTypes.length&&h.transactionTypes.find((e=>e.includes("approval")))&&u.push({sellToken:p,buyToken:f,approvalMetadata:m})}return{type:"evm",transactions:a,transactionTypes:s,transactionPairs:u}}));if(r.Chains.isSolanaNetworkID(e))return(e=>g(void 0,void 0,void 0,(function*(){const t=e.steps.reduce(((e,t)=>{const{transactionData:n,sellToken:o,buyToken:i}=t,a=0===r.Chains.compareNetworkID(o.chainId,i.chainId)?"swap":"bridge",s=[...e.transactions],u=[...e.transactionTypes],c=[...e.transactionPairs];return s.push(n),u.push(a),c.push({sellToken:o,buyToken:i}),{transactions:s,transactionTypes:u,transactionPairs:c}}),{transactions:[],transactionTypes:[],transactionPairs:[]});return Object.assign({type:"solana"},t)})))(i);throw new Error(`Bridge quote not supported for network ID ${e}`)}throw new Error("Swap quote type not supported")}))}})}})),i.register("dNQbj",(function(t,n){e(t.exports,"isBridgeQuote",(function(){return r})),e(t.exports,"isSolanaSwapQuote",(function(){return a})),e(t.exports,"isEvmSwapQuote",(function(){return s})),e(t.exports,"isSingleNetworkSwapQuote",(function(){return u}));var o=i("kvuQ4");function r(e){return o.BridgeQuote.safeParse(e).success}function a(e){return o.SolanaSwapQuote.safeParse(e).success}function s(e){return o.EvmSwapQuote.safeParse(e).success}function u(e){return a(e)||s(e)}})),i.register("lvhYn",(function(n,o){e(n.exports,"useBridgeRefuelProps",(function(){return d}));var r=i("iOvk1"),a=i("56oyT"),s=i("RVqnc"),u=i("kAKNF"),c=i("iX5lP"),l=i("4f3Q0");const d=({fungibleHooks:e,priceHooks:n,analytics:o})=>{const{isFetchingQuote:i}=(0,c.useQuote)(),{refuelEnabled:d,setRefuelEnabled:p,refuelAmount:f,uiRefuelAmount:m,buyNativeToken:{symbol:g,balance:v,decimals:y,chain:h}}=(0,l.useSwapRefuelProps)({fungibleHooks:e,analytics:o}),S=h?(0,r.getNativeFungibleCaip19ForChain)(h):void 0,{data:b}=n.usePrice({query:S?{data:S}:void 0});let k="";if((null==b?void 0:b.usd)&&f&&y){const e=(0,a.assetToDollars)((0,s.amountToUiAmount)(new(t(u))(f),y).toNumber(),b.usd);k=(0,s.formatDollarAmount)(e)}return{symbol:g,balance:v,refuelAmount:f,uiRefuelAmount:m,estimatedCost:k,refuelEnabled:d,setRefuelEnabled:p,isFetchingQuote:i}}})),i.register("iX5lP",(function(t,n){e(t.exports,"useQuote",(function(){return a}));var o=i("29o0l"),r=i("iTQ0V");function a(){var e,t;const n=(0,r.useSwapperStore)((e=>e.multichainQuoteResponse)),i=(0,r.useSwapperStore)((e=>e.hasNoRoutes)),a=(0,r.useSwapperStore)((e=>e.selectedProviderIndex)),s=(0,r.useSwapperStore)((e=>e.isFetchingQuote)),u=(0,o.useMemo)((()=>n?n.quotes:[]),[n]),c=u.length>0?u[a]:void 0;return{bestBuyAmount:null!==(t=null===(e=u[0])||void 0===e?void 0:e.buyAmount)&&void 0!==t?t:"",currentQuote:c,hasNoRoutes:i,multichainQuoteResponse:n,quotes:u,selectedProviderIndex:a,isFetchingQuote:s}}})),i.register("4f3Q0",(function(t,n){e(t.exports,"useSwapRefuelProps",(function(){return m}));var o=i("iOvk1"),r=i("5slFC"),a=i("43063"),s=i("RVqnc"),u=i("29o0l"),c=i("iTQ0V"),l=i("fahdI"),d=i("dNQbj"),p=i("c8n6I"),f=i("iX5lP");const m=({fungibleHooks:e,analytics:t})=>{var n,i;const{currentQuote:m}=(0,f.useQuote)(),g=(0,p.useIsRefuelSupported)({fungibleHooks:e}),v=(0,c.useSwapperStore)((e=>e.buyFungible)),y=null==v?void 0:v.data.chain.id,{fungible:h}=e.useGetFungibleBalance({key:y?(0,r.networkIdToNativeTokenFungibleKey)(y):void 0}),S=y?o.Chains.getTokenSymbol(y):"",b=null!==(n=null==h?void 0:h.data.decimals)&&void 0!==n?n:0,k=y?o.Chains.getChainID(y):void 0,w=(0,c.useSwapperStore)((e=>e.refuelEnabled)),A=(0,c.useSwapperStore)((e=>e.setRefuelEnabled)),T=(0,u.useCallback)((e=>{t.capture("swapperRefuelToggle",{data:{value:e}}),A(e)}),[A,t]),C=(0,d.isBridgeQuote)(m)?m.refuelAmount:void 0,x=C?`${(0,s.amountToFormattedAmount)(null!=C?C:0,b)} ${S}`:void 0,E=(0,s.amountToFormattedAmount)(null!==(i=null==h?void 0:h.data.amount)&&void 0!==i?i:0,b),I=(0,l.shouldShowRefuelOption)(g,w,C);return{label:a.i18next.t("bridgeRefuelTitle"),refuelSupported:g,refuelEnabled:w,setRefuelEnabled:T,refuelAmount:C,uiRefuelAmount:x,showRefuelOption:I,buyNativeToken:{chain:k,symbol:S,balance:E,decimals:b}}}})),i.register("fahdI",(function(t,n){e(t.exports,"shouldShowRefuelOption",(function(){return o}));const o=(e,t,n)=>!(!e||t&&!n)})),i.register("c8n6I",(function(n,o){e(n.exports,"useIsRefuelSupported",(function(){return p}));var r=i("iOvk1"),a=i("5slFC"),s=i("kAKNF"),u=i("29o0l"),c=i("iTQ0V"),l=i("9XJOV"),d=i("adhE7");const p=({fungibleHooks:e})=>{const[n,o]=(0,u.useState)(!1),i=(0,c.useSwapperStore)((e=>e.sellFungible)),p=(0,c.useSwapperStore)((e=>e.buyFungible)),f=null==p?void 0:p.data.chain.id,m=(0,d.isBridgeSwap)(null==i?void 0:i.data.chain.id,null==p?void 0:p.data.chain.id),{fungible:g}=e.useGetFungibleBalance({key:f?(0,a.networkIdToNativeTokenFungibleKey)(f):void 0});return(0,u.useEffect)((()=>{var e;if(!g)return void o(!1);const n=l.DEFAULT_FEES[m?"bridge":"swap"][r.Chains.getChainID(g.data.chain.id)],i=new(t(s))(null!==(e=g.data.amount)&&void 0!==e?e:0).gte(n);o(m&&!i)}),[g,m,o]),n}})),i.register("9XJOV",(function(n,o){e(n.exports,"DEFAULT_FEES",(function(){return l})),e(n.exports,"getMaxSellAmount",(function(){return p}));var r=i("iOvk1"),a=i("5slFC"),s=i("7gANb"),u=i("RVqnc"),c=i("kAKNF");const l={swap:{[r.Chain.Bitcoin]:new(t(c))(0),[r.Chain.Solana]:new(t(c))(3e6),[r.Chain.Ethereum]:new(t(c))(2.5*10**16),[r.Chain.Polygon]:new(t(c))(6*10**16)},bridge:{[r.Chain.Bitcoin]:new(t(c))(0),[r.Chain.Solana]:new(t(c))(3e6),[r.Chain.Ethereum]:new(t(c))(3.75*10**16),[r.Chain.Polygon]:new(t(c))(6*10**16)}},d=new(t(c))(356190);function p({sellFungible:e,totalFees:n,transactionSpeedsToUnitCost:o,isBridge:i=!1}){const{decimals:p,amount:f,chain:m}=e.data,g=new(t(c))(f);let v=l[i?"bridge":"swap"][r.Chains.getChainID(m.id)];const y=null==o?void 0:o[s.TransactionSpeed.standard];(0,s.isEvmTransactionUnitCost)(y)&&(v=d.multipliedBy(y.maxFeePerGas.plus(y.maxPriorityFeePerGas)));const h=(0,a.isNativeFungibleTokenType)(e.type)?v:n,S=e&&(0,a.isNativeFungibleTokenType)(e.type)&&g.gt(h)?g.minus(h).toString():g.toString();return(0,u.amountToUiAmountString)(S,p)}})),i.register("adhE7",(function(t,n){e(t.exports,"isBridgeSwap",(function(){return r}));var o=i("iOvk1");const r=(e,t)=>!!e&&!!t&&0!==o.Chains.compareNetworkID(e,t)})),i.register("kvkOw",(function(t,n){e(t.exports,"useCanSwapWithNetworkID",(function(){return r})),e(t.exports,"getCanSwapWithNetworkID",(function(){return a}));var o=i("30pgP");const r=({networkID:e,accountHooks:t})=>{const n=(0,o.useSupportedNetworkIDs)({accountHooks:t});return!!e&&n.includes(e)},a=({account:e,networkID:t})=>{const n=(0,o.getSupportedNetworkIDs)(e);return!!t&&n.includes(t)}})),i.register("30pgP",(function(t,n){e(t.exports,"useSupportedNetworkIDs",(function(){return a})),e(t.exports,"getSupportedNetworkIDs",(function(){return s}));var o=i("iOvk1"),r=i("29o0l");const a=({accountHooks:e})=>{const{data:t}=e.useSelectedMultiChainAccount();return(0,r.useMemo)((()=>s(t)),[t])},s=e=>{var t;return[...new Set((null!==(t=null==e?void 0:e.addresses)&&void 0!==t?t:[]).map((e=>e.networkID)).filter((e=>o.SolanaNetworkID.Mainnet===e||o.EthereumNetworkID.Mainnet===e||o.PolygonNetworkID.Mainnet===e)))]}})),i.register("fxXvK",(function(t,n){e(t.exports,"useInitialAssets",(function(){return g}));var o=i("iOvk1"),r=i("5slFC"),a=i("RVqnc"),s=i("29o0l"),u=i("2UOPE"),c=i("iTQ0V"),l=i("fx1OB"),d=i("2Zpaf"),p=i("8QmNP");const f=e=>{if(e)try{return(0,o.decodeCaip19)(e)}catch(e){return}},m=(e,t)=>{const n=(0,r.getFungibleTokenTypeFromFungibleCaip19)(t);return e.find((e=>{if((0,r.isNativeFungibleTokenType)(n)&&n===e.type)return!0;if(t.resourceType===o.Caip19ResourceType.address){const n=(0,r.parseFungibleKey)(e);return(0,o.isEvmCaip19Address)(t)?(0,a.equalsIgnoringCase)(t.address,n):t.address===n}}))};function g({paramsSellFungible:e,paramsSellAmount:t,paramsBuyFungible:n,enableNativeBridgePairs:o,accountHooks:i,fungibleHooks:a,getApiEnvironment:g}){const v=(0,s.useMemo)((()=>f(e)),[e]),y=(0,s.useMemo)((()=>f(n)),[n]),h=t,[S,b]=(0,s.useState)(!1),[k,w]=(0,s.useState)(!1),{data:A}=i.useSelectedMultiChainAccount(),{assets:T,isLoading:C}=(0,p.useSwapSellAssetList)({fungibleHooks:a}),{assets:x,isLoading:E}=(0,d.useSwapBuyAssetList)({fungibleHooks:a,accountHooks:i,getApiEnvironment:g,enableNativeBridgePairs:o,enableQuery:!!y}),I=(0,l.useInitialSellFungible)({accountHooks:i}),P=(0,c.useSwapperStore)((e=>e.setBuyFungible)),F=(0,c.useSwapperStore)((e=>e.setSellFungible)),N=(0,c.useSwapperStore)((e=>e.setUiSellAmount)),D=(0,c.useSwapperStore)((e=>e.setSellAmount));(0,s.useEffect)((()=>{F(void 0),b(!1),P(void 0),w(!1)}),[v,y,F,P,null==A?void 0:A.identifier]),(0,s.useEffect)((()=>{if(S)return;let e;if(v){if(C)return;e=m(T,v),e||((0,r.isNativeFungibleTokenType)((0,r.getFungibleTokenTypeFromFungibleCaip19)(v))?e=u.CHAIN_TO_NATIVE_FUNGIBLE.get(v.chainId):y&&y.chainId===v.chainId&&(e=(0,r.isNativeFungibleTokenType)((0,r.getFungibleTokenTypeFromFungibleCaip19)(y))?u.CHAIN_TO_USDC_FUNGIBLE.get(y.chainId):u.CHAIN_TO_NATIVE_FUNGIBLE.get(y.chainId)))}else e=!v&&y?(0,r.isNativeFungibleTokenType)((0,r.getFungibleTokenTypeFromFungibleCaip19)(y))?u.CHAIN_TO_USDC_FUNGIBLE.get(y.chainId):u.CHAIN_TO_NATIVE_FUNGIBLE.get(y.chainId):I;b(!0),F(e)}),[v,y,I,T,F,C,S]),(0,s.useEffect)((()=>{if(k)return;let e;if(y){if(E)return;e=m(x,y),!e&&(0,r.isNativeFungibleTokenType)((0,r.getFungibleTokenTypeFromFungibleCaip19)(y))&&(e=u.CHAIN_TO_NATIVE_FUNGIBLE.get(y.chainId))}w(!0),P(e)}),[y,x,E,P,k]),(0,s.useEffect)((()=>{h&&(D(h),N(h))}),[h,N,D]);return{isLoading:!(!v&&!y||k&&S)}}})),i.register("fx1OB",(function(t,n){e(t.exports,"useInitialSellFungible",(function(){return a}));var o=i("29o0l"),r=i("eJ9Jg");const a=({accountHooks:e})=>{const t=e.useSelectedNetworks();return(0,o.useMemo)((()=>(0,r.getInitialSellFungible)(t)),[t])}})),i.register("eJ9Jg",(function(t,n){e(t.exports,"getInitialSellFungible",(function(){return r}));var o=i("2UOPE");const r=e=>{var t;return 0===e.length?o.INITIAL_SELL_FUNGIBLE:null!==(t=o.CHAIN_TO_NATIVE_FUNGIBLE.get(e[0]))&&void 0!==t?t:o.INITIAL_SELL_FUNGIBLE}})),i.register("2Zpaf",(function(t,n){e(t.exports,"useSwapBuyAssetList",(function(){return f}));var o=i("iOvk1"),r=i("5slFC"),a=i("29o0l"),s=i("2UOPE"),u=i("j3ma1"),c=i("iTQ0V"),l=i("2EDKH"),d=i("30pgP"),p=i("hNhmc");function f({fungibleHooks:e,accountHooks:t,getApiEnvironment:n,enableNativeBridgePairs:i,enableQuery:f=!0}){var m,g,v;const y=(0,c.useSwapperStore)((e=>e.sellFungible)),{fungibles:h,isLoadingTokens:S,isRefetchingTokens:b,tokensError:k}=e.useGetFungibleBalances(),w=(0,p.useSwapAssetCaip19)(y),{data:A}=t.useSelectedChainAddress({address:null===(m=null==y?void 0:y.data)||void 0===m?void 0:m.walletAddress,networkID:null===(g=null==y?void 0:y.data)||void 0===g?void 0:g.chain.id}),T=null!==(v=null==A?void 0:A.address)&&void 0!==v?v:"",C=(0,d.useSupportedNetworkIDs)({accountHooks:t}),{data:x=[],isLoading:E,error:I}=(0,u.useSwapPairs)({sellToken:w,supportedNetworkIDs:C,enableNativeBridgePairs:i,getApiEnvironment:n,enableQuery:f}),P=(0,a.useMemo)((()=>new Map(h.map((e=>[(0,o.encodeCaip19)((0,r.getFungibleCaip19FromFungible)(e)),e])))),[h]),F=(0,a.useMemo)((()=>{if(0===x.length)return[];return x.reduce(((e,t)=>{let n="";const i=(0,l.swapTokenToFungible)(t,T);let a;t.resourceType===o.Caip19ResourceType.address&&t.address===s.WRAPPED_SOLANA_ADDRESS?n=(0,o.encodeCaip19)((0,o.getNativeFungibleCaip19ForChain)(o.Chains.getChainID(o.Chains.solana.mainnetID))):t.resourceType===o.Caip19ResourceType.nativeToken?n=(0,o.encodeCaip19)((0,o.getNativeFungibleCaip19ForChain)(o.Chains.getChainID(t.chainId))):i&&(n=(0,o.encodeCaip19)((0,r.getFungibleCaip19FromFungible)(i)));const u=P.get(n);return a=u&&u.data.balance?u:i,a&&e.push(a),e}),[])}),[P,x,T]);return(0,a.useMemo)((()=>({assets:F,initialFilterKey:null==y?void 0:y.data.chain.id,isLoading:S||E,isFetching:S||E||b,error:null!=k?k:I})),[F,S,E,b,k,I,y])}})),i.register("j3ma1",(function(t,n){e(t.exports,"useSwapPairs",(function(){return l}),(function(e){return l=e})),e(t.exports,"prefetchSwapPairs",(function(){return d}),(function(e){return d=e}));var o=i("3tdpt"),r=i("bfUNg"),a=i("dOGoW"),s=i("6BFZj"),u=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const c=e=>u(void 0,[e],void 0,(function*({sellToken:e,supportedNetworkIDs:t,enableNativeBridgePairs:n,getApiEnvironment:o}){if(!e)throw new Error("missing sell token");const i=o();return(0,r.getSwapPairs)({apiEnv:i,sellToken:e,supportedNetworkIDs:t,enableNativeBridgePairs:n})})),l=({sellToken:e,supportedNetworkIDs:t,enableNativeBridgePairs:n,enableQuery:r=!0,getApiEnvironment:i})=>(0,o.useQuery)({queryKey:a.swapperQueryKeys.pairs(e,t,n),cacheTime:s.CacheTime.Short,staleTime:s.StaleTime.Short,enabled:!!e&&r,queryFn:()=>c({sellToken:e,supportedNetworkIDs:t,enableNativeBridgePairs:n,getApiEnvironment:i})}),d=({sellToken:e,supportedNetworkIDs:t,enableNativeBridgePairs:n,getApiEnvironment:o,queryClient:r})=>{r.prefetchQuery(a.swapperQueryKeys.pairs(e,t,n),(()=>c({sellToken:e,supportedNetworkIDs:t,enableNativeBridgePairs:n,getApiEnvironment:o})))}})),i.register("bfUNg",(function(t,n){e(t.exports,"getSwapPairs",(function(){return p}),(function(e){return p=e}));var o=i("iOvk1"),r=i("43063"),a=i("beWYh"),s=i("gmJPe"),u=i("hvYWW"),c=i("dHptj"),l=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const d="swap-pairs";function p(e){return l(this,arguments,void 0,(function*({apiEnv:e,sellToken:t,supportedNetworkIDs:n,enableNativeBridgePairs:i}){let l;try{(0,o.isEvmCaip19Address)(t)&&(t.address=t.address.toLowerCase());const r=`${e}/swap/v2/pairs`,s={tokens:[t],enableNativeBridgePairs:i,supportedNetworkIDs:n},p=yield a.rb.headers({"Content-Type":"application/json"}).post(r,s);return l=p.status,yield(0,u.handleBadResponse)(p,d),(0,c.parseSwapPairsResponse)(p.data)}catch(n){const o=n instanceof r.LocalizedError?n:new(0,r.LocalizedError);throw(0,s.captureClientError)(o,l,d,{apiEnv:e,sellToken:t}),o}}))}})),i.register("gmJPe",(function(t,n){e(t.exports,"captureClientError",(function(){return s}));var o=i("43063"),r=i("csW2r");const a=["SwapperNoQuotes","UnsupportedCountry","UnknownError"],s=(e,t,n,i)=>{e instanceof o.LocalizedError&&a.includes(e.code)||(!t||t>=400&&t<500)&&(r.telemetry.addBreadcrumb(n,JSON.stringify(i),r.Severity.Info),r.telemetry.captureError(e,r.FeatureTag.Swapper))}})),i.register("hvYWW",(function(t,n){e(t.exports,"handleBadResponse",(function(){return c}),(function(e){return c=e}));var o=i("43063"),r=i("beWYh"),a=i("csW2r"),s=i("kvuQ4"),u=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const c=(e,t,...n)=>u(void 0,[e,t,...n],void 0,(function*(e,t,n){if((0,r.responseIsOkay)(e))return Promise.resolve();let i;try{i=e.data}catch(e){throw new(0,o.LocalizedError)({key:n})}const u=s.ErrorResponse.safeParse(i);if(u.success)throw a.telemetry.addBreadcrumb(t,JSON.stringify(u.data),a.Severity.Info),new(0,o.LocalizedError)({key:u.data.name});throw new(0,o.LocalizedError)({key:n})}))})),i.register("dHptj",(function(t,n){e(t.exports,"parseSwapPairsResponse",(function(){return a}));var o=i("iOvk1"),r=i("kvuQ4");const a=e=>{var t;if(!e.tokens)return[];const n=[],i=Object.keys(e.tokens)[0];if(o.BRI.safeParse(i).success){(null!==(t=e.tokens[i])&&void 0!==t?t:[]).forEach((e=>{const t=r.SwapToken.safeParse(e);t.success&&n.push(t.data)}))}return n}})),i.register("2EDKH",(function(n,o){e(n.exports,"swapTokenToFungible",(function(){return p}));var r=i("iOvk1"),a=i("5slFC"),s=i("kAKNF");const u={id:r.Chains.solana.mainnetID,imageUrl:r.Chains.solana.iconUrl,name:r.Chains.solana.name,symbol:r.Chains.solana.tokenSymbol},c={id:r.Chains.ethereum.mainnetID,imageUrl:r.Chains.ethereum.iconUrl,name:r.Chains.ethereum.name,symbol:r.Chains.ethereum.tokenSymbol},l={id:r.Chains.polygon.mainnetID,imageUrl:r.Chains.polygon.iconUrl,name:r.Chains.polygon.name,symbol:r.Chains.polygon.tokenSymbol},d=e=>e.resourceType===r.Caip19ResourceType.address?e.address:e.slip44,p=(e,n)=>{var o,i;const p={amount:"0",balance:new(t(s))(0),coingeckoId:null!==(i=null===(o=e.extensions)||void 0===o?void 0:o.coingeckoId)&&void 0!==i?i:null,decimals:e.decimals,key:d(e),logoUri:e.logoURI,mintAddress:d(e),name:e.name,splTokenAccountPubkey:"",symbol:e.symbol,tokenAddress:d(e),walletAddress:n,spamStatus:a.SpamStatus.NotVerified};if(e.chainId===r.NetworkIDs.Ethereum.Mainnet){if(e.resourceType===r.Caip19ResourceType.nativeToken)return{type:a.FungibleTokenType.EthereumNative,data:Object.assign(Object.assign({},p),{chain:c})};if(e.resourceType===r.Caip19ResourceType.address)return{type:a.FungibleTokenType.ERC20,data:Object.assign(Object.assign({},p),{chain:c,contractAddress:e.address})}}else if(e.chainId===r.NetworkIDs.Polygon.Mainnet){if(e.resourceType===r.Caip19ResourceType.nativeToken)return{type:a.FungibleTokenType.PolygonNative,data:Object.assign(Object.assign({},p),{chain:l})};if(e.resourceType===r.Caip19ResourceType.address)return{type:a.FungibleTokenType.ERC20,data:Object.assign(Object.assign({},p),{chain:l,contractAddress:e.address})}}else if(e.chainId===r.NetworkIDs.Solana.Mainnet){if(e.resourceType===r.Caip19ResourceType.nativeToken)return{type:a.FungibleTokenType.SolanaNative,data:Object.assign(Object.assign({},p),{chain:u})};if(e.resourceType===r.Caip19ResourceType.address)return{type:a.FungibleTokenType.SPL,data:Object.assign(Object.assign({},p),{chain:u,mintAddress:e.address})}}return null}})),i.register("hNhmc",(function(t,n){e(t.exports,"useSwapAssetCaip19",(function(){return a}));var o=i("5slFC"),r=i("29o0l");function a(e){return(0,r.useMemo)((()=>void 0===e?void 0:(0,o.getFungibleCaip19FromFungible)(e)),[e])}})),i.register("8QmNP",(function(t,n){e(t.exports,"useSwapSellAssetList",(function(){return u}));var o=i("iOvk1"),r=i("29o0l"),a=i("iTQ0V"),s=i("g7N0x");function u({fungibleHooks:e}){const{fungibles:t,isLoadingTokens:n,tokensError:i}=e.useGetFungibleBalances(),u=t.filter((e=>o.Chains.isSolanaNetworkID(e.data.chain.id)||o.Chains.isEVMNetworkID(e.data.chain.id))),c=(0,a.useSwapperStore)((e=>e.sellFungible)),l=(0,r.useMemo)((()=>{if(c){const e=u.findIndex((e=>(0,s.areFungiblesEqual)(e,c))),t=u[e];t&&t.data.amount!==c.data.amount&&(u[e]=c)}return u.filter((e=>"0"!==e.data.amount))}),[u,c]);return(0,r.useMemo)((()=>({assets:l,isLoading:n,error:i})),[l,n,i])}})),i.register("g7N0x",(function(t,n){function o(e,t){return e.data.key===t.data.key}e(t.exports,"areFungiblesEqual",(function(){return o}))})),i.register("5oPAK",(function(t,n){e(t.exports,"useLiveSwapBuyAssetList",(function(){return l}));var o=i("iOvk1"),r=i("5slFC");i("lekXb");var a=i("jCZkg"),s=i("RVqnc"),u=i("29o0l"),c=i("iTQ0V");function l({fungibleHooks:e,getApiEnvironment:t,analytics:n,enableQuery:i=!0,platform:l}){var d;const{sellFungible:p,searchQuery:f,setSearchQuery:m,setNumSearchResults:g}=(0,c.useSwapperStore)(),v=(0,s.useDebouncedState)(f,150),{fungibles:y,isLoadingTokens:h,isRefetchingTokens:S,tokensError:b}=e.useGetFungibleBalances(),{data:k=[],isSuccess:w,isFetching:A,error:T}=(0,a.useFungibleSearch)({query:v,networkIds:[null!==(d=null==p?void 0:p.data.chain.id)&&void 0!==d?d:o.Chains.solana.mainnetID],getApiEnvironment:t,enableQuery:i,keepPreviousData:!0,includeBridgeableTokens:!0,searchContext:"swapper",platform:l}),C=!w&&A,x=(0,u.useMemo)((()=>new Map(y.map((e=>[(0,o.encodeCaip19)((0,r.getFungibleCaip19FromFungible)(e)),e])))),[y]),E=(0,u.useMemo)((()=>{if(0===k.length)return[];const e=k.reduce(((e,t)=>{let n,i="";if((0,r.isNativeFungibleTokenType)(t.type)){if(p&&(0,r.isNativeFungibleTokenType)(p.type)&&t.data.chain.id===p.data.chain.id)return e;i=(0,o.encodeCaip19)((0,o.getNativeFungibleCaip19ForChain)(o.Chains.getChainID(t.data.chain.id)))}else{if(p&&t.data.tokenAddress===p.data.tokenAddress)return e;i=(0,o.encodeCaip19)((0,r.getFungibleCaip19FromFungible)(t))}const a=x.get(i);return n=a&&a.data.balance?a:t,n&&e.push(n),e}),[]);return g(e.length),e}),[x,k,p,g]);return(0,u.useEffect)((()=>{w&&0===E.length&&n.capture("swapperNullSearchResult",{data:{searchQuery:v}})}),[w,E,v,n]),(0,u.useMemo)((()=>({verifiedAssets:E.filter((e=>e.data.spamStatus===r.SpamStatus.Verified)),unverifiedAssets:E.filter((e=>e.data.spamStatus!==r.SpamStatus.Verified)),initialFilterKey:null==p?void 0:p.data.chain.id,isLoading:h||C,isFetching:h||C||S,error:null!=b?b:T,setSearchQuery:m})),[E,h,C,S,b,T,p,m])}})),i.register("c5bbD",(function(t,n){e(t.exports,"useSlippageSettingsViewState",(function(){return f}));var o=i("43063"),r=i("RVqnc"),a=i("29o0l"),s=i("dOGoW"),u=i("fLlWF");const c=[.3,.5,1],l=[...c.map((e=>`${e}%`)),"custom"],d=l.length-1,p=(e,t)=>{if(!e)return;const n=parseFloat(e);return isNaN(n)?{message:t("swapSlippageSettingsCustomInvalidValue"),severity:"critical"}:n>30?{message:t("swapSlippageSettingsCustomMaxError",{maxSlippage:30}),severity:"critical"}:n>1?{message:t("swapSlippageSettingsHighSlippageWarning"),severity:"warning"}:n<.1?{message:t("swapSlippageSettingsCustomMinError",{minSlippage:.1}),severity:"critical"}:void 0},f=({analytics:e,storage:t,onDismiss:n})=>{const{t:i}=(0,o.useTranslation)(),{data:f,isFetched:m}=(0,u.useSwapStorageValue)({storage:t,key:u.StorageKeySwapper.SlippageTolerance,queryKey:s.swapperQueryKeys.slippageTolerance()}),{mutateAsync:g}=(0,u.useSetSwapStorageValue)({storage:t,key:u.StorageKeySwapper.SlippageTolerance,queryKey:s.swapperQueryKeys.slippageTolerance()}),[v,y]=(0,a.useState)(!1),[h,S]=(0,a.useState)(0),[b,k]=(0,a.useState)(),[w,A]=(0,a.useState)(""),[T,C]=(0,a.useState)(),x=h===d,E="critical"===(null==T?void 0:T.severity)||x&&!w,I=(0,a.useCallback)((e=>{h!==e&&(C(void 0),S(e),c[e]?(k(c[e]),A("")):k(void 0))}),[h]),P=(0,a.useCallback)((e=>{const t=(0,r.formatTokenAmountInputs)(e.substring(0,5)),n=(0,r.formatTokenAmountToMaxDecimals)(t,2),o=parseFloat(n);if(isNaN(o))return C(void 0),void A("");A(n),C(p(n,i))}),[i]),F=(0,a.useCallback)((()=>{if(x){const t=parseFloat(null!=w?w:"");g(t),e.capture("slippageChanged",{data:{slippageValue:t,slippageType:"custom"}}),k(void 0)}else b&&(g(b),e.capture("slippageChanged",{data:{slippageValue:b,slippageType:"preset"}}),A(""));n()}),[e,x,w,n,b,g]),N=(0,a.useCallback)((()=>{const e=(e=>e&&-1!==c.indexOf(e)?c.indexOf(e):e?d:0)(f),t=(e=>e&&-1===c.indexOf(e)?`${e}`:"")(f);S(e),k(c[e]),A(t),C(p(t,i))}),[f,i]),D=(0,a.useMemo)((()=>({title:i("swapSlippageSettingsTitle"),subtitle:i("swapSlippageSettingsSubtitle",{minSlippage:.1,maxSlippage:30}),custom:i("swapSlippageSettingsCustom"),button:i("commandConfirm")})),[i]);return(0,a.useEffect)((()=>{!v&&m&&(N(),y(!0))}),[m,v,N]),{options:l,selectedIndex:h,customSlippageValue:w,i18nStrings:D,error:T,submitDisabled:E,onConfirm:F,onDismiss:n,onSelectOption:I,onChangeCustomSlippage:P,onResetToDefault:N}}})),i.register("lLpwA",(function(t,n){e(t.exports,"useSubscribeGasEstimation",(function(){return s}));var o=i("29o0l"),r=i("iTQ0V"),a=i("cNh9z");function s({accountHooks:e,transactionHooks:t,simulationHooks:n,priorityFeeService:i}){const s=(0,r.useSwapperStore)((e=>e.setGasEstimation)),u=(0,r.useSwapperStore)((e=>e.setIsFetchingGasEstimation)),c=(0,r.useSwapperStore)((e=>e.setMaxGasEstimation)),l=(0,r.useSwapperStore)((e=>e.quoteFetchIntervalToggle)),{gasEstimation:d,isFetching:p}=(0,a.useSwapGasEstimation)({accountHooks:e,transactionHooks:t,simulationHooks:n,priorityFeeService:i}),{gasEstimation:f}=(0,a.useSwapGasEstimation)({accountHooks:e,transactionHooks:t,priorityFeeService:i,simulationHooks:n,includeGasBuffer:!0});(0,o.useEffect)((()=>{l?(u(p),s(d),c(f)):u(!1)}),[l,s,c,u,d,f,p])}})),i.register("cNh9z",(function(n,o){e(n.exports,"useSwapGasEstimation",(function(){return v}));var r=i("iOvk1"),a=i("7gANb"),s=i("kAKNF"),u=i("29o0l"),c=i("a6NKv"),l=i("iTQ0V"),d=i("dNQbj"),p=i("kaJtZ"),f=i("fx1OB"),m=i("iX5lP");const g=e=>{switch(e){case r.NetworkIDs.Ethereum.Mainnet:case r.NetworkIDs.Ethereum.Sepolia:return 8e5;case r.NetworkIDs.Polygon.Mainnet:case r.NetworkIDs.Polygon.Amoy:return 5e5;default:return 0}},v=({accountHooks:e,transactionHooks:n,simulationHooks:o,priorityFeeService:i,includeGasBuffer:v=!1})=>{var y,h,S;const{currentQuote:b,multichainQuoteResponse:k}=(0,m.useQuote)(),w=(0,f.useInitialSellFungible)({accountHooks:e}),A=null!==(y=(0,l.useSwapperStore)((e=>e.sellFungible)))&&void 0!==y?y:w,T=null!==(h=null==A?void 0:A.data.chain.id)&&void 0!==h?h:r.NetworkIDs.Solana.Mainnet,{data:C}=e.useSelectedChainAddress({address:A.data.walletAddress,networkID:A.data.chain.id}),x=null!==(S=null==C?void 0:C.address)&&void 0!==S?S:"",{data:E}=n.useEvmGasEstimation({networkID:r.Chains.isEVMNetworkID(T)?T:r.NetworkIDs.Ethereum.Mainnet,transactionSpeed:a.TransactionSpeed.standard,gasLimit:new(t(s))(1),refetchInterval:2e4}),{data:I,isFetching:P}=(0,c.useSwapTransactions)({transactionHooks:n,priorityFeeService:i,callerAddress:x,sellFungible:A,quote:b}),F={type:"transaction",userAccount:x,params:void 0,url:"https://phantom.app",networkID:T};"evm"===(null==I?void 0:I.type)&&r.Chains.isEVMNetworkID(T)&&(F.params={transactions:I.transactions});const{data:N,isFetching:D}=o.useScannedTransaction(F,{disabled:r.Chains.isSolanaNetworkID(T)}),{data:O,isFetching:M}=(0,p.useEstimateSolanaNetworkFee)({swapTransactions:I,chainId:r.Chains.isSolanaNetworkID(T)?T:r.NetworkIDs.Solana.Mainnet}),L=(0,u.useMemo)((()=>{var e,n,o;if(r.Chains.isEVMNetworkID(T)&&((0,d.isEvmSwapQuote)(b)||(0,d.isBridgeQuote)(b))&&E){const{maxFeePerGas:r,maxPriorityFeePerGas:i}=E;let a=(0,d.isEvmSwapQuote)(b)?[b.gas]:(o=T,b.steps.flatMap((e=>{var t;return null!==(t=e.gasCosts)&&void 0!==t?t:[g(o)]})));const u=null===(e=null==N?void 0:N.advancedDetails)||void 0===e?void 0:e.gas;return(null===(n=null==N?void 0:N.advancedDetails)||void 0===n?void 0:n.gasLimit)>0&&(a=u),a.map((e=>{var n;return{maxFeePerGas:r,maxPriorityFeePerGas:i,networkID:T,gasLimit:new(t(s))(e).multipliedBy(v?null!==(n=null==k?void 0:k.gasBuffer)&&void 0!==n?n:1.3:1).integerValue(t(s).ROUND_CEIL)}}))}if(r.Chains.isSolanaNetworkID(T)&&void 0!==O)return O.map((e=>({networkID:T,value:e})))}),[T,b,E,O,k,v,N]),R=M||P||D;return(0,u.useMemo)((()=>({gasEstimation:L,isFetching:R,isError:void 0===E})),[L,R,E])}})),i.register("kaJtZ",(function(t,n){e(t.exports,"useEstimateSolanaNetworkFee",(function(){return l}),(function(e){return l=e}));var o=i("3tdpt"),r=i("hMVEP"),a=i("7gANb"),s=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const u="swap-priority-fee",c=(e,t)=>s(void 0,void 0,void 0,(function*(){const n=(0,r.transactionStringToTransaction)(e,"bs58");return{networkFeeEstimation:yield(0,a.estimateFeeFromMessages)(t,[n.message])}}));function l({swapTransactions:e,chainId:t}){const n=[u,e],r=!!e&&e.transactions.length>0&&"solana"===e.type&&!!t;return(0,o.useQuery)({queryKey:n,queryFn:()=>s(this,void 0,void 0,(function*(){if(!e)throw new Error("No swap transactions");if("solana"!==e.type)throw new Error("Trying estimate network fee for non-solana txs");if(!t)throw new Error("Trying to execute swap with no chain id.");try{const n=e.transactions.map((e=>c(e,t))),o=yield Promise.all(n);return o.map((e=>e.networkFeeEstimation.value))}catch(e){return[0]}})),enabled:r})}})),i.register("bFhoc",(function(n,o){e(n.exports,"useSubscribeSwapQuoteToQueries",(function(){return S}));var r=i("43063"),a=i("RVqnc"),s=i("kAKNF"),u=i("29o0l"),c=i("2neO6"),l=i("2UOPE"),d=i("dOGoW"),p=i("fz9J3"),f=i("fLlWF"),m=i("iTQ0V"),g=i("adhE7"),v=i("79gfS"),y=i("c8n6I"),h=i("hNhmc");function S({accountHooks:e,fungibleHooks:n,priceHooks:o,skipInitialBuyFungible:i,getApiEnvironment:S,analytics:b,storage:k}){var w,A;const T=(0,m.useSwapperStore)((e=>e.sellAmount)),C=(0,m.useSwapperStore)((e=>e.buyFungible)),x=null!=C?C:i?void 0:l.INITIAL_BUY_FUNGIBLE,E=(0,h.useSwapAssetCaip19)(x),I=(0,m.useSwapperStore)((e=>e.sellFungible)),P=(0,m.useSwapperStore)((e=>e.refuelEnabled)),F=(0,m.useSwapperStore)((e=>e.setRefuelEnabled)),N=(0,h.useSwapAssetCaip19)(I),D=(0,m.useSwapperStore)((e=>e.quoteFetchIntervalToggle)),O=(0,m.useSwapperStore)((e=>e.resetQuote)),M=(0,m.useSwapperStore)((e=>e.setHasNoRoutes)),L=(0,m.useSwapperStore)((e=>e.setError)),R=(0,m.useSwapperStore)((e=>e.setIsFetchingQuote)),B=(0,m.useSwapperStore)((e=>e.setMultichainQuoteResponse)),U=(0,m.useSwapperStore)((e=>e.setSelectedProviderIndex)),{data:_}=(0,f.useSwapStorageValue)({storage:k,key:f.StorageKeySwapper.SlippageTolerance,queryKey:d.swapperQueryKeys.slippageTolerance()}),{mutateAsync:z}=(0,f.useSetSwapStorageValue)({storage:k,key:f.StorageKeySwapper.SlippageTolerance,queryKey:d.swapperQueryKeys.slippageTolerance()}),V=(0,y.useIsRefuelSupported)({fungibleHooks:n});(0,u.useEffect)((()=>F(V)),[V,x,F]);const j=(0,v.useHasSwapMinimumSellAmount)(o),Q=t(c)(j),q=(0,u.useMemo)((()=>new(t(s))(T).isGreaterThan(0)&&I?(0,a.uiAmountToAmount)(T,I.data.decimals).toString():(O(),"")),[O,T,I]),H=(0,g.isBridgeSwap)(null===(w=null==I?void 0:I.data)||void 0===w?void 0:w.chain.id,null==x?void 0:x.data.chain.id);(0,u.useEffect)((()=>{H&&b.capture("swapperRefuelDefault",{data:{default:V}})}),[V,b,H]);const{data:K}=e.useSelectedChainAddress(null===(A=null==I?void 0:I.data)||void 0===A?void 0:A.chain.id),{data:W}=e.useSelectedChainAddress(null==x?void 0:x.data.chain.id),G=(0,u.useMemo)((()=>K?{chainId:K.networkID,address:K.address,resourceType:"address"}:{}),[K]),$=(0,u.useMemo)((()=>{if(H)return{chainId:null==W?void 0:W.networkID,address:null==W?void 0:W.address,resourceType:"address"}}),[H,null==W?void 0:W.address,null==W?void 0:W.networkID]),{data:Y,error:X,isFetching:Z}=(0,p.useSwapQuotes)({sellToken:N,buyToken:E,taker:G,takerDestination:$,sellAmount:j?q:"",slippageTolerance:null!=_?_:void 0,refuelEnabled:P,getApiEnvironment:S,analytics:b}),J=(0,u.useCallback)((e=>{L(null),U(0),R(!1),M(!1),B(e),_||z(e.slippageTolerance)}),[L,M,R,B,U,z,_]),ee=(0,u.useCallback)((e=>{O(),R(!1),M(!0),L(e)}),[O,L,M,R]);(0,u.useEffect)((()=>{D&&(Z?R(!0):Y?J(Y):X&&ee(X))}),[X,Y,Z,J,ee,R,D,j]),(0,u.useEffect)((()=>{j?!1===Q&&j&&(L(null),M(!1)):(L(new(0,r.LocalizedError)({key:"InsufficientSellAmount"})),M(!0))}),[j,Q,L,M])}})),i.register("2neO6",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var n=i("29o0l");e.exports.default=function(e){var t=n.useRef();return n.useEffect((function(){t.current=e})),t.current}})),i.register("fz9J3",(function(t,n){e(t.exports,"useSwapQuotes",(function(){return c}),(function(e){return c=e}));var o=i("3tdpt"),r=i("4gTf0"),a=i("dOGoW"),s=i("6BFZj"),u=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const c=({sellToken:e,buyToken:t,taker:n,takerDestination:i,sellAmount:c,slippageTolerance:l,refuelEnabled:d,getApiEnvironment:p,analytics:f})=>{const m=!!c&&!!t&&!!e,g=a.swapperQueryKeys.quotes(e,t,n,c,l,d,i);return(0,o.useQuery)({queryKey:g,enabled:m,cacheTime:0,staleTime:0,refetchInterval:s.RefetchInterval.Short,queryFn(e){return u(this,arguments,void 0,(function*({queryKey:[,,{sellToken:e,buyToken:t,taker:n,sellAmount:o,slippageTolerance:a}],signal:s}){if(!o||!t||!e)throw new Error("missing necessary args");const u=p(),c=yield(0,r.getSwapQuotes)({apiEnv:u,sellToken:e,buyToken:t,taker:n,takerDestination:i,sellAmount:o,slippageTolerance:a,refuelEnabled:d,signal:s});return f.capture("swapperQuotesResult",{data:{numQuotes:c.quotes.length,sellToken:e,fromNetworkId:e.chainId,toNetworkId:t.chainId}}),c}))}})}})),i.register("4gTf0",(function(t,n){e(t.exports,"getSwapQuotes",(function(){return p}),(function(e){return p=e}));var o=i("iOvk1"),r=i("43063"),a=i("beWYh"),s=i("gmJPe"),u=i("hvYWW"),c=i("7eNmL"),l=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const d="swap-quotes";function p(e){return l(this,arguments,void 0,(function*({apiEnv:e,sellToken:t,buyToken:n,taker:i,takerDestination:l,sellAmount:p,slippageTolerance:f,refuelEnabled:m,signal:g}){let v;try{(0,o.isEvmCaip19Address)(i)&&(i.address=i.address.toLowerCase()),l&&(0,o.isEvmCaip19Address)(l)&&(l.address=l.address.toLowerCase()),(0,o.isEvmCaip19Address)(n)&&(n.address=n.address.toLowerCase()),(0,o.isEvmCaip19Address)(t)&&(t.address=t.address.toLowerCase());const r=`${e}/swap/v2/quotes`,s=Object.assign({sellToken:t,buyToken:n,taker:i,takerDestination:l,sellAmount:p,slippageTolerance:f},m?{refuel:1,ignoreRefuelFailures:!0}:{}),y=yield a.rb.post(r,s,{signal:g});return v=y.status,yield(0,u.handleBadResponse)(y,d,"SwapperNoQuotes"),(0,c.parseSwapQuotesResponse)(y.data,m)}catch(o){const i=o instanceof r.LocalizedError?o:new(0,r.LocalizedError);throw(0,s.captureClientError)(i,v,d,{apiEnv:e,sellToken:t,buyToken:n,sellAmount:p,slippageTolerance:f}),i}}))}})),i.register("7eNmL",(function(t,n){e(t.exports,"parseSwapQuotesResponse",(function(){return a}));var o=i("43063"),r=i("kvuQ4");const a=(e,t)=>{const n=new(0,o.LocalizedError)({key:"SwapperNoQuotes"});if(!1===r.QuoteType.safeParse(null==e?void 0:e.type).success)throw new Error("Invalid input");const i=r.SwapperQuoteResponse.safeParse(e);if(!i.success)throw n;if(0===i.data.quotes.length){if(t)throw new(0,o.LocalizedError)({key:"SwapperRefuelNoQuotes"});throw n}return i.data}})),i.register("79gfS",(function(t,n){e(t.exports,"useHasSwapMinimumSellAmount",(function(){return c}));var o=i("iOvk1"),r=i("5slFC"),a=i("56oyT"),s=i("iTQ0V");const u={[o.Chain.Bitcoin]:0,[o.Chain.Solana]:0,[o.Chain.Ethereum]:20,[o.Chain.Polygon]:0},c=e=>{const t=(0,s.useSwapperStore)((e=>e.sellFungible)),n=(0,s.useSwapperStore)((e=>e.buyFungible)),i=(0,s.useSwapperStore)((e=>e.sellAmount)),c=t?(0,r.getFungibleCaip19FromFungible)(t):null,{data:l}=e.usePrice({query:c?{data:c}:void 0}),d=null==t?void 0:t.data.chain.id,p=null==n?void 0:n.data.chain.id,f=null==l?void 0:l.usd;if(!(d&&p&&i&&f&&0!==o.Chains.compareNetworkID(d,p)))return!0;const m=(0,a.assetToDollars)(Number(i),f),g=u[o.Chains.getChainID(d)],v=u[o.Chains.getChainID(p)];return g<=m&&v<=m}})),i.register("hVvmZ",(function(t,n){e(t.exports,"useSwapBuyAssetProps",(function(){return f}));var o=i("iOvk1"),r=i("5slFC"),a=i("43063"),s=i("56oyT"),u=i("RVqnc"),c=i("iTQ0V"),l=i("ccqWS"),d=i("iX5lP");const p={chainId:o.NetworkIDs.Solana.Mainnet,slip44:o.Slip44.Solana,resourceType:o.Caip19ResourceType.nativeToken};function f({isSingleChainEnabled:e,priceHooks:t,analytics:n}){var i,f,m,g,v;const{t:y}=(0,a.useTranslation)(),h=(0,c.useSwapperStore)((e=>e.buyFungible)),S=(0,c.useSwapperStore)((e=>e.isFetchingQuote)),b=null!==(i=null==h?void 0:h.data.decimals)&&void 0!==i?i:0,k=null==h?void 0:h.data.chain.id,w=null!==(f=null==h?void 0:h.data.symbol)&&void 0!==f?f:"",A=null==h?void 0:h.type,T=null!==(m=null==h?void 0:h.data.logoUri)&&void 0!==m?m:"",C=null!==(g=null==h?void 0:h.data.tokenAddress)&&void 0!==g?g:"",x=null==h?void 0:h.data.chain,E=null!==(v=null==h?void 0:h.data.name)&&void 0!==v?v:"",I=e||A&&(0,r.isNativeFungibleTokenType)(A)?null!=w?w:"":y("swapAssetCardTokenNetwork",{symbol:w,network:k?o.Chains.getNetworkName(k):""}),{currentQuote:P,multichainQuoteResponse:F}=(0,d.useQuote)(),N=String(P&&F&&h?(0,u.amountToFormattedAmount)(P.buyAmount,b):""),D=(0,l.useOnSwitchTokens)(n),O=h?(0,r.getFungibleCaip19FromFungible)(h):p,{data:M}=t.usePrice({query:{data:O}});let L=(null==P?void 0:P.buyAmount)?"":(0,u.formatDollarAmount)(0);if((null==M?void 0:M.usd)&&(null==P?void 0:P.buyAmount)&&h){const e=(0,s.assetToDollars)((0,u.amountToUiAmount)(P.buyAmount,b).toNumber(),M.usd);L=(0,u.formatDollarAmount)(e)}return{assetButtonTitle:E,assetSubheadline:I,buyAmount:N,currencyValue:L,decimals:b,symbol:w,logoUri:T,tokenAddress:C,tokenType:A,network:x,isFetchingQuote:S,onSwitchTokens:D}}})),i.register("ccqWS",(function(t,n){e(t.exports,"useOnSwitchTokens",(function(){return d}));var o=i("RVqnc"),r=i("29o0l"),a=i("2UOPE"),s=i("iTQ0V"),u=i("iX5lP"),c=i("4MMT9"),l=i("iA6sm");const d=e=>{var t;const n=(0,s.useSwapperStore)((e=>e.sellFungible)),i=null!==(t=(0,s.useSwapperStore)((e=>e.buyFungible)))&&void 0!==t?t:a.INITIAL_BUY_FUNGIBLE,d=(0,s.useSwapperStore)((e=>e.setSellAmount)),p=(0,s.useSwapperStore)((e=>e.setUiSellAmount)),f=(0,l.useSwapSetSellAsset)(e),m=(0,c.useSwapSetBuyAsset)(e),{currentQuote:g,multichainQuoteResponse:v}=(0,u.useQuote)(),y=String(g&&v&&i?(0,o.amountToFormattedAmount)(g.buyAmount,i.data.decimals):"");return(0,r.useCallback)((()=>{d(y),p(y),i&&f(i),n&&m(n)}),[d,y,p,i,n,f,m])}})),i.register("4MMT9",(function(t,n){e(t.exports,"useSwapSetBuyAsset",(function(){return l}),(function(e){return l=e}));var o=i("29o0l"),r=i("9CkPk"),a=i("iTQ0V"),s=i("g7N0x"),u=i("gWWyM"),c=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};function l(e){const t=(0,a.useSwapperStore)((e=>e.resetQuote)),n=(0,a.useSwapperStore)((e=>e.setBuyFungible)),i=(0,a.useSwapperStore)((e=>e.buyFungible)),{cancelQuotes:l}=(0,r.useSwapCancelQuotes)();return(0,o.useCallback)((o=>c(this,void 0,void 0,(function*(){if(i&&(0,s.areFungiblesEqual)(o,i))return;yield l(),t();const r=(0,u.getAnalyticsAsset)(o);e.capture("swapperUpdateToAsset",{data:r}),n(o)}))),[e,i,l,t,n])}})),i.register("9CkPk",(function(t,n){e(t.exports,"useSwapCancelQuotes",(function(){return c}),(function(e){return c=e}));var o=i("3tdpt"),r=i("RVqnc"),a=i("29o0l"),s=i("dOGoW"),u=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const c=()=>{const e=(0,o.useQueryClient)();return{cancelQuotes:(0,a.useCallback)((()=>u(void 0,void 0,void 0,(function*(){yield e.cancelQueries({queryKey:s.swapperQueryKeys.quotesScope()}),yield(0,r.delayAsync)(1)}))),[e])}}})),i.register("gWWyM",(function(t,n){e(t.exports,"getAnalyticsAsset",(function(){return a}));var o=i("iOvk1"),r=i("5slFC");function a(e){var t;return{chain:o.Chain.Solana,type:"fungible",address:e.type===r.FungibleTokenType.SPL?e.data.mintAddress:void 0,symbol:null!==(t=e.data.symbol)&&void 0!==t?t:""}}})),i.register("iA6sm",(function(t,n){e(t.exports,"useSwapSetSellAsset",(function(){return l}),(function(e){return l=e}));var o=i("29o0l"),r=i("9CkPk"),a=i("iTQ0V"),s=i("g7N0x"),u=i("gWWyM"),c=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};function l(e){const t=(0,a.useSwapperStore)((e=>e.buyFungible)),n=(0,a.useSwapperStore)((e=>e.sellFungible)),i=(0,a.useSwapperStore)((e=>e.setBuyFungible)),l=(0,a.useSwapperStore)((e=>e.setSellFungible)),d=(0,a.useSwapperStore)((e=>e.resetQuote)),p=null==n?void 0:n.data.amount,{cancelQuotes:f}=(0,r.useSwapCancelQuotes)();return(0,o.useCallback)((o=>c(this,void 0,void 0,(function*(){if(n&&(0,s.areFungiblesEqual)(o,n))return void(o&&o.data.amount!==p&&l(o));yield f();const r=(0,u.getAnalyticsAsset)(o);e.capture("swapperUpdateFromAsset",{data:r}),l(o),t&&n&&(0,s.areFungiblesEqual)(o,t)&&i(n),o&&(null==n?void 0:n.data.chain.id)!==o.data.chain.id&&(d(),i(void 0))}))),[e,t,f,p,d,n,i,l])}})),i.register("dtI9r",(function(t,n){e(t.exports,"useSwapCardProps",(function(){return m}));var o=i("iOvk1"),r=i("47coL"),a=i("fhD70"),s=i("zHB5r"),u=i("I4BHf"),c=i("jd96V"),l=i("4xLuU"),d=i("UWzy4"),p=i("iX5lP"),f=i("8BJCs");function m({transactionHooks:e,priceHooks:t,accountHooks:n}){var i,m;const{bestBuyAmount:g,currentQuote:v,hasNoRoutes:y,multichainQuoteResponse:h,quotes:S,isFetchingQuote:b}=(0,p.useQuote)(),k=(0,u.useExchangeRate)(g,h,v),w=(0,l.usePriceImpact)((0,a.getSwapPriceImpact)(v)),A=(0,f.useSlippage)(null==h?void 0:h.slippageTolerance),T=(0,d.useProvider)((0,s.getSwapQuoteSources)(v)),C=(0,r.getSwapExecutionDuration)(v),x=(null===(i=null==h?void 0:h.sellToken)||void 0===i?void 0:i.chainId)?o.Chains.getChainName(h.sellToken.chainId):void 0,E=(null===(m=null==h?void 0:h.buyToken)||void 0===m?void 0:m.chainId)?o.Chains.getChainName(h.buyToken.chainId):void 0;return{exchangeRate:k,hasNoRoutes:y,priceImpact:w,slippage:A,provider:T,fees:(0,c.useFees)({transactionHooks:e,priceHooks:t,accountHooks:n}),nrOfQuotes:S.length,executionDuration:C,isFetchingQuote:b,sellNetwork:x,buyNetwork:E}}})),i.register("47coL",(function(t,n){e(t.exports,"getSwapExecutionDuration",(function(){return r}));var o=i("dNQbj");const r=e=>e&&(0,o.isBridgeQuote)(e)?e.executionDuration:0})),i.register("fhD70",(function(t,n){e(t.exports,"getSwapPriceImpact",(function(){return r}));var o=i("dNQbj");const r=e=>e?(0,o.isBridgeQuote)(e)?void 0:e.priceImpact:0})),i.register("zHB5r",(function(t,n){e(t.exports,"getSwapQuoteSources",(function(){return a}));var o=i("ghVs8"),r=i("dNQbj");const a=e=>{var t;return e?(0,r.isBridgeQuote)(e)?(0,o.getBridgeTools)(e):null!==(t=null==e?void 0:e.sources)&&void 0!==t?t:[]:[]}})),i.register("ghVs8",(function(t,n){e(t.exports,"getBridgeTools",(function(){return o}));const o=e=>e.steps.map((e=>e.tool))})),i.register("I4BHf",(function(n,o){e(n.exports,"useExchangeRate",(function(){return d}));var r=i("RVqnc"),a=i("kAKNF"),s=i("29o0l"),u=i("iTQ0V"),c=i("dbFer");const l=t(a)(1);function d(e,n,o){const[i,d]=(0,s.useState)(!1),p=(0,s.useCallback)((()=>d(!i)),[i]),f=(0,u.useSwapperStore)((e=>e.sellFungible)),m=(0,u.useSwapperStore)((e=>e.buyFungible));return(0,s.useMemo)((()=>{let s=!1,u="";if(n&&o){const n=null==m?void 0:m.data,d=null==f?void 0:f.data;if(n&&d){const{buyAmount:p,sellAmount:f}=o,m=(0,r.amountToUiAmount)(p,n.decimals),g=(0,r.amountToUiAmount)(f,d.decimals),v=m.dividedBy(g),y=`1 ${d.symbol} ≈ ${(0,c.formatTokenAmountGreaterThan1)(v)} ${n.symbol}`,h=`1 ${n.symbol} ≈ ${(0,c.formatTokenAmountGreaterThan1)(l.dividedBy(v))} ${d.symbol}`;s=new(t(a))(o.buyAmount).isEqualTo(e),u=i?h:y}}return{isBestRate:s,rate:u,flip:p}}),[e,o,i,n,f,m,p])}})),i.register("jd96V",(function(n,o){e(n.exports,"useFees",(function(){return v}));var r=i("iOvk1"),a=i("kAKNF"),s=i("29o0l"),u=i("iTQ0V"),c=i("azr2P"),l=i("6FeQw"),d=i("dNQbj"),p=i("784a8"),f=i("fx1OB"),m=i("iX5lP");const g={"Allbridge's fee":"destinationNetwork","Allbridge Liquidity Fee":"liquidityProvider"},v=({transactionHooks:e,priceHooks:n,accountHooks:o})=>{var i,v;const{currentQuote:y}=(0,m.useQuote)(),h=(0,f.useInitialSellFungible)({accountHooks:o}),S=null!==(i=(0,u.useSwapperStore)((e=>e.sellFungible)))&&void 0!==i?i:h,b=(0,u.useSwapperStore)((e=>e.gasEstimation)),k=(0,u.useSwapperStore)((e=>e.isFetchingGasEstimation)),w=(0,u.useSwapperStore)((e=>e.maxGasEstimation)),A=null!==(v=null==S?void 0:S.data.chain.id)&&void 0!==v?v:r.NetworkIDs.Solana.Mainnet,T=(0,r.getNativeFungibleCaip19ForChain)(r.Chain.Solana),C=(0,r.getNativeFungibleCaip19ForChain)(r.Chain.Ethereum),x=(0,r.getNativeFungibleCaip19ForChain)(r.Chain.Polygon),{data:E={}}=n.usePrices({query:{data:[T,C,x]}}),{data:I,isFetching:P}=e.useGasEstimationPrice(A,(0,p.aggregateGasEstimation)(b)),{data:F}=e.useGasEstimationPrice(A,(0,p.aggregateGasEstimation)(w)),N=k||P,D=(0,s.useMemo)((()=>{var e,n,o,r,i;if((0,d.isBridgeQuote)(y)){const o=y.steps.flatMap((e=>e.feeCosts)).find((e=>"phantom"===e.name));return{amount:new(t(a))(null!==(e=null==o?void 0:o.amount)&&void 0!==e?e:0),uiAmount:"",pct:parseFloat(null!==(n=null==o?void 0:o.percentage)&&void 0!==n?n:"0")}}const s=(null!==(o=null==y?void 0:y.fees)&&void 0!==o?o:[]).find((e=>"phantom"===e.type));return{amount:new(t(a))(null!==(r=null==s?void 0:s.amount)&&void 0!==r?r:0),uiAmount:"",pct:null!==(i=null==s?void 0:s.percentage)&&void 0!==i?i:0}}),[y]),O=(0,s.useMemo)((()=>{var e,n,o;if((0,d.isBridgeQuote)(y))return{amount:new(t(a))(0),uiAmount:"",pct:0};const r=(null!==(e=null==y?void 0:y.fees)&&void 0!==e?e:[]).find((e=>"Token account deposits"===e.name));return{amount:new(t(a))(null!==(n=null==r?void 0:r.amount)&&void 0!==n?n:0),uiAmount:(null==r?void 0:r.amount)?(0,c.formatFee)(A,new(t(a))(r.amount),E):"",pct:null!==(o=null==r?void 0:r.percentage)&&void 0!==o?o:0}}),[y,A,E]),M=(0,s.useMemo)((()=>{if(!y||!(0,d.isBridgeQuote)(y))return{amount:new(t(a))(0),uiAmount:"",pct:0};const e=(0,l.getBridgeStepsFees)(y);return{amount:e,uiAmount:(0,c.formatFee)(A,e,E),pct:0}}),[A,y,E]),L=(0,s.useMemo)((()=>{var e,n,o,i;return Object.assign(Object.assign({amount:null!==(e=y&&(null==I?void 0:I.gasEstimationAmount))&&void 0!==e?e:new(t(a))(0),uiAmount:null!==(n=y&&(null==I?void 0:I.gasEstimationPriceUSD))&&void 0!==n?n:""},r.Chains.isEVMNetworkID(A)?{maxAmount:null!==(o=y&&(null==F?void 0:F.gasEstimationAmount))&&void 0!==o?o:new(t(a))(0),maxUiAmount:null!==(i=y&&(null==F?void 0:F.gasEstimationPriceUSD))&&void 0!==i?i:""}:{}),{pct:0})}),[y,null==I?void 0:I.gasEstimationAmount,null==I?void 0:I.gasEstimationPriceUSD,null==F?void 0:F.gasEstimationAmount,null==F?void 0:F.gasEstimationPriceUSD,A]),R=(0,s.useMemo)((()=>{var e;const t=O.amount.plus(L.amount).plus(M.amount),n=r.Chains.isEVMNetworkID(A)?O.amount.plus(null!==(e=L.maxAmount)&&void 0!==e?e:0).plus(M.amount):void 0;return Object.assign({amount:t,uiAmount:(0,c.formatFee)(A,t,E),pct:0},r.Chains.isEVMNetworkID(A)&&n?{maxAmount:n,maxUiAmount:(0,c.formatFee)(A,n,E)}:{})}),[O.amount,L.amount,L.maxAmount,M.amount,A,E]),{destinationNetworkFee:B,liquidityFee:U}=(0,s.useMemo)((()=>{function e(e){var n,o,r;return e?{amount:new(t(a))(null!==(n=e.amount)&&void 0!==n?n:0),uiAmount:`$${null!==(o=e.amountUSD)&&void 0!==o?o:""}`,pct:parseFloat(null!==(r=e.percentage)&&void 0!==r?r:"0")}:{amount:new(t(a))(0),uiAmount:"",pct:0}}let n=new Map([]);return y&&(0,d.isBridgeQuote)(y)&&(n=y.steps.flatMap((e=>e.includedFeeCosts)).reduce(((e,t)=>{if(!t)return e;const n=g[t.name];return n&&e.set(n,t),e}),n)),{destinationNetworkFee:e(n.get("destinationNetwork")),liquidityFee:e(n.get("liquidityProvider"))}}),[y]);return(0,s.useMemo)((()=>({phantomFee:D,networkFee:L,tokenAccountFee:O,totalFees:R,nonIncludedFees:M,destinationNetworkFee:B,liquidityFee:U,isFetchingFees:N})),[D,L,O,R,M,B,U,N])}})),i.register("azr2P",(function(n,o){e(n.exports,"formatFee",(function(){return c}));var r=i("iOvk1"),a=i("RVqnc"),s=i("kAKNF"),u=i("dbFer");function c(e,n,o){if(n.lte(0))return"";const i=(0,r.encodeCaip19)({chainId:e,resourceType:r.Caip19ResourceType.nativeToken,slip44:r.Chains.getSlip44(e)}),c=r.Chains.getTokenDecimals(e),l=r.Chains.getTokenSymbol(e);if(!i||!c||!l)return"";const d=n.div(new(t(s))(10).pow(c)),p=o[i];if(!(null==p?void 0:p.usd))return`${(0,u.formatTokenAmountGreaterThan1)(d.toString())} ${l}`;const f=d.times(p.usd).toNumber(),m=(0,a.formatDollarAmount)(f,{minimumAmount:1e-6,decimalFormatSmallNumbers:"0.[00000]"});return"$NaN"!==m?m:""}})),i.register("6FeQw",(function(n,o){e(n.exports,"getBridgeStepsFees",(function(){return a}));var r=i("kAKNF");const a=e=>e.steps.reduce(((e,n)=>e.plus(new(t(r))(n.nonIncludedNonGasFees))),new(t(r))(0))})),i.register("784a8",(function(n,o){e(n.exports,"aggregateGasEstimation",(function(){return u}));var r=i("iOvk1"),a=i("7gANb"),s=i("kAKNF");const u=e=>{if(e&&0!==e.length)return(0,a.isEvmGasEstimation)(e[0])?e.reduce(((e,t)=>Object.assign(Object.assign({},e),{gasLimit:e.gasLimit.plus(t.gasLimit)})),{networkID:r.Chains.ethereum.mainnetID,gasLimit:new(t(s))(0),maxFeePerGas:e[0].maxFeePerGas,maxPriorityFeePerGas:e[0].maxPriorityFeePerGas}):(0,a.isSolanaGasEstimation)(e[0])?e.reduce(((e,t)=>Object.assign(Object.assign({},e),{value:e.value+t.value})),{networkID:r.Chains.solana.mainnetID,value:0}):void 0}})),i.register("4xLuU",(function(t,n){e(t.exports,"usePriceImpact",(function(){return s}));var o=i("29o0l"),r=i("bKooM"),a=i("31DM9");function s(e){return(0,o.useMemo)((()=>{let t="",n="";if(void 0===e)return;const o=100*e;return t=(0,r.getPriceImpactColor)(o),n=(0,a.getPriceImpactText)(o),{color:t,text:n,percentage:o}}),[e])}})),i.register("bKooM",(function(t,n){function o(e){if(void 0===e)return"#999";const t=parseFloat(e.toFixed(2));switch(!0){case t>=5:return"#EB3742";case t>=1&&e<5:return"#FFDC62";case e>=0&&e<1:return"#21E56F";default:return"#777777"}}e(t.exports,"getPriceImpactColor",(function(){return o}))})),i.register("31DM9",(function(t,n){function o(e){if(void 0===e)return"-";switch(!0){case e>=1e3:return">1000%";case e>=.01&&e<1e3:return`${e.toFixed(2)}%`;case e>0&&e<.01:return"<0.01%";case 0===e:return"0%";default:return"-"}}e(t.exports,"getPriceImpactText",(function(){return o}))})),i.register("UWzy4",(function(t,n){e(t.exports,"useProvider",(function(){return a}));var o=i("29o0l"),r=i("eH8pa");function a(e){return(0,o.useMemo)((()=>(0,r.parseSwapSources)(e)),[e])}})),i.register("8BJCs",(function(t,n){e(t.exports,"useSlippage",(function(){return s}));var o=i("29o0l"),r=i("XQLa4"),a=i("eJK8G");function s(e){return(0,o.useMemo)((()=>{let t="",n="";if(void 0!==e)return t=(0,r.getSlippageColor)(e),n=(0,a.getSlippageText)(e),{color:t,text:n,percentage:e}}),[e])}})),i.register("XQLa4",(function(t,n){function o(e){if(void 0===e)return"#999";const t=parseFloat(e.toFixed(2));switch(!0){case t>2:return"#EB3742";case t>=1&&e<=2:return"#FFDC62";default:return"#777777"}}e(t.exports,"getSlippageColor",(function(){return o}))})),i.register("eJK8G",(function(t,n){function o(e){if(void 0===e)return"-";switch(!0){case e>=1e3:return">1000%";case e>=.01&&e<1e3:return`${e.toFixed(2)}%`;case e>0&&e<.01:return"<0.01%";case 0===e:return"0%";default:return"-"}}e(t.exports,"getSlippageText",(function(){return o}))})),i.register("8vNNq",(function(t,n){e(t.exports,"useSwapConfirmationProps",(function(){return D}),(function(e){return D=e}));var o=i("h0VH5"),r=i("iOvk1"),a=i("43063"),s=i("7mQ3Y"),u=i("5uSEV"),c=i("csW2r"),l=i("RVqnc"),d=i("29o0l"),p=i("2UOPE"),f=i("gndyZ"),m=i("SJcyj"),g=i("a6NKv"),v=i("iTQ0V"),y=i("eanp9"),h=i("47coL"),S=i("fhD70"),b=i("zHB5r"),k=i("adhE7"),w=i("huZwj"),A=i("8A1G6"),T=i("lgcfo"),C=i("iI3xI"),x=i("jd96V"),E=i("fx1OB"),I=i("UWzy4"),P=i("iX5lP"),F=i("k7AnB"),N=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};function D({accountSigner:e,fungibleHooks:t,priceHooks:n,settingsHooks:i,transactionHooks:D,accountHooks:O,simulationHooks:M,analytics:L,asyncSwapAnalytics:R,isLedger:B,onError:U,priorityFeeService:_,isSwapSimulationDisabled:z,storage:V,goToSwapTab:j,goToSwapReview:Q,goToActivityTab:q}){var H,K,W,G,$;const{t:Y}=(0,a.useTranslation)(),X=(0,E.useInitialSellFungible)({accountHooks:O}),Z=p.CHAIN_TO_USDC_FUNGIBLE.get(X.data.chain.id),{currentQuote:J}=(0,P.useQuote)(),ee=null!==(H=(0,v.useSwapperStore)((e=>e.buyFungible)))&&void 0!==H?H:Z,te=null!==(K=(0,v.useSwapperStore)((e=>e.sellFungible)))&&void 0!==K?K:X,ne=(0,v.useSwapperStore)((e=>e.buyUsdValue)),oe=(0,v.useSwapperStore)((e=>e.sellUsdValue)),re=(0,v.useSwapperStore)((e=>e.setSellFungible)),ie=(0,v.useSwapperStore)((e=>e.resetSwapper)),ae=(0,v.useSwapperStore)((e=>e.setQuoteFetchIntervalToggle)),{buyAmount:se,sellAmount:ue}=null!=J?J:{buyAmount:"0",sellAmount:"0"},ce=(0,l.amountToUiAmount)(se,ee.data.decimals).toNumber(),le=(0,l.amountToUiAmount)(ue,te.data.decimals).toNumber(),de=(0,h.getSwapExecutionDuration)(J),pe=(0,y.formatSecondsAsSwapTime)(de,Y),[fe]=(0,d.useState)(pe),[me]=(0,d.useState)((0,k.isBridgeSwap)(te.data.chain.id,ee.data.chain.id)),ge=(0,I.useProvider)((0,b.getSwapQuoteSources)(J)),ve=(0,x.useFees)({transactionHooks:D,priceHooks:n,accountHooks:O}),ye=(0,T.useAnalyticsPayload)({buyToken:ee,sellToken:te,buyAmount:null!==(W=null==J?void 0:J.buyAmount.toString())&&void 0!==W?W:"",sellAmount:null!==(G=null==J?void 0:J.sellAmount.toString())&&void 0!==G?G:"",phantomFeeUiAmount:ve.phantomFee.uiAmount,priceImpact:(0,S.getSwapPriceImpact)(J),provider:ge,buyAssetUsdValue:ne,sellAssetUsdValue:oe}),he=null!==($=null==te?void 0:te.data.chain.id)&&void 0!==$?$:r.NetworkIDs.Solana.Mainnet,{data:Se}=O.useSelectedMultiChainAccount(),be=(0,d.useMemo)((()=>{var e;return null!==(e=null==Se?void 0:Se.addresses)&&void 0!==e?e:[]}),[Se]),ke=(0,d.useMemo)((()=>{var e,t;return null!==(t=null===(e=be.find((e=>e.networkID===(null==te?void 0:te.data.chain.id))))||void 0===e?void 0:e.address)&&void 0!==t?t:""}),[be,te]),we=(0,d.useMemo)((()=>r.Chains.getAddressType(he)),[he]),{data:Ae}=(0,g.useSwapTransactions)({transactionHooks:D,callerAddress:ke,priorityFeeService:_,quote:J,sellFungible:te}),Te=(null==Ae?void 0:Ae.transactions.length)||0,[Ce,xe]=(0,d.useState)(),Ee=(0,d.useMemo)((()=>{var e;return null!==(e=null==Ce?void 0:Ce.id)&&void 0!==e?e:""}),[Ce]),{data:Ie}=i.usePreferredExplorers(),Pe=(0,d.useMemo)((()=>{if(!Ee)return;const e=null==Ie?void 0:Ie.explorers[he];return(0,u.generateExplorerUrl)({networkID:he,endpoint:"transaction",explorerType:e,param:Ee})}),[Ee,he,Ie]),[Fe,Ne]=(0,d.useState)("loading"),De="success"===Fe,Oe="error"===Fe,Me=!!Ce,[Le,Re]=(0,d.useState)(),{notEnoughSol:Be,txErrorTitle:Ue,txErrorMessage:_e,txErrorHelpButtonLink:ze}=(0,F.useSwapErrorDetails)(me,Le),Ve=(0,d.useCallback)((e=>{L.capture("swapperSwapSuccess",ye);const t=(0,o.chainFromNetworkID)(e.networkID);c.telemetry.addBreadcrumb(c.FeatureTag.Swapper,"transactionStatus",c.Severity.Info,Object.assign(Object.assign({},t),{txReceipt:e.id})),t.chainType!==s.AddressType.EVM&&t.chainType!==s.AddressType.Solana||R.then((n=>n.transactionStatus(e.id,Object.assign(Object.assign({},t),{status:{type:"confirmed"}}))))}),[L,ye,R]),je=(0,d.useCallback)((e=>N(this,void 0,void 0,(function*(){Ve(e),ie(),(0,A.updateSellFungibleAmount)({sellAmount:ue,sellFungible:te,setSellFungible:re}),t.invalidateTokens(be)}))),[Ve,ie,ue,te,re,t,be]),Qe=(0,d.useCallback)((()=>{const e=(null==Ce?void 0:Ce.networkID)?(0,o.chainFromNetworkID)(Ce.networkID):null;(null==e?void 0:e.chainType)!==s.AddressType.EVM&&(null==e?void 0:e.chainType)!==s.AddressType.Solana||!(null==Ce?void 0:Ce.id)||(c.telemetry.addBreadcrumb(c.FeatureTag.Swapper,"transactionStatus",c.Severity.Error,Object.assign(Object.assign({},e),{txReceipt:Ce.id})),R.then((t=>t.transactionStatus(Ce.id,Object.assign(Object.assign({},e),{status:{type:"error"}})))))}),[R,Ce]),{isSuccess:qe,isError:He,error:Ke}=D.useWaitForTransactionConfirmation(je,Oe?void 0:Ce);(0,d.useEffect)((()=>{qe?Ne("success"):He&&(Ne("error"),Re((0,w.parseSwapError)(Ke)),Qe())}),[qe,He,R,Ke,Ce,Qe]);const We=(0,d.useCallback)((e=>{Ne("error"),Re(e),U&&e.message!==f.SwapperErrorCodes.NotValidScanResultsError&&e.message!==f.SwapperErrorCodes.SlippageExceeded&&U(e),L.capture("swapperSwapFailure",{data:Object.assign(Object.assign({},ye.data),{error:e.message})})}),[L,ye.data,U]),{clearQuotes:Ge}=(0,m.useSwapClearQuotes)(),$e=(0,d.useCallback)((()=>{ae(!0),Ge(),j()}),[j,ae,Ge]),Ye=(0,d.useCallback)((()=>{ae(!0),Q()}),[Q,ae]),Xe=(0,d.useCallback)((()=>{ie(),q()}),[q,ie]),{executeSwap:Ze,isReadyToExecute:Je}=(0,C.useExecuteSwap)({addressType:we,analytics:L,accountHooks:O,simulationHooks:M,accountSigner:e,asyncSwapAnalytics:R,fungibleHooks:t,isSwapSimulationDisabled:z,onTransactionSubmissionError:We,onTransactionReceiptReceived:e=>{xe(e)},priorityFeeService:_,resetToInitialState:()=>{Ne("loading"),Re(void 0),xe(void 0)},sender:ke,storage:V,transactionHooks:D});return{sellAsset:{amount:le,symbol:te.data.symbol,networkID:te.data.chain.id},buyAsset:{amount:ce,symbol:ee.data.symbol,networkID:ee.data.chain.id},estimatedTime:fe,isBridge:me,isSuccess:De,isFailure:Oe,isLedger:B,isClosable:Me,notEnoughSol:Be,txError:Le,txErrorTitle:Ue,txErrorMessage:_e,txLink:null!=Pe?Pe:"",txErrorHelpButtonLink:ze,executeSwap:Ze,resetSwapper:ie,numberOfTransactions:Te,isReadyToExecute:Je,addressType:we,onClose:$e,onRetry:Ye,onSwapSuccess:Xe}}})),i.register("gndyZ",(function(t,n){e(t.exports,"SwapperErrorCodes",(function(){return o})),e(t.exports,"SwapperError",(function(){return i}));new Error("Missing sender address for swapping fungibles."),new Error("Missing signature from swapping fungibles."),new Error("Missing transactions for swapping fungibles.");var o,r;(r=o||(o={})).AccountFrozen="AccountFrozen",r.NoCurrentQuoteError="Trying to execute swap with no current quote",r.NoMultichainQuoteResponseError="Trying to execute swap with no multichain quote response",r.NoGasEstimation="No gas estimation available",r.NoSwapTransactions="No swap transactions available",r.InsufficientFunds="INSUFFICIENT_FUNDS",r.InsufficientGas="INSUFFICIENT_GAS",r.SlippageExceeded="slippageToleranceExceeded",r.SimulationToleranceExceeded="exceedsSimulationTolerance",r.NotValidScanResultsError="Scan results are not valid",r.NotEnoughSol="NotEnoughSol",r.TransactionConfirmationFailed="Transaction confirmation failed",r.UnknownError="UnknownError",r.EmptyRoute="EmptyRoute",r.InvalidCalculation="InvalidCalculation",r.MissingPlatformFeeAccount="MissingPlatformFeeAccount",r.InvalidSlippage="InvalidSlippage",r.NotEnoughPercent="NotEnoughPercent",r.InvalidInputIndex="InvalidInputIndex",r.InvalidOutputIndex="InvalidOutputIndex",r.NotEnoughAccountKeys="NotEnoughAccountKeys",r.NonZeroMinimumOutAmountNotSupported="NonZeroMinimumOutAmountNotSupported",r.InvalidRoutePlan="InvalidRoutePlan",r.InvalidReferralAuthority="InvalidReferralAuthority",r.LedgerTokenAccountDoesNotMatch="LedgerTokenAccountDoesNotMatch",r.InvalidTokenLedger="InvalidTokenLedger",r.IncorrectTokenProgramID="IncorrectTokenProgramID",r.TokenProgramNotProvided="TokenProgramNotProvided",r.SwapNotSupported="SwapNotSupported",r.ExactOutAmountNotMatched="ExactOutAmountNotMatched",r.SourceAndDstinationMintCannotBeTheSame="SourceAndDstinationMintCannotBeTheSame";class i extends Error{constructor(e){super(e)}}})),i.register("huZwj",(function(t,n){e(t.exports,"parseSwapError",(function(){return m}));var o=i("7gANb"),r=i("gndyZ");const a=r.SwapperErrorCodes.SlippageExceeded,s=r.SwapperErrorCodes.InsufficientFunds,u=o.ERROR_SOLANA_NO_FUNDS_FEE,c="insufficient lamports",l="lower balance than rent-exempt minimum",d=o.ERROR_SOLANA_NO_SOL_TOKENS,p="Transaction confirmation failed";function f(e){switch(function(e){try{return Number(e.split('"Custom":')[1].split("}")[0])}catch(e){return null}}(e.message)){case 301:case 6001:return r.SwapperErrorCodes.SlippageExceeded;case 6e3:return r.SwapperErrorCodes.EmptyRoute;case 6002:return r.SwapperErrorCodes.InvalidCalculation;case 6003:return r.SwapperErrorCodes.MissingPlatformFeeAccount;case 6004:return r.SwapperErrorCodes.InvalidSlippage;case 6005:return r.SwapperErrorCodes.NotEnoughPercent;case 6006:return r.SwapperErrorCodes.InvalidInputIndex;case 6007:return r.SwapperErrorCodes.InvalidOutputIndex;case 6008:return r.SwapperErrorCodes.NotEnoughAccountKeys;case 6009:return r.SwapperErrorCodes.NonZeroMinimumOutAmountNotSupported;case 6010:return r.SwapperErrorCodes.InvalidRoutePlan;case 6011:return r.SwapperErrorCodes.InvalidReferralAuthority;case 6012:return r.SwapperErrorCodes.LedgerTokenAccountDoesNotMatch;case 6013:return r.SwapperErrorCodes.InvalidTokenLedger;case 6014:return r.SwapperErrorCodes.IncorrectTokenProgramID;case 6015:return r.SwapperErrorCodes.TokenProgramNotProvided;case 6016:return r.SwapperErrorCodes.SwapNotSupported;case 6017:return r.SwapperErrorCodes.ExactOutAmountNotMatched;case 6018:return r.SwapperErrorCodes.SourceAndDstinationMintCannotBeTheSame;default:return null}}function m(e){if(void 0===e)return new(0,r.SwapperError)(r.SwapperErrorCodes.UnknownError);if(e instanceof r.SwapperError)return e;const t=function(e){var t;return"string"==typeof e?new Error(e):"object"==typeof e&&"logs"in e&&(null===(t=e.logs)||void 0===t?void 0:t.length)?new Error(e.logs.join("\n")):e}(e);if(t.message.includes(s))return new(0,r.SwapperError)(r.SwapperErrorCodes.InsufficientFunds);if(t.message.includes(a))return new(0,r.SwapperError)(r.SwapperErrorCodes.SlippageExceeded);if(t.message===r.SwapperErrorCodes.NotValidScanResultsError)return new(0,r.SwapperError)(r.SwapperErrorCodes.NotValidScanResultsError);if([u,c,d,l].some((e=>t.message.includes(e))))return new(0,r.SwapperError)(r.SwapperErrorCodes.NotEnoughSol);const n=f(t);if(null!==n)return new(0,r.SwapperError)(n);return t.message.includes(p)?new(0,r.SwapperError)(r.SwapperErrorCodes.TransactionConfirmationFailed):new(0,r.SwapperError)(r.SwapperErrorCodes.UnknownError)}})),i.register("8A1G6",(function(t,n){function o({sellAmount:e,sellFungible:t,setSellFungible:n}){if(t&&e){const o=Object.assign({},t);o.data.amount=String(Number(t.data.amount)-Number(e)),n(o)}}e(t.exports,"updateSellFungibleAmount",(function(){return o}))})),i.register("lgcfo",(function(t,n){e(t.exports,"useAnalyticsPayload",(function(){return a}));var o=i("29o0l"),r=i("1vR3U");function a({buyAssetUsdValue:e,buyToken:t,sellAssetUsdValue:n,sellToken:i,buyAmount:a,sellAmount:s,phantomFeeUiAmount:u,priceImpact:c,provider:l}){return(0,o.useMemo)((()=>{const o=(0,r.legacyAnalyticsPayload)({buyAssetUsdValue:e,buyToken:t,sellAssetUsdValue:n,sellToken:i,buyAmount:a,sellAmount:s,phantomFeeUiAmount:u,priceImpact:c,provider:l});return o?{data:o}:{}}),[e,n,a,t,u,c,l,s,i])}})),i.register("iI3xI",(function(t,n){e(t.exports,"useExecuteSwap",(function(){return S}),(function(e){return S=e}));var o=i("h0VH5"),r=i("iOvk1"),a=i("7mQ3Y"),s=i("csW2r"),u=i("29o0l"),c=i("gndyZ"),l=i("l7Y64"),d=i("a6NKv"),p=i("iTQ0V"),f=i("huZwj"),m=i("fx1OB"),g=i("1SPSD"),v=i("iX5lP"),y=i("1obA0"),h=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};function S({addressType:e,accountHooks:t,simulationHooks:n,accountSigner:i,asyncSwapAnalytics:S,fungibleHooks:b,isSwapSimulationDisabled:k,priorityFeeService:w,onTransactionReceiptReceived:A,onTransactionSubmissionError:T,resetToInitialState:C,sender:x,storage:E,transactionHooks:I}){var P,F,N;const{connection:D}=I.useSelectedSolanaConnection(),{data:O}=t.useSelectedMultiChainAccount(),{currentQuote:M,multichainQuoteResponse:L}=(0,v.useQuote)(),R=(0,m.useInitialSellFungible)({accountHooks:t}),B=(0,p.useSwapperStore)((e=>e.maxGasEstimation)),U=null!==(P=(0,p.useSwapperStore)((e=>e.sellFungible)))&&void 0!==P?P:R,_=null!==(F=null==U?void 0:U.data.chain.id)&&void 0!==F?F:r.NetworkIDs.Solana.Mainnet,{data:z,isSuccess:V}=(0,d.useSwapTransactions)({transactionHooks:I,callerAddress:x,priorityFeeService:w,quote:M,sellFungible:U}),j=(0,y.useSwapScanTransaction)({accountHooks:t,simulationHooks:n,swapTransactions:z}),{pendingActivityRows:Q}=(0,g.usePendingActivity)({accountHooks:t,fungibleHooks:b,priorityFeeService:w,sender:x,transactionHooks:I}),{mutateAsync:q}=(0,l.useMultichainSwapFungibles)({accountSigner:i,storage:E,accountIdentifier:null!==(N=null==O?void 0:O.identifier)&&void 0!==N?N:"",networkID:_}),[H,K]=(0,u.useState)(!1),W=(0,u.useCallback)((e=>{const t=(0,o.chainFromNetworkID)(_);s.telemetry.addBreadcrumb(s.FeatureTag.Swapper,"submittedTransaction",s.Severity.Info,Object.assign(Object.assign({},t),{txReceipt:e.id,method:t.chainType===a.AddressType.Solana?"signAndSendTransaction":t.chainType===a.AddressType.EVM?"eth_sendRawTransaction":"UNKNOWN"})),t.chainType===a.AddressType.Solana?S.then((n=>n.submittedTransaction(e.id,Object.assign(Object.assign({},t),{method:"signAndSendTransaction"})))):t.chainType===a.AddressType.EVM&&S.then((n=>n.submittedTransaction(e.id,Object.assign(Object.assign({},t),{method:"eth_sendRawTransaction"}))))}),[S,_]),G=H||(!j.isLoading||k)&&V;return{executeSwap:(0,u.useCallback)((()=>h(this,void 0,void 0,(function*(){K(!0),C();try{if(!M)throw new(0,c.SwapperError)(c.SwapperErrorCodes.NoCurrentQuoteError);if(!L)throw new(0,c.SwapperError)(c.SwapperErrorCodes.NoMultichainQuoteResponseError);if(!B||0===(null==B?void 0:B.length))throw new(0,c.SwapperError)(c.SwapperErrorCodes.NoGasEstimation);if(!z)throw new(0,c.SwapperError)(c.SwapperErrorCodes.NoSwapTransactions);if(j.state===c.SwapperErrorCodes.InsufficientFunds||j.state===c.SwapperErrorCodes.InsufficientGas||j.state===c.SwapperErrorCodes.SlippageExceeded||j.state===c.SwapperErrorCodes.AccountFrozen)throw new(0,c.SwapperError)(j.state);if("valid"!==j.state)throw new(0,c.SwapperError)(c.SwapperErrorCodes.NotValidScanResultsError);const t=yield q({type:e,callerAddress:x,swapTransactions:z,pendingSwapActivityRows:Q.pendingSwapActivityRows,pendingApprovalActivityRows:Q.pendingApprovalActivityRows,gasEstimation:B,connection:D});if(W(t),A(t),t.error)throw t.error}catch(e){const t=(0,f.parseSwapError)(e);T(t)}}))),[e,D,M,L,B,W,q,T,A,Q.pendingSwapActivityRows,Q.pendingApprovalActivityRows,C,j.state,x,z]),isReadyToExecute:G}}})),i.register("1SPSD",(function(t,n){e(t.exports,"usePendingActivity",(function(){return g}));var o=i("43063"),r=i("RVqnc"),a=i("29o0l"),s=i("2UOPE"),u=i("a6NKv"),c=i("iTQ0V"),l=i("aOjWH"),d=i("zHB5r"),p=i("fx1OB"),f=i("UWzy4"),m=i("iX5lP");function g({accountHooks:e,fungibleHooks:t,priorityFeeService:n,sender:i,transactionHooks:g}){var v,y,h,S;const{t:b}=(0,o.useTranslation)(),{currentQuote:k}=(0,m.useQuote)(),w=(0,p.useInitialSellFungible)({accountHooks:e}),A=s.CHAIN_TO_USDC_FUNGIBLE.get(w.data.chain.id),T=null!==(v=(0,c.useSwapperStore)((e=>e.buyFungible)))&&void 0!==v?v:A,C=null!==(y=(0,c.useSwapperStore)((e=>e.sellFungible)))&&void 0!==y?y:w,x=(0,f.useProvider)((0,d.getSwapQuoteSources)(k)),{data:E}=(0,u.useSwapTransactions)({transactionHooks:g,callerAddress:i,priorityFeeService:n,quote:k,sellFungible:C}),I=(e,t)=>t.find((t=>t.data.tokenAddress===(0,l.getFungibleKey)(e))),P=({sellFungible:e,buyFungible:t,sellAmount:n,buyAmount:o,provider:i,isBridge:a,t:s})=>{var u,c;const l=e.data.symbol,d=t.data.symbol,p=(0,r.amountToUiAmount)(null!=n?n:0,null!==(u=e.data.decimals)&&void 0!==u?u:0),f=(0,r.amountToUiAmount)(null!=o?o:0,null!==(c=t.data.decimals)&&void 0!==c?c:0);return{topLeft:{label:`${s(a?"transactionsPendingBridging":"transactionsPendingSwapping")} on ${i}`},topRight:{label:`${f} ${d}`,color:"#21E56F"},bottomLeft:{label:`${l} ${String.fromCharCode(8594)} ${d}`},bottomRight:{label:`${p} ${l}`}}},F=null!==(S=null===(h=null==E?void 0:E.transactionPairs)||void 0===h?void 0:h.flatMap((e=>[(0,l.getFungibleKey)(e.sellToken),(0,l.getFungibleKey)(e.buyToken)])))&&void 0!==S?S:[],N=[...new Set(F)],{fungibles:D}=t.useGetFungibleBalances({keys:N}),O=(0,a.useMemo)((()=>{const e={pendingSwapActivityRows:[],pendingApprovalActivityRows:[]};return E?"evm"===E.type?E.transactionTypes.reduce(((e,t,n)=>{var o,r;let i,a=C,s=T;const u=E.transactionPairs;if(u&&u[n]){const e=u[n];a=null!==(o=I(e.sellToken,D))&&void 0!==o?o:C,s=null!==(r=I(e.buyToken,D))&&void 0!==r?r:T,i=e.approvalMetadata}if(t.includes("approval")){const t=a.data.symbol;e.pendingApprovalActivityRows.push({topLeft:i?{label:`${b("transactionsPendingApproving")} ${i.symbol}`}:{label:`${b("transactionsPendingApproving")} ${t}`}})}else e.pendingSwapActivityRows.push(P({sellFungible:a,buyFungible:s,sellAmount:null==k?void 0:k.sellAmount,buyAmount:null==k?void 0:k.buyAmount,provider:x,isBridge:t.includes("bridge"),t:b}));return e}),e):E.transactionTypes.reduce(((e,t,n)=>{var o,r;let i=C,a=T;const s=E.transactionPairs;if(s&&s[n]){const e=s[n];i=null!==(o=I(e.sellToken,D))&&void 0!==o?o:C,a=null!==(r=I(e.buyToken,D))&&void 0!==r?r:T}return e.pendingSwapActivityRows.push(P({sellFungible:i,buyFungible:a,sellAmount:null==k?void 0:k.sellAmount,buyAmount:null==k?void 0:k.buyAmount,provider:x,isBridge:t.includes("bridge"),t:b})),e}),e):e}),[E,C,T,D,b,null==k?void 0:k.sellAmount,null==k?void 0:k.buyAmount,x]);return{pendingActivityRows:O}}})),i.register("aOjWH",(function(t,n){e(t.exports,"getFungibleKey",(function(){return r}));var o=i("iOvk1");const r=e=>e.resourceType===o.Caip19ResourceType.address?o.Chains.isEVMNetworkID(e.chainId)?e.address.toLowerCase():e.address:e.slip44})),i.register("1obA0",(function(t,n){e(t.exports,"useSwapScanTransaction",(function(){return l}));var o=i("iOvk1"),r=i("29o0l"),a=i("iTQ0V"),s=i("aLpTp"),u=i("fx1OB"),c=i("iX5lP");const l=({accountHooks:e,simulationHooks:t,swapTransactions:n})=>{var i,l,d;const p=(0,u.useInitialSellFungible)({accountHooks:e}),f=null!==(i=(0,a.useSwapperStore)((e=>e.sellFungible)))&&void 0!==i?i:p,m=null!==(l=null==f?void 0:f.data.chain.id)&&void 0!==l?l:o.NetworkIDs.Solana.Mainnet,{data:g}=e.useSelectedChainAddress({address:f.data.walletAddress,networkID:f.data.chain.id}),v=null!==(d=null==g?void 0:g.address)&&void 0!==d?d:"",{currentQuote:y,multichainQuoteResponse:h}=(0,c.useQuote)(),S={type:"transaction",userAccount:v,params:void 0,url:"https://phantom.app",networkID:m};"evm"===(null==n?void 0:n.type)&&o.Chains.isEVMNetworkID(m)&&(S.params={transactions:n.transactions}),"solana"===(null==n?void 0:n.type)&&o.Chains.isSolanaNetworkID(m)&&(S.params={transactions:n.transactions,method:"signAndSendTransaction"});const b=t.useScannedTransaction(S,{disableRefetch:!0});return(0,r.useMemo)((()=>{if(b.isLoading)return{isLoading:!0,state:"loading"};const e=(0,s.validateScanResult)({networkID:m,scanResult:b.data,scanResultError:b.isError,quote:y,sellToken:null==h?void 0:h.sellToken,buyToken:null==h?void 0:h.buyToken,simulationTolerance:null==h?void 0:h.simulationTolerance});return{isLoading:b.isLoading,state:e}}),[b,y,h,m])}})),i.register("aLpTp",(function(n,o){e(n.exports,"validateScanResult",(function(){return m}));var r=i("iOvk1"),a=i("Dohsj"),s=i("csW2r"),u=i("kAKNF"),c=i("gndyZ"),l=i("6FeQw"),d=i("dNQbj");const p="swap-validation",f=e=>{var t;if(e.resourceType===r.Caip19ResourceType.nativeToken){if(["60","966"].includes(e.slip44))return"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee"}else if(e.resourceType===r.Caip19ResourceType.address)return null!==(t=e.address)&&void 0!==t?t:"";return""},m=({networkID:e,scanResult:t,scanResultError:n,quote:o,sellToken:i,buyToken:u,simulationTolerance:l=.01})=>{if(n)return"valid";if(!(o&&i&&u&&l))return s.telemetry.addBreadcrumb(p,`Missing necessary args: ${JSON.stringify({quote:!!o,scanResult:!!t,sellToken:i,buyToken:u,simulationTolerance:l})}`,s.Severity.Info),"missingArgument";if((null==t?void 0:t.error)===a.SIMULATION_ERRORS.SIMULATION_FAILED)return"valid";if(null==t?void 0:t.error){if(s.telemetry.addBreadcrumb(p,`Simulation error: ${JSON.stringify({error:t.error})}`,s.Severity.Info),t.error===a.SIMULATION_ERRORS.SLIPPAGE_EXCEEDED)return c.SwapperErrorCodes.SlippageExceeded;if(t.error===a.SIMULATION_ERRORS.INSUFFICIENT_FUNDS)return c.SwapperErrorCodes.InsufficientFunds;if(t.error===a.SIMULATION_ERRORS.INSUFFICIENT_GAS)return c.SwapperErrorCodes.InsufficientGas;if(t.error===a.SIMULATION_ERRORS.ACCOUNT_FROZEN)return c.SwapperErrorCodes.AccountFrozen;if(t.error===a.SIMULATION_ERRORS.UNKNOWN_ERROR)return c.SwapperErrorCodes.UnknownError}if(r.Chains.isSolanaNetworkID(e))return"valid";if(!t)return s.telemetry.addBreadcrumb(p,`Missing necessary args: ${JSON.stringify({quote:!!o,scanResult:!1,sellToken:i,buyToken:u,simulationTolerance:l})}`,s.Severity.Info),"missingArgument";const{isSimulationToleranceExceeded:d,buyDiff:f,sellDiff:m}=g(null==t?void 0:t.advancedDetails,u,i,o,l);return d&&s.telemetry.addBreadcrumb(p,`Diff is larger than simulationTolerance: ${JSON.stringify({sellToken:i,buyToken:u,buyDiff:f.toString(),sellDiff:m.toString(),simulationTolerance:l})}`,s.Severity.Info),d?c.SwapperErrorCodes.SimulationToleranceExceeded:"valid"},g=(e,n,o,i,a=.01)=>{var s,c,p,m;const g=e.tokenChange||[],v=new(t(u))(null!==(c=null===(s=g.find((e=>e.address===f(n))))||void 0===s?void 0:s.value)&&void 0!==c?c:"0"),y=new(t(u))(null!==(m=null===(p=g.find((e=>e.address===f(o))))||void 0===p?void 0:p.value)&&void 0!==m?m:"0").abs(),h=o.resourceType===r.Caip19ResourceType.nativeToken,S=new(t(u))(i.buyAmount),b=new(t(u))(i.sellAmount),k=v.minus(S).dividedBy(S).absoluteValue();let w=y.minus(b);if(h&&(0,d.isBridgeQuote)(i)){const e=(0,l.getBridgeStepsFees)(i);w=w.minus(e)}w=w.dividedBy(b).absoluteValue();return{isSimulationToleranceExceeded:!(((0,d.isBridgeQuote)(i)||k.lt(a))&&w.lt(a)),buyDiff:k,sellDiff:w}}})),i.register("k7AnB",(function(t,n){e(t.exports,"useSwapErrorDetails",(function(){return u}));var o=i("43063"),r=i("29o0l"),a=i("2UOPE"),s=i("gndyZ");function u(e,t){return(0,r.useMemo)((()=>{if(t){const n=c(e),o=l(e,t),r=d(e,t);return{notEnoughSol:t.message===s.SwapperErrorCodes.NotEnoughSol,txErrorTitle:n,txErrorMessage:o,txErrorHelpButtonLink:r}}return{notEnoughSol:!1,txErrorTitle:"",txErrorMessage:"",txErrorHelpButtonLink:""}}),[t,e])}const c=e=>e?o.i18next.t("swapTxBridgeFailed"):o.i18next.t("swapTxConfirmationSwapFailed"),l=(e,t)=>{if(e)return t.message===s.SwapperErrorCodes.SlippageExceeded?o.i18next.t("swapTxConfirmationSwapFailedSlippageLimit"):o.i18next.t("swapTxBridgeFailedDescription");switch(t.message){case s.SwapperErrorCodes.InsufficientFunds:return o.i18next.t("swapTxConfirmationSwapFailedInsufficientBalance");case s.SwapperErrorCodes.SlippageExceeded:return o.i18next.t("swapTxConfirmationSwapFailedSlippageLimit");case s.SwapperErrorCodes.EmptyRoute:return o.i18next.t("swapTxConfirmationSwapFailedEmptyRoute");case s.SwapperErrorCodes.AccountFrozen:return o.i18next.t("swapTxConfirmationSwapFailedAcountFrozen");default:return o.i18next.t("swapTxConfirmationSwapFailedTryAgain")}},d=(e,t)=>e?a.PHANTOM_SUPPORT_SWAP_FAILED_URL:t.message===s.SwapperErrorCodes.AccountFrozen?a.PHANTOM_SUPPORT_FROZEN_TOKENS_URL:a.PHANTOM_SUPPORT_SWAP_FAILED_URL})),i.register("lCzzn",(function(n,o){e(n.exports,"useSwapProvidersProps",(function(){return v}));var r=i("iOvk1"),a=i("5slFC"),s=i("43063"),u=i("kAKNF"),c=i("29o0l"),l=i("iTQ0V"),d=i("1HuLi"),p=i("784a8"),f=i("iX5lP"),m=i("2Zpaf");const g=(e,t)=>{let n="";return e.resourceType===r.Caip19ResourceType.nativeToken?n=(0,a.networkIdToNativeTokenFungibleKey)(e.chainId):e.address&&(n=e.address),t.find((e=>e.data.key.toLowerCase()===n.toLowerCase()))};function v({enableNativeBridgePairs:e,accountHooks:n,fungibleHooks:o,transactionHooks:i,priceHooks:a,getApiEnvironment:v,analytics:y}){const{t:h}=(0,s.useTranslation)(),{bestBuyAmount:S,multichainQuoteResponse:b,isFetchingQuote:k,quotes:w,selectedProviderIndex:A}=(0,f.useQuote)(),T=(0,l.useSwapperStore)((e=>e.setSelectedProviderIndex)),C=(0,l.useSwapperStore)((e=>e.maxGasEstimation)),x=(0,l.useSwapperStore)((e=>e.sellFungible)),{assets:E,isFetching:I}=(0,m.useSwapBuyAssetList)({enableNativeBridgePairs:e,fungibleHooks:o,accountHooks:n,getApiEnvironment:v}),P=null==x?void 0:x.data.chain.id,{data:F}=i.useGasEstimationPrice(P,(0,p.aggregateGasEstimation)(C)),N=(0,r.getNativeFungibleCaip19ForChain)(r.Chain.Solana),D=(0,r.getNativeFungibleCaip19ForChain)(r.Chain.Ethereum),O=(0,r.getNativeFungibleCaip19ForChain)(r.Chain.Polygon),{data:M={}}=a.usePrices({query:{data:[N,D,O]}}),L="xchain"===(null==b?void 0:b.type),R=(0,c.useMemo)((()=>{var e;if(!b||0===E.length)return[];const{buyToken:n}=b,o=g(n,E);return o?L?(0,d.parseBridgeProviders)({quotes:w,buyTokenDecimals:o.data.decimals,buyTokenSymbol:o.data.symbol,networkIDForFees:P,networkFee:null!==(e=null==F?void 0:F.gasEstimationAmount)&&void 0!==e?e:new(t(u))(0),priceMap:M,t:h}):(0,d.parseSwapProviders)({quotes:w,bestBuyAmount:S,buyTokenDecimals:o.data.decimals,buyTokenSymbol:o.data.symbol,bestPriceLabel:h("swapFeesBestPrice")}):[]}),[b,E,w,S,h,P,F,M,L]),B=(0,c.useCallback)((e=>{const t=R[e];y.capture("swapperProviderSelected",{data:{provider:t.name}}),T(e)}),[T,R,y]);return{rows:R,selectedProviderIndex:A,isLoadingProviders:k||I||!1,setSelectedProviderIndex:B}}})),i.register("1HuLi",(function(n,o){e(n.exports,"parseSwapProviders",(function(){return y})),e(n.exports,"parseBridgeProviders",(function(){return h}));var r=i("RVqnc"),a=i("kAKNF"),s=i("azr2P"),u=i("eanp9"),c=i("6FeQw"),l=i("ghVs8"),d=i("dbFer"),p=i("eH8pa"),f=i("dNQbj");const m="FASTEST",g=["RECOMMENDED",m],v=e=>{if((0,f.isBridgeQuote)(e))return(0,p.parseSwapSources)((0,l.getBridgeTools)(e));const{sources:t}=e;return(0,p.parseSwapSources)(t)},y=({quotes:e,bestBuyAmount:n,buyTokenDecimals:o,buyTokenSymbol:r,bestPriceLabel:i})=>e.map((e=>{const{buyAmount:s}=e,u=new(t(a))(s),c=new(t(a))(u).minus(n),l=(0,d.amountToFormattedAmountGreaterThan1)(c,o);return{name:v(e),fee:c.isNaN()?"-":c.isZero()?i:`${l} ${r}`}})),h=({quotes:e,buyTokenDecimals:t,buyTokenSymbol:n,networkIDForFees:o,networkFee:i,priceMap:a,t:l})=>e.filter(f.isBridgeQuote).map((e=>{var p;const{buyAmount:f,executionDuration:y,steps:h,tags:S}=e,b=(0,c.getBridgeStepsFees)(e).plus(i),k=S.filter((e=>g.includes(e))).map((e=>({key:e,text:l(`swapProvidersTag${(0,r.capitalizeFirstLetter)(e)}`)}))),w=S.includes(m),A=h.find((e=>!!e.tool.logoURI));return{name:v(e),fee:o&&a?l("swapProvidersFee",{fee:(0,s.formatFee)(o,b,a)}):"",amount:`${(0,d.amountToFormattedAmountGreaterThan1)(f,t)} ${n}`,time:{text:(0,u.formatSecondsAsSwapTime)(y,l),isFast:w||y<=300},tags:k,logoURI:null!==(p=null==A?void 0:A.tool.logoURI)&&void 0!==p?p:""}}))})),i.register("9PpHT",(function(n,o){e(n.exports,"useSwapReviewButtonProps",(function(){return m}));var r=i("5slFC"),a=i("RVqnc"),s=i("kAKNF"),u=i("29o0l"),c=i("iTQ0V"),l=i("9XJOV"),d=i("adhE7"),p=i("jd96V"),f=i("iX5lP");function m({accountHooks:e,fungibleHooks:n,transactionHooks:o,priceHooks:i}){var m;const{currentQuote:g,isFetchingQuote:v}=(0,f.useQuote)(),y=(0,c.useSwapperStore)((e=>e.hasNoRoutes)),h=(0,c.useSwapperStore)((e=>e.sellFungible)),S=(0,c.useSwapperStore)((e=>e.sellAmount)),b=null==h?void 0:h.data.chain.id,k=(0,c.useSwapperStore)((e=>e.gasEstimation)),w=(0,c.useSwapperStore)((e=>e.maxGasEstimation)),A=(0,c.useSwapperStore)((e=>e.buyFungible)),T=null==A?void 0:A.data.chain.id,{fungible:C}=n.useGetFungibleBalance({key:b?(0,r.networkIdToNativeTokenFungibleKey)(b):void 0}),{fungible:x}=n.useGetFungibleBalance({key:T?(0,r.networkIdToNativeTokenFungibleKey)(T):void 0}),E=new(t(s))(null!==(m=null==x?void 0:x.data.amount)&&void 0!==m?m:0),I=(0,d.isBridgeSwap)(b,T),P=I&&E.isZero(),{totalFees:F}=(0,p.useFees)({transactionHooks:o,priceHooks:i,accountHooks:e}),{data:N}=o.useTransactionSpeedsToUnitCost({networkID:b}),D=(0,u.useMemo)((()=>h?(0,l.getMaxSellAmount)({sellFungible:h,totalFees:F.amount,transactionSpeedsToUnitCost:N,isBridge:I}):"0"),[h,F,N,I]),O=!!(null==h?void 0:h.type)&&(0,r.isNativeFungibleTokenType)(null==h?void 0:h.type),M=null==h?void 0:h.data.decimals,L=null==h?void 0:h.data.chain.id,{data:R}=e.useSelectedChainAddress({address:null==h?void 0:h.data.walletAddress,networkID:null==h?void 0:h.data.chain.id}),{data:B=0}=(0,r.useMinimumRequiredBalance)(R),U=(0,u.useMemo)((()=>{var e;const n=null!==(e=F.maxAmount)&&void 0!==e?e:F.amount;if(O){const e=new(t(s))((0,a.uiAmountToAmount)(S,null!=M?M:0));return n.plus(e)}return n.plus(I?0:B)}),[O,S,M,F.amount,F.maxAmount,I,B]),_=C?(0,a.amountToFormattedAmount)(C.data.amount,C.data.decimals):"-",z=C?(0,a.amountToFormattedAmount)(U,C.data.decimals):"-",V=(0,u.useMemo)((()=>{var e;return new(t(s))(null!==(e=null==C?void 0:C.data.amount)&&void 0!==e?e:0).lt(U)}),[null==C?void 0:C.data.amount,U]),j=new(t(s))(S).isLessThanOrEqualTo(new(t(s))(D));return{canSwap:!!h&&!!g&&j&&!y&&!!((null!=k?k:[]).length>0&&(null!=w?w:[]).length>0)&&!v,hasEnoughAssets:j,hasNoRoutes:y,hasNoFundsForFees:V,hasLowDestinationNetworkBalance:P,sourceNativeToken:{networkId:L,balance:_,required:z}}}})),i.register("iTLyO",(function(n,o){e(n.exports,"useSwapReviewProps",(function(){return y}));var r=i("iOvk1"),a=i("5slFC"),s=i("RVqnc"),u=i("kAKNF"),c=i("29o0l"),l=i("iTQ0V"),d=i("4qSWN"),p=i("csOwI"),f=i("dbFer"),m=i("fx1OB"),g=i("iX5lP");const v={network:{id:r.Chains.solana.mainnetID,name:r.Chains.solana.name,symbol:r.Chains.solana.tokenSymbol,imageUrl:r.Chains.solana.iconUrl},tokenType:a.FungibleTokenType.SolanaNative,symbol:"",logoUri:"",tokenAddress:"",amount:"",amountUsd:""};function y({priceHooks:e,accountHooks:n}){var o;const r=(0,l.useSwapperStore)((e=>e.buyFungible)),i=(0,m.useInitialSellFungible)({accountHooks:n}),y=null!==(o=(0,l.useSwapperStore)((e=>e.sellFungible)))&&void 0!==o?o:i,h=(0,l.useSwapperStore)((e=>e.sellAmount)),S=(0,l.useSwapperStore)((e=>e.setBuyUsdValue)),b=(0,l.useSwapperStore)((e=>e.setSellUsdValue)),k=(0,c.useMemo)((()=>{const e=[];return r&&y&&(e.push((0,a.getFungibleCaip19FromFungible)(r)),e.push((0,a.getFungibleCaip19FromFungible)(y))),{query:{data:e}}}),[r,y]),{data:w}=e.usePrices(k),{currentQuote:A,multichainQuoteResponse:T}=(0,g.useQuote)();return(0,c.useMemo)((()=>{var e,n;if(!(T&&A&&r&&y))return{buyToken:v,sellToken:v};const o=null==r?void 0:r.data,i=null==y?void 0:y.data;if(!o||!i)return{buyToken:v,sellToken:v};let a="",c="",l="",m="";const{buyAmount:g}=A,k=(0,s.amountToUiAmount)(g,o.decimals),C=t(u)(h),x=String(k).split(".")[0].length,E=h.split(".")[0].length,I=null===(e=o.symbol)||void 0===e?void 0:e.length,P=null===(n=i.symbol)||void 0===n?void 0:n.length,F=x&&I?x+I:0,N=E&&P?E+P:0;l=`${(0,p.formatTokenAmountForReviewScreen)(C,N)} ${i.symbol}`,a=`${(0,p.formatTokenAmountForReviewScreen)(k,F)} ${o.symbol}`;const D=(0,d.extractPrice)(r,w),O=(0,d.extractPrice)(y,w);if(null==D?void 0:D.usd){const e=k.multipliedBy(D.usd);c=`$${(0,f.formatTokenAmountGreaterThan1)(e)}`,S(D.usd)}if(null==O?void 0:O.usd){const e=C.multipliedBy(O.usd);m=`$${(0,f.formatTokenAmountGreaterThan1)(e)}`,b(O.usd)}return{buyToken:{network:o.chain,tokenType:r.type,symbol:o.symbol,logoUri:o.logoUri,tokenAddress:o.tokenAddress,amount:a,amountUsd:c},sellToken:{network:i.chain,tokenType:y.type,symbol:i.symbol,logoUri:i.logoUri,tokenAddress:i.tokenAddress,amount:l,amountUsd:m}}}),[T,r,y,A,h,S,b,w])}})),i.register("6M54M",(function(t,n){e(t.exports,"useSwapSellAssetProps",(function(){return b}));var o=i("5slFC"),r=i("43063"),a=i("RVqnc"),s=i("29o0l"),u=i("2UOPE"),c=i("j3ma1"),l=i("iTQ0V"),d=i("csOwI"),p=i("9XJOV"),f=i("adhE7"),m=i("jd96V"),g=i("79gfS"),v=i("fx1OB"),y=i("30pgP"),h=i("hNhmc");const S=500;function b({transactionHooks:e,priceHooks:t,accountHooks:n,fungibleHooks:i,getApiEnvironment:b,queryClient:k,isBalanceHidden:w,enableNativeBridgePairs:A}){var T;const{t:C}=(0,r.useTranslation)(),x=(0,v.useInitialSellFungible)({accountHooks:n}),E=null!==(T=(0,l.useSwapperStore)((e=>e.sellFungible)))&&void 0!==T?T:x,I=(0,l.useSwapperStore)((e=>e.buyFungible)),P=(0,l.useSwapperStore)((e=>e.sellAmount)),F=(0,l.useSwapperStore)((e=>e.uiSellAmount)),N=(0,l.useSwapperStore)((e=>e.setSellAmount)),D=(0,l.useSwapperStore)((e=>e.setSellFungible)),O=(0,l.useSwapperStore)((e=>e.setUiSellAmount)),M=(0,h.useSwapAssetCaip19)(E),L=null==E?void 0:E.data.key,{fungible:R}=i.useGetFungibleBalance({key:L}),B=(0,y.useSupportedNetworkIDs)({accountHooks:n}),U=null==E?void 0:E.data.chain.id,_=null==I?void 0:I.data.chain.id,[z,V]=(0,a.useDebouncedChangeHandler)(P,N,S),{totalFees:j}=(0,m.useFees)({transactionHooks:e,priceHooks:t,accountHooks:n}),{data:Q}=e.useTransactionSpeedsToUnitCost({networkID:U}),q=(0,f.isBridgeSwap)(U,_),H=null==E?void 0:E.data.amount,K=E?E.data.decimals:0,W=(0,s.useMemo)((()=>(0,p.getMaxSellAmount)({sellFungible:E,totalFees:j.amount,transactionSpeedsToUnitCost:Q,isBridge:q})),[E,j,Q,q]),G=new(0,a.BigNumber)(null!=P?P:0).isGreaterThan(new(0,a.BigNumber)(W)),$=E&&E.data.symbol?E.data.symbol:"",Y=`${C("swapBalance")} ${(0,o.formatAmount)(E.data.balance)} ${E.data.symbol}`,X=P.split(".")[0].length,Z=$.length,J=X&&Z?X+Z:0,ee=w?`${u.BALANCE_HIDDEN_TEXT}`:`${(0,d.formatTokenAmountForReviewScreen)((0,a.amountToUiAmount)(H,K),J)}`,te=(0,s.useCallback)((e=>{const t=(0,a.formatTokenAmountInputs)(e.substring(0,u.MOBILE_SWAP_INPUT_MAX_LENGTH)),n=(0,a.formatTokenAmountToMaxDecimals)(t,K);O(n),V(n)}),[K,V,O]),ne=(0,s.useCallback)((()=>{te(W)}),[W,te]);(0,s.useEffect)((()=>{R&&R.data.amount!==H&&D(R)}),[R,H,D]),(0,s.useEffect)((()=>{P&&(0,c.prefetchSwapPairs)({sellToken:M,supportedNetworkIDs:B,enableNativeBridgePairs:A,getApiEnvironment:b,queryClient:k})}),[M,B,A,b,k,P]);const oe=(0,g.useHasSwapMinimumSellAmount)(t);return{assetButtonTitle:$,assetSubheadline:Y,decimals:K,formattedMaxSellAmount:ee,sellFungible:E,notEnoughAssets:G,uiSellAmount:F,hasMinimumSellAmount:oe,setMaxSellAmount:ne,updateSellAmount:te}}})),i.register("dMwYe",(function(t,n){e(t.exports,"useFeeBreakdown",(function(){return s}));var o=i("43063"),r=i("RVqnc"),a=i("29o0l");function s(e){const{t:t}=(0,o.useTranslation)();return(0,a.useMemo)((()=>{const{networkFee:n,phantomFee:o,tokenAccountFee:i,nonIncludedFees:a,destinationNetworkFee:s,liquidityFee:u}=e;return{networkFee:{label:t("swapQuoteNetwork"),value:n.uiAmount,maxValue:n.maxUiAmount},bridgeFee:{label:t("swapQuoteBridgeFee"),value:a.uiAmount,maxValue:a.maxUiAmount},tokenAccountFee:{label:t("swapQuoteOneTimeTokenAccount"),value:i.uiAmount},phantomFeePercent:{label:o.pct?t("swapQuoteFeeDisclaimer",{feePercentage:(0,r.formatPercentage)(o.pct)}):"",value:o.pct?`${o.pct}`:""},destinationNetworkFee:{label:t("swapQuoteDestinationNetwork"),value:s.uiAmount},liquidityProviderFee:{label:t("swapQuoteLiquidityProvider"),value:u.uiAmount}}}),[e,t])}})),i.register("kRqRr",(function(t,n){e(t.exports,"swapperShouldDehydrateQueryPredicate",(function(){return r}));const o=[i("dOGoW").SWAPPER_QUERY_KEYS_PREFIX.pairs],r=e=>{const t=String(e.queryKey[1]);return o.includes(t)}})),i.register("3JFMB",(function(t,n){e(t.exports,"createSwapAnalytics",(function(){return r}));var o=i("h0VH5");const r=e=>new(0,o.SequenceAnalytics)(e,"swap")})),i.register("hDvW4",(function(t,n){e(t.exports,"useLiquidStakingTransactionFees",(function(){return c}));var o=i("iOvk1"),r=i("43063"),a=i("RVqnc"),s=i("29o0l");const u=(0,a.toMilliseconds)({seconds:10}),c=({chainAddress:e,fungibleHooks:t,transactionData:n,transactionHooks:r})=>{var i,a;const{data:c,isLoading:f,isFetched:m,isSuccess:g}=r.useGasEstimation({networkID:null!==(i=null==n?void 0:n.networkID)&&void 0!==i?i:o.Chains.solana.mainnetID,multichainTransaction:d(n),queryOptions:{refetchInterval:u}}),{hasSufficientFunds:v,isLoading:y,nativeTokenSymbol:h}=t.useHasSufficientFunds(null!==(a=null==n?void 0:n.networkID)&&void 0!==a?a:o.Chains.solana.mainnetID,null==e?void 0:e.addressType,c,void 0),S=p({hasSufficientFunds:v,hasGasEstimationFailed:m&&!g,nativeTokenSymbol:h}),b=l(c),k=f||y;return(0,s.useMemo)((()=>({isLoading:k,hasSufficientFunds:v,transactionFees:b,networkFeeErrorMsg:S,nativeTokenSymbol:h})),[k,v,b,S,h])},l=e=>e&&o.Chains.isSolanaNetworkID(e.networkID)?new(0,a.BigNumber)(e.value):new(0,a.BigNumber)(0),d=e=>{if(e&&o.Chains.isSolanaNetworkID(e.networkID)){const{networkID:t,transaction:n}=e;return{networkID:t,transaction:[n]}}},p=({hasSufficientFunds:e,hasGasEstimationFailed:t,nativeTokenSymbol:n})=>t?r.i18next.t("transactionGasEstimationError"):"insufficient"===e?r.i18next.t("transactionNotEnoughNative",{nativeTokenSymbol:n}):void 0})),i.register("blQEy",(function(t,n){e(t.exports,"useConvertStakeAccountStatusPageProps",(function(){return m}));var o=i("4xbAj"),r=i("43063"),a=i("7mQ3Y"),s=i("29o0l");i("bX8dN");var u=i("5HQUf"),c=i("7umtj"),l=i("fyCN9"),d=i("2rjcM"),p=i("jhdxO"),f=i("cKEWg");const m=({accountSigner:e,accountHooks:t,transactionHooks:n,fungibleHooks:i,queryClient:m,storage:g,dismissConvertFlow:v,goToConvertAccountList:y})=>{var h,S,b,k,w;const A=(0,p.useInvalidateQueries)(m),[T,C]=(0,s.useState)("loading"),[x,E]=(0,s.useState)(),[I,P]=(0,s.useState)(),{trackConvertSubmitted:F,trackConvertSuccess:N,trackConvertFailed:D,trackConvertMoreClicked:O}=(0,f.useConvertStakeAnalytics)(),M=(0,u.useLiquidStakingStore)((e=>e.fungibleToStake)),L=(0,u.useLiquidStakingStore)((e=>e.provider)),R=(0,u.useLiquidStakingStore)((e=>e.convert)),B=(0,u.useLiquidStakingStore)((e=>e.amount)),[U]=(0,s.useState)(null!==(h=null==R?void 0:R.eligibleAccountsCount)&&void 0!==h?h:0),_=(0,u.useLiquidStakingStore)((e=>e.setConvertStakeAccount)),z=(0,u.useLiquidStakingStore)((e=>e.setTransactionData)),V=null!==(S=null==M?void 0:M.data.symbol)&&void 0!==S?S:"",j=null!==(b=null==L?void 0:L.stakePoolTokenMetadata.metadata.symbol)&&void 0!==b?b:"",Q=null!==(k=null==L?void 0:L.stakePoolTokenMetadata.metadata.address)&&void 0!==k?k:"",{data:q}=t.useSelectedMultiChainAccount(),H=(null==q?void 0:q.type)===o.AccountType.Ledger,K=(0,s.useMemo)((()=>{var e;return(null!==(e=null==q?void 0:q.addresses)&&void 0!==e?e:[]).find((e=>e.networkID===(null==M?void 0:M.data.chain.id)))}),[null==M?void 0:M.data.chain.id,null==q?void 0:q.addresses]),W=null!==(w=null==K?void 0:K.addressType)&&void 0!==w?w:a.AddressType.Solana,{fungible:G}=i.useGetFungibleBalance({key:Q}),$=(0,s.useCallback)((e=>{F(e.id),E(e)}),[F]),Y=(0,s.useCallback)((e=>{D({amount:B,convertDetails:R});const t=(0,c.parseStakingError)(e);P(t)}),[D,B,R]),X=(0,s.useMemo)((()=>({topLeft:{label:r.i18next.t("convertStakePendingTitle",{symbol:j})}})),[j]),{executeLiquidStake:Z,isReadyToExecute:J}=(0,d.useExecuteLiquidStake)({accountHooks:t,transactionHooks:n,fungibleHooks:i,accountSigner:e,storage:g,onTransactionSubmitted:$,onTransactionFailed:Y,pendingActivityRow:X}),ee=(0,s.useCallback)((()=>{N({amount:B,convertDetails:R,provider:L}),_(void 0),z(void 0),A()}),[B,N,_,z,A,L,R]),{isSuccess:te,isError:ne,error:oe}=n.useWaitForTransactionConfirmation(ee,x);(0,s.useEffect)((()=>{te?C("confirmed"):ne&&(C("error"),P(oe),D({amount:B,convertDetails:R}))}),[B,R,te,ne,D,oe,x]);const re=(0,l.useDismissLiquidStaking)({txReceipt:x,isTxError:ne,poolTokenFungible:G,invalidateQueries:A,dismissLiquidStaking:v}),ie=(0,s.useCallback)((()=>{O(),y()}),[O,y]);return{addressType:W,isLedger:H,isReadyToExecute:J,statusPageProps:(0,s.useMemo)((()=>function({stakedTokenSymbol:e,poolTokenSymbol:t,txHash:n,txError:o,confirmationStatus:i,eligibleAccountsCount:a,onDismiss:s,onConvertMore:u}){const c={title:r.i18next.t("commandClose"),onPress:s},l={title:r.i18next.t("convertStakeStatusConvertMore"),onPress:u},d={txHash:n,txHashTitle:r.i18next.t("commandViewTransaction")};return o?Object.assign(Object.assign({type:"error",title:r.i18next.t("convertStakeStatusErrorTitle"),message:r.i18next.t("convertStakeStatusErrorMessage",{poolTokenSymbol:t})},d),{primaryButton:c}):"confirmed"===i?Object.assign(Object.assign({type:"success",title:r.i18next.t("convertStakeStatusSuccessTitle",{poolTokenSymbol:t}),message:""},d),a>1?{primaryButton:l,secondaryButton:c}:{primaryButton:c}):Object.assign(Object.assign({type:"loading",title:r.i18next.t("convertStakeStatusLoadingTitle",{poolTokenSymbol:t}),message:r.i18next.t("convertStakeStatusLoadingMessage",{stakedTokenSymbol:e,poolTokenSymbol:t})},d),{primaryButton:c})}({stakedTokenSymbol:V,poolTokenSymbol:j,txHash:null==x?void 0:x.id,txError:I,confirmationStatus:T,eligibleAccountsCount:U,onDismiss:re,onConvertMore:ie})),[V,j,null==x?void 0:x.id,I,T,U,re,ie]),txError:I,executeLiquidStake:Z,learnMoreLink:"https://www.jito.network/defi/"}}})),i.register("7umtj",(function(t,n){e(t.exports,"parseStakingError",(function(){return r}));var o=i("3vaB1");function r(e){return e instanceof o.StakingError?e:new(0,o.StakingError)(o.StakingErrorCodes.UnknownError)}})),i.register("fyCN9",(function(t,n){e(t.exports,"useDismissLiquidStaking",(function(){return a}));var o=i("29o0l");i("bX8dN");var r=i("5HQUf");const a=({txReceipt:e,isTxError:t,poolTokenFungible:n,invalidateQueries:i,dismissLiquidStaking:a})=>{const s=(0,r.useLiquidStakingStore)((e=>e.resetStaking)),u=(0,r.useLiquidStakingStore)((e=>e.setNavigateTo)),c=(0,r.useLiquidStakingStore)((e=>e.setSkipDismissRouting)),l=(0,r.useLiquidStakingStore)((e=>e.skipDismissRouting));return(0,o.useCallback)((()=>(s(),!e||t?a():(i(),l?(c(void 0),a()):(u(n?{screen:"FungibleDetail",fungible:n}:{screen:"Activity"}),void a())))),[e,t,n,i,a,u,s,l,c])}})),i.register("2rjcM",(function(t,n){e(t.exports,"useExecuteLiquidStake",(function(){return l}),(function(e){return l=e}));var o=i("7gANb"),r=i("29o0l"),a=i("3vaB1"),s=i("890aa");i("bX8dN");var u=i("5HQUf"),c=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};function l({accountHooks:e,transactionHooks:t,fungibleHooks:n,accountSigner:i,storage:l,onTransactionSubmitted:d,onTransactionFailed:p,pendingActivityRow:f}){var m,g,v;const{connection:y}=t.useSelectedSolanaConnection(),h=(0,u.useLiquidStakingStore)((e=>e.transactionData)),S=(0,u.useLiquidStakingStore)((e=>e.fungibleToStake)),b=(0,u.useLiquidStakingStore)((e=>e.provider)),k=null!==(m=null==b?void 0:b.stakePoolTokenMetadata.metadata.address)&&void 0!==m?m:"",{isLoadingTokens:w}=n.useGetFungibleBalance({key:k}),{data:A,isLoading:T}=e.useSelectedMultiChainAccount(),{mutateAsync:C}=(0,s.useProcessTransactionData)({accountSigner:i,connection:y,storage:l}),x=(0,r.useMemo)((()=>{var e;return(null!==(e=null==A?void 0:A.addresses)&&void 0!==e?e:[]).find((e=>e.networkID===(null==S?void 0:S.data.chain.id)))}),[null==S?void 0:S.data.chain.id,null==A?void 0:A.addresses]),E=null!==(g=null==x?void 0:x.address)&&void 0!==g?g:"",I=null!==(v=null==A?void 0:A.identifier)&&void 0!==v?v:"";return{executeLiquidStake:(0,r.useCallback)((()=>c(this,void 0,void 0,(function*(){try{if(!h)throw new(0,a.StakingError)(a.StakingErrorCodes.MissingTransactionData);const e=yield C({accountIdentifier:I,ownerAddress:E,pendingActivityRow:f,activityType:o.PendingTransactionType.ConvertStake,transactionData:h});d(e)}catch(e){p(e)}}))),[I,E,f,h,C,d,p]),isReadyToExecute:!T||!w}}})),i.register("890aa",(function(t,n){e(t.exports,"useProcessTransactionData",(function(){return c}),(function(e){return c=e}));var o=i("iOvk1"),r=i("3tdpt"),a=i("hMVEP"),s=i("7gANb"),u=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const c=({accountSigner:e,connection:t,storage:n})=>(0,r.useMutation)({mutationFn:r=>u(void 0,[r],void 0,(function*({accountIdentifier:r,ownerAddress:i,pendingActivityRow:u,activityType:c,transactionData:{networkID:l,transaction:d,signers:p}}){if(o.Chains.isSolanaNetworkID(l)){const o=(yield t.getLatestBlockhash("confirmed")).blockhash;(0,a.setRecentBlockhash)(d,o);const f={ownerAddress:i,networkID:l,data:{signature:""},type:c,display:{summary:u}};return{id:yield(0,s.signAndSendSolanaTransactionAsync)({accountIdentifier:r,feePayer:new(0,a.PublicKey)(i),connection:t,accountSigner:e,transaction:d,pendingTransactionInput:f,storage:n,opts:{additionalSignerAccounts:p}}),networkID:l}}throw new Error(`Unsupported network for liquid staking: ${l}`)}))})})),i.register("jhdxO",(function(t,n){e(t.exports,"useInvalidateQueries",(function(){return a}));var o=i("29o0l");i("9OqWg");var r=i("hIkt0");const a=e=>(0,o.useCallback)((()=>(0,r.invalidateAllStakeAccountData)(e)()),[e])})),i.register("bh51l",(function(t,n){e(t.exports,"useConvertStakeBannerProps",(function(){return d}));var o=i("43063"),r=i("7mQ3Y"),a=i("29o0l"),s=i("3cJgq"),u=i("cKEWg"),c=i("gQcB9"),l=i("i6CYo");const d=({fungible:e,accountHooks:t,transactionHooks:n,goToConvertStake:i,getApiEnvironment:d})=>{var p;const{connection:f}=n.useSelectedSolanaConnection(),{data:m}=t.useSelectedChainAddress(r.AddressType.Solana),{isLoading:g}=(0,s.useStakeAccounts)(f,null!==(p=null==m?void 0:m.address)&&void 0!==p?p:""),{trackConvertBannerClicked:v,trackConvertBannerSeen:y}=(0,u.useConvertStakeAnalytics)(),{isLoading:h,isSupported:S,initLiquidStake:b,defaultProvider:k}=(0,l.useLiquidStaking)(d,e),{hasConvertibleStakeAccounts:w}=(0,c.useConvertibleStakeAccounts)({accountHooks:t,transactionHooks:n,provider:k}),A=!(g||h)&&S&&w,T=(0,a.useCallback)((()=>{if(!A)throw new Error("Not eligible to convert stake");v(),b(),i()}),[A,v,b,i]);return(0,a.useEffect)((()=>{A&&y()}),[A]),{title:o.i18next.t("convertStakeBannerTitle"),canConvertStake:A,onPress:T}}})),i.register("7oVt1",(function(n,o){e(n.exports,"useMintLiquidStakeAmountProps",(function(){return v}));var r=i("iOvk1"),a=i("43063"),s=i("7mQ3Y");i("kram9");var u=i("dbFer"),c=i("RVqnc"),l=i("3FEtE"),d=i("kAKNF"),p=i("29o0l");i("bX8dN");var f=i("5HQUf");i("9OqWg");var m=i("eRSIl"),g=i("ebsMV");const v=({goBack:e,goToReviewPage:n,showInfoPage:o,accountHooks:i,fungibleHooks:v,transactionHooks:y,walletScreenHooks:h})=>{var S,b,k,w;const A=(0,f.useLiquidStakingStore)((e=>e.fungibleToStake)),T=(0,f.useLiquidStakingStore)((e=>e.provider)),C=(0,f.useLiquidStakingStore)((e=>e.amount)),x=(0,f.useLiquidStakingStore)((e=>e.setAmount)),E=null!==(S=null==A?void 0:A.data.symbol)&&void 0!==S?S:"",I=null!==(b=null==A?void 0:A.data.chain.id)&&void 0!==b?b:r.Chains.solana.mainnetID,P=null!==(k=null==A?void 0:A.data.decimals)&&void 0!==k?k:0,F=null!==(w=null==T?void 0:T.stakePoolTokenMetadata.metadata.address)&&void 0!==w?w:"",[N,D]=(0,p.useState)(C?(0,c.amountToUiAmountString)(C,P):""),{data:O}=i.useSelectedChainAddress(s.AddressType.Solana);h.useThrowIfFailWalletScreen(O,l.WalletScreenSurface.STAKE_FUNGIBLE);const{minAmount:M,maxAmount:L,balance:R}=(0,g.useMintMaxMinAmounts)({networkID:I,poolTokenMintAddress:F,accountHooks:i,fungibleHooks:v,transactionHooks:y}),B=(0,c.amountToUiAmount)(L,P),U=(0,c.amountToUiAmount)(M,P),_=(0,c.amountToUiAmount)(R,P),z=(0,c.uiAmountToAmount)(N,P).toString(),V=t(d)(z),j=V.isLessThan(M),Q=V.isGreaterThan(L),q=V.isFinite(),H=z&&j?a.i18next.t("mintLiquidStakeAmountMinRequired",{symbol:E,amount:U}):z&&Q?a.i18next.t("mintLiquidStakeAmountInsufficientBalance"):void 0,K=q&&!H,W=(0,p.useMemo)((()=>{if(!T)return;const e=(0,c.formatPercentage)(Number.parseFloat(T.apy)),{address:n,name:o,symbol:r,logoURI:i}=T.stakePoolTokenMetadata.metadata,a=t(d)(1).dividedBy(t(d)(T.convertRatio));return{identifier:n,apy:e,name:o,symbol:r,rate:`1 ${E} ≈ ${(0,u.formatTokenAmountGreaterThan1)(a)} ${r}`,logoURI:i}}),[T,E]),G=(0,p.useCallback)((()=>{D(String(B))}),[B]),$=(0,p.useCallback)((e=>{const t=(0,c.formatTokenAmountInputs)(e),n=null!=P?P:9;(0,m.validateDecimals)(t,n)&&D(t)}),[P]),Y=(0,p.useCallback)((()=>{x(z),n()}),[z,n,x]),X=(0,p.useCallback)((()=>{x(""),e()}),[x,e]);return{amount:N,amountError:H,balance:_,symbol:E,poolToken:W,canSubmit:K,onBack:X,onContinue:Y,onChangeAmount:$,onSetMax:G,onInfoPress:o}}})),i.register("ebsMV",(function(n,o){e(n.exports,"useMintMaxMinAmounts",(function(){return l}));var r=i("iOvk1"),a=i("5slFC"),s=i("7gANb"),u=i("kAKNF"),c=i("jWhdR");const l=({networkID:e,poolTokenMintAddress:n,accountHooks:o,fungibleHooks:i,transactionHooks:l})=>{var d;const p=r.Chains.getAddressType(e),{cluster:f}=l.useSelectedSolanaConnection(),{data:m}=o.useSelectedChainAddress(e),{fungible:g}=i.useGetFungibleBalance({key:n}),v=(0,a.nativeTokenFungibleKey)(e,p),{fungible:y}=i.useGetFungibleBalance({key:v}),h=t(u)(null!==(d=null==y?void 0:y.data.amount)&&void 0!==d?d:""),{data:S=0}=(0,a.useMinimumRequiredBalance)(m),b=g?t(u)(2):t(u)(S).plus(2),{data:k}=(0,s.useNetworkFeeSolana)(f);return{minAmount:b,maxAmount:(0,c.getMaxTransferrableSol)({numSignatures:11,lamportsPerSignature:k,lamportBalance:t(u)(h),rentExemptionMinimum:b}),balance:h}}})),i.register("jWhdR",(function(n,o){e(n.exports,"getMaxTransferrableSol",(function(){return a}));var r=i("kAKNF");const a=({numSignatures:e,lamportsPerSignature:n,lamportBalance:o,rentExemptionMinimum:i})=>{const a=t(r)(n).multipliedBy(e),s=o.minus(a);return t(r).max(s.minus(i),0)}})),i.register("afWX6",(function(t,n){e(t.exports,"useMintLiquidStakeInfoPageProps",(function(){return u}));var o=i("iOvk1"),r=i("29o0l"),a=i("kFx26"),s=i("eiSR3");const u=e=>{const{trackMintModalContinue:t}=(0,s.useMintStakeAnalytics)(),{initLiquidStake:n}=(0,a.useNativeLiquidStaking)(e,o.Chains.solana.mainnetID);return(0,r.useEffect)((()=>{n()}),[n]),{trackMintModalContinue:t}}})),i.register("eiSR3",(function(t,n){e(t.exports,"useMintStakeAnalytics",(function(){return c}));var o=i("h0VH5"),r=i("iOvk1"),a=i("7mQ3Y"),s=i("29o0l");let u=null;const c=()=>{const e=(0,o.useAnalytics)(),t=(e=>{if(!u&&e){const t="liquidStake";u=new(0,o.SequenceAnalytics)(e,t)}if(!u)throw new Error("liquidStakeAnalytics was not properly configured");return u})(e),n=(0,s.useCallback)((()=>{e.capture("liquidStakingMintModalContinueClicked")}),[e]),i=(0,s.useCallback)((({provider:t,payAmount:n,receiveAmount:o,payAmountUSD:r,receiveAmountUSD:i,payAssetTitle:a,providerName:s,receiveAssetTitle:u})=>{e.capture("liquidStakingMintApprovedByUser",{data:{stake:{stakePoolAddress:null==t?void 0:t.stakePoolAddress,token:null==t?void 0:t.stakePoolTokenMetadata.metadata.name,apy:null==t?void 0:t.apy,convertRatio:null==t?void 0:t.convertRatio,caip19:null==t?void 0:t.stakePoolTokenMetadata.caip19,payAmount:n,receiveAmount:o,payAmountUSD:r,receiveAmountUSD:i,payAssetTitle:a,receiveAssetTitle:u,providerName:s}}})}),[e]);return{trackMintModalContinue:n,trackMintSubmitted:(0,s.useCallback)((e=>{t.submittedTransaction(e,{chainType:a.AddressType.Solana,chainName:r.Chain.Solana,networkId:"mainnet",method:"signAndSendTransaction"})}),[t]),trackMintSuccess:(0,s.useCallback)((({provider:t,amount:n})=>{e.capture("liquidStakingMintSuccess",{data:{stake:{apy:null==t?void 0:t.apy,convertRatio:null==t?void 0:t.convertRatio,caip19:null==t?void 0:t.stakePoolTokenMetadata.caip19,stakePoolAddress:null==t?void 0:t.stakePoolAddress,token:null==t?void 0:t.stakePoolTokenMetadata.metadata.name,totalAmount:n}}})}),[e]),trackMintFailed:(0,s.useCallback)((t=>{e.capture("liquidStakingMintFailed",{data:{stake:{amount:t}}})}),[e]),trackMintApprovedByUser:i}}})),i.register("fINYT",(function(t,n){e(t.exports,"useMintLiquidStakeReviewPageProps",(function(){return f}));var o=i("iOvk1"),r=i("5slFC"),a=i("7mQ3Y"),s=i("RVqnc"),u=i("29o0l"),c=i("lGYEX");i("bX8dN");var l=i("5HQUf"),d=i("1uG6h"),p=i("eiSR3");const f=({accountHooks:e,fungibleHooks:t,transactionHooks:n,priceHooks:i,priorityFeeService:f,navigateToStatusPage:m})=>{var g,v,y,h,S,b,k,w,A;const T=(0,l.useLiquidStakingStore)((e=>e.provider)),C=(0,l.useLiquidStakingStore)((e=>e.amount)),x=(0,l.useLiquidStakingStore)((e=>e.setTransactionData)),{data:E}=e.useSelectedChainAddress(a.AddressType.Solana),{connection:I}=n.useSelectedSolanaConnection(),{fungible:P}=t.useGetFungibleBalance({key:(null==T?void 0:T.stakePoolTokenMetadata.metadata.address)||""}),F=P?(0,r.parseOwnerAddress)(P):void 0,{trackMintApprovedByUser:N}=(0,p.useMintStakeAnalytics)(),{data:D,isLoading:O}=(0,c.useGetMintPoolTokenTransaction)({amount:(0,s.BigNumber)(C).toNumber(),connection:I,networkId:null!==(g=null==T?void 0:T.chainId)&&void 0!==g?g:o.Chains.solana.mainnetID,stakePoolAddress:null!==(v=null==T?void 0:T.stakePoolAddress)&&void 0!==v?v:"",ownerAddress:null!==(y=null==E?void 0:E.address)&&void 0!==y?y:"",poolTokenAccountAddress:F,priorityFeeService:f}),M=(0,d.useLiquidStakeReviewPageProps)({process:"mint",accountHooks:e,fungibleHooks:t,transactionHooks:n,priceHooks:i,transactionData:D,isLoadingTransactionData:O}),L=(0,u.useCallback)((()=>{var e,t,n,o,r,i;N({provider:T,payAmount:null===(e=M.payAsset)||void 0===e?void 0:e.amount,receiveAmount:null===(t=M.receiveAsset)||void 0===t?void 0:t.amount,payAmountUSD:null===(n=M.payAsset)||void 0===n?void 0:n.amountUsd,receiveAmountUSD:null===(o=M.receiveAsset)||void 0===o?void 0:o.amountUsd,payAssetTitle:null===(r=M.payAsset)||void 0===r?void 0:r.title,receiveAssetTitle:null===(i=M.receiveAsset)||void 0===i?void 0:i.title,providerName:M.providerName}),x(D),m()}),[N,T,null===(h=M.payAsset)||void 0===h?void 0:h.amount,null===(S=M.payAsset)||void 0===S?void 0:S.amountUsd,null===(b=M.payAsset)||void 0===b?void 0:b.title,null===(k=M.receiveAsset)||void 0===k?void 0:k.amount,null===(w=M.receiveAsset)||void 0===w?void 0:w.amountUsd,null===(A=M.receiveAsset)||void 0===A?void 0:A.title,M.providerName,x,D,m]);return Object.assign(Object.assign({},M),{onPrimaryButtonPress:L})}})),i.register("lGYEX",(function(t,n){e(t.exports,"useGetMintPoolTokenTransaction",(function(){return d}),(function(e){return d=e}));var o=i("iOvk1"),r=i("3tdpt"),a=i("csW2r");i("ls3Bv");var s=i("c0UDV"),u=i("7dNLn"),c=i("kX9T3"),l=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const d=e=>{const t=u.stakingQueryKeys.getMintTokenTransaction({stakePoolAddress:e.stakePoolAddress,ownerAddress:e.ownerAddress,amount:e.amount,poolTokenAccountAddress:e.poolTokenAccountAddress}),n=!!e.stakePoolAddress&&!!e.ownerAddress&&!!e.amount;return(0,r.useQuery)({enabled:n,queryKey:t,staleTime:c.StaleTime.Never,queryFn(){return l(this,void 0,void 0,(function*(){if(o.Chains.isSolanaNetworkID(e.networkId)){const{transaction:t,signers:n}=yield(0,s.getMintPoolTokenTransaction)(e);return{networkID:e.networkId,transaction:t,signers:n}}throw new Error(`Unsupported networkId: ${e.networkId}`)}))},onError(e){a.telemetry.captureError(e,a.FeatureTag.Staking)}})}})),i.register("esUWt",(function(t,n){e(t.exports,"useMintLiquidStakeStatusPageProps",(function(){return m}));var o=i("4xbAj"),r=i("43063"),a=i("7mQ3Y"),s=i("29o0l");i("bX8dN");var u=i("5HQUf"),c=i("7umtj"),l=i("fyCN9"),d=i("2rjcM"),p=i("jhdxO"),f=i("eiSR3");const m=({accountSigner:e,accountHooks:t,transactionHooks:n,fungibleHooks:i,queryClient:m,storage:g,dismissMintFlow:v})=>{var y,h,S;const b=(0,p.useInvalidateQueries)(m),[k,w]=(0,s.useState)("loading"),[A,T]=(0,s.useState)(),[C,x]=(0,s.useState)(),{trackMintSubmitted:E,trackMintSuccess:I,trackMintFailed:P}=(0,f.useMintStakeAnalytics)(),F=(0,u.useLiquidStakingStore)((e=>e.fungibleToStake)),N=(0,u.useLiquidStakingStore)((e=>e.provider)),D=(0,u.useLiquidStakingStore)((e=>e.setTransactionData)),O=(0,u.useLiquidStakingStore)((e=>e.amount)),M=null!==(y=null==N?void 0:N.stakePoolTokenMetadata.metadata.symbol)&&void 0!==y?y:"",L=null!==(h=null==N?void 0:N.stakePoolTokenMetadata.metadata.address)&&void 0!==h?h:"",{data:R}=t.useSelectedMultiChainAccount(),B=(null==R?void 0:R.type)===o.AccountType.Ledger,U=(0,s.useMemo)((()=>{var e;return(null!==(e=null==R?void 0:R.addresses)&&void 0!==e?e:[]).find((e=>e.networkID===(null==F?void 0:F.data.chain.id)))}),[null==F?void 0:F.data.chain.id,null==R?void 0:R.addresses]),_=null!==(S=null==U?void 0:U.addressType)&&void 0!==S?S:a.AddressType.Solana,{fungible:z}=i.useGetFungibleBalance({key:L}),V=(0,s.useCallback)((e=>{E(e.id),T(e)}),[E]),j=(0,s.useCallback)((e=>{P(O);const t=(0,c.parseStakingError)(e);x(t)}),[P,O]),Q=(0,s.useMemo)((()=>({topLeft:{label:r.i18next.t("mintLiquidStakePendingTitle",{symbol:M})}})),[M]),{executeLiquidStake:q,isReadyToExecute:H}=(0,d.useExecuteLiquidStake)({accountHooks:t,transactionHooks:n,fungibleHooks:i,accountSigner:e,storage:g,onTransactionSubmitted:V,onTransactionFailed:j,pendingActivityRow:Q}),K=(0,s.useCallback)((()=>{I({amount:O,provider:N}),D(void 0),b()}),[I,O,N,D,b]),{isSuccess:W,isError:G,error:$}=n.useWaitForTransactionConfirmation(K,A);(0,s.useEffect)((()=>{W?w("confirmed"):G&&(w("error"),x($),P(O))}),[W,P,O,G,$,A]);const Y=(0,l.useDismissLiquidStaking)({txReceipt:A,isTxError:G,poolTokenFungible:z,invalidateQueries:b,dismissLiquidStaking:v});return{addressType:_,isLedger:B,isReadyToExecute:H,statusPageProps:(0,s.useMemo)((()=>function({poolTokenSymbol:e,txHash:t,txError:n,confirmationStatus:o,onDismiss:i}){const a={title:r.i18next.t("commandClose"),onPress:i},s={txHash:t,txHashTitle:r.i18next.t("commandViewTransaction")};return n?Object.assign(Object.assign({type:"error",title:r.i18next.t("mintStakeStatusErrorTitle"),message:r.i18next.t("mintStakeStatusErrorMessage",{poolTokenSymbol:e})},s),{primaryButton:a}):"confirmed"===o?Object.assign(Object.assign({type:"success",title:r.i18next.t("mintStakeStatusSuccessTitle",{poolTokenSymbol:e}),message:""},s),{primaryButton:a}):Object.assign(Object.assign({type:"loading",title:r.i18next.t("mintStakeStatusLoadingTitle",{poolTokenSymbol:e}),message:r.i18next.t("mintStakeStatusLoadingMessage",{poolTokenSymbol:e})},s),{primaryButton:a})}({poolTokenSymbol:M,txHash:null==A?void 0:A.id,txError:C,confirmationStatus:k,onDismiss:Y})),[M,null==A?void 0:A.id,C,k,Y]),learnMoreLink:"https://www.jito.network/defi/",txError:C,executeLiquidStake:q}}})),i.register("3x9EP",(function(t,n){e(t.exports,"useIsSupportedLST",(function(){return u}));var o=i("iOvk1"),r=i("5slFC"),a=i("29o0l"),s=i("66NgB");const u=(e,t)=>{const n=t?(0,o.encodeCaip19)((0,r.getFungibleCaip19FromFungible)(t)):"",{data:i={}}=(0,s.useLiquidStakingSupportedTokens)(e);return(0,a.useMemo)((()=>!!Object.values(i).flat().find((e=>e.stakePoolTokenMetadata.caip19===n))),[n,i])}})),i.register("elc0Z",(function(t,n){e(t.exports,"useStakingMethodSelectionProps",(function(){return l}));var o=i("iOvk1"),r=i("43063"),a=i("RVqnc"),s=i("29o0l"),u=i("f5UU6"),c=i("kFx26");const l=({onLiquidStake:e,onNativeStake:t,getApiEnvironment:n})=>{const i=u.STAKING_WITH_JITOSOL_LINK,{defaultProvider:l,avgValidatorApy:d}=(0,c.useNativeLiquidStaking)(n,o.NetworkIDs.Solana.Mainnet);return{options:(0,s.useMemo)((()=>[{type:"liquid",isRecommended:!0,title:r.i18next.t("stakeMethodSelectionLiquidStakingTitle"),description:r.i18next.t("stakeMethodSelectionLiquidStakingDescription"),apy:l?r.i18next.t("stakeMethodEstApy",{apy:(0,a.formatPercentage)(parseFloat(l.apy))}):null,onClick:e},{type:"native",isRecommended:!1,title:r.i18next.t("stakeMethodSelectionNativeStakingTitle"),description:r.i18next.t("stakeMethodSelectionNativeStakingDescription"),apy:d?r.i18next.t("stakeMethodEstApy",{apy:(0,a.formatPercentage)(d)}):null,onClick:t}]),[d,l,e,t]),learnMoreLink:i}}})),i.register("8B6ZJ",(function(t,n){e(t.exports,"createStakeAnalytics",(function(){return a}));var o=i("h0VH5");const r={type:"fungible",isNativeOfType:"sol",chain:i("iOvk1").Chain.Solana,name:"Solana",symbol:"SOL",iconUrl:"https://cdn.jsdelivr.net/gh/solana-labs/token-list@main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png",decimals:9},a=e=>new s(e,"stake");class s extends o.SequenceAnalytics{constructor(){super(...arguments),this.createStakeAccountAndDelegateStake=e=>{this.analytics.capture("createStakeAccountAndDelegateStake",{data:Object.assign(Object.assign({},e),r)})},this.deactivateStake=()=>{this.analytics.capture("deactivateStake",{data:Object.assign({},r)})}}}class u extends o.SequenceAnalytics{}})),i.register("czeP8",(function(t,n){e(t.exports,"useGetMaxTransferrableSol",(function(){return u}));var o=i("hMVEP"),r=i("7gANb"),a=i("RVqnc"),s=i("jWhdR");const u=({balance:e,cluster:t,rentExemptionMinimum:n})=>{const{data:i}=(0,r.useNetworkFeeSolana)(t),u=(0,s.getMaxTransferrableSol)({numSignatures:11,lamportsPerSignature:i,lamportBalance:(0,a.BigNumber)(e),rentExemptionMinimum:(0,o.solanaToLamports)(n)});return parseFloat((0,o.lamportsToSolana)(u).toFixed(9))}})),i.register("fMZSj",(function(t,n){e(t.exports,"stakingShouldDehydrateQueryPredicate",(function(){return a}));var o=i("7dNLn");const r=[o.LIQUID_STAKING_QUERY_KEYS_PREFIX.supportedTokens,o.STAKE_AVG_VALIDATOR_APY_SCOPE],a=e=>{const t=String(e.queryKey[1]);return r.includes(t)}})),i.register("41yT6",(function(n,o){e(n.exports,"useQuery",(function(){return l})),e(n.exports,"queryClient",(function(){return d})),e(n.exports,"QueryProvider",(function(){return f}));var r=i("2onIY"),a=i("3tdpt"),s=i("29o0l"),u=i("JepPo"),c=i("iJRtg");function l(e){return(0,a.useQuery)(e)}const d=new(0,a.QueryClient)({defaultOptions:{mutations:{retry:!1,networkMode:"offlineFirst"},queries:{retry:!1,staleTime:1/0,cacheTime:1/0,refetchOnWindowFocus:!1,networkMode:"offlineFirst"}}}),p=(0,a.createReactQueryCache)({underlyingStorage:new(0,u.LocalStorage),throttleMs:1e3,enableDebugLogs:(0,r.isDevelopment)()}),f=e=>{const n={shouldDehydrateQuery:c.shouldDehydrateQuery};return t(s).createElement(a.PersistQueryClientProvider,{client:d,persistOptions:{persister:p,dehydrateOptions:n,buster:m,maxAge:1/0}},e.children,t(s).createElement(a.ReactQueryDevtools,{initialIsOpen:!1,position:"top-right"}))},m="23.13.0"})),i.register("iJRtg",(function(t,n){e(t.exports,"shouldDehydrateQuery",(function(){return y})),i("21aqi");var o=i("9Y3Ou"),r=i("2onIY");i("hM5LD");var a=i("hSXsO");i("bBa7X");var s=i("7SrdS");i("fVtZG");var u=i("1z0aW");i("ibwoK");var c=i("g5ETd");i("hnZYD");var l=i("9Emft");i("egHtJ");var d=i("fMZSj");i("kram9");var p=i("kRqRr"),f=i("7gANb"),m=i("3FEtE");const g=()=>!0,v={tokens:g,prices:g,collectibles:o.collectiblesShouldDehydrateQueryPredicate,staking:d.stakingShouldDehydrateQueryPredicate,swapper:p.swapperShouldDehydrateQueryPredicate,transferFungibleLoggingContext:g,[f.TRANSACTIONS_TIMESTAMPS_QUERY_KEY]:g,[c.ACTION_BANNERS_QUERY_KEY]:g,[s.FIAT_RAMP_FUNGIBLES_QUERY_KEY]:g,[m.WALLET_SCREEN_ACTION_QUERY_KEY]:g,[u.InfiniteHistoryItemsKey]:g,[l.QUESTS_QUERY_KEY]:g,[a.EXPLORE_BASE_QUERY_KEY]:g,"test-debug-query":r.isDevelopment},y=e=>{if(0===e.queryKey.length)return!1;const t=String(e.queryKey[0]);return!!v[t]&&v[t](e)}})),i.register("fVtZG",(function(t,n){e(t.exports,"InfiniteHistoryItemsKey",(function(){return i("1z0aW").InfiniteHistoryItemsKey})),e(t.exports,"useFetchInfiniteHistoryItems",(function(){return i("1z0aW").useFetchInfiniteHistoryItems})),e(t.exports,"useFetchRefreshInfiniteHistoryItems",(function(){return i("1z0aW").useFetchRefreshInfiniteHistoryItems})),e(t.exports,"useRefreshHistory",(function(){return i("2zIBD").useRefreshHistory})),e(t.exports,"createHistoryRowLabels",(function(){return i("h5LSS").createHistoryRowLabels})),e(t.exports,"createPendingTransactionRowLabels",(function(){return i("h5LSS").createPendingTransactionRowLabels})),e(t.exports,"getAccountsWithFilter",(function(){return i("h5LSS").getAccountsWithFilter})),e(t.exports,"getTokenHistoryFilterId",(function(){return i("h5LSS").getTokenHistoryFilterId})),e(t.exports,"isCollectibleTokenType",(function(){return i("h5LSS").isCollectibleTokenType})),e(t.exports,"isReceiveTransaction",(function(){return i("h5LSS").isReceiveTransaction})),e(t.exports,"extractAddressfromBri",(function(){return i("12SBp").extractAddressfromBri}));i("5nl69"),i("1z0aW"),i("2zIBD"),i("h5LSS"),i("12SBp")})),i.register("5nl69",(function(t,n){e(t.exports,"HistoryItemsFetchCacheBustError",(function(){return l}),(function(e){return l=e})),e(t.exports,"fetchHistoryItems",(function(){return y}),(function(e){return y=e}));var o=i("2onIY"),r=i("beWYh"),a=i("csW2r"),s=i("7XqVB"),u=i("12SBp"),c=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};class l extends Error{constructor(){super(...arguments),this.message="406: Cache bust!"}}class d extends Error{constructor(){super(...arguments),this.message="Server response malformed."}}class p extends Error{}class f extends Error{}const m=s.z.object({next:s.z.union([s.z.null(),s.z.string()]),results:s.z.array(u.HistoryItem)}),g=e=>c(void 0,void 0,void 0,(function*(){const t=yield r.rb.retry(3,2e3).post(`${(0,o.getAPIEnvironment)()}/history/v2`,e);if(406===t.status)throw new l;if(t.status>=400&&t.status<500)throw new f(`FetchHistoryItem: Status code: ${t.status}`);if(t.status>=500)throw new p(`FetchHistoryItem: Status code: ${t.status}`);return t.data})),v=e=>!Array.isArray(e.results)||"string"!=typeof e.next&&null!==e.next,y=e=>c(void 0,void 0,void 0,(function*(){var t;const n=yield g(e);if(v(n))throw new d;for(;(null===(t=n.results)||void 0===t?void 0:t.length)<10&&n.next;){if(v(n))throw new d;const t=yield g({next:n.next,isSpam:e.isSpam});n.next=t.next,n.results=[...n.results,...t.results]}try{return m.parse(n)}catch(e){const t=e,o=[],r=t.issues;for(let e=0;e<r.length;++e){const n=r[e].path;if("results"!==n[0])throw a.telemetry.captureError(t,a.FeatureTag.History),t;const i=n[1];if("number"!=typeof i)throw a.telemetry.captureError(t,a.FeatureTag.History),t;o.push(i)}o.sort((function(e,t){return t-e}));const i=o.map((e=>n.results[e])).map((e=>{var t;return(null===(t=e.interactionData)||void 0===t?void 0:t.transactionType)||""})),s=[];for(let e=0;e<o.length;++e){const t=o[e],r=n.results[t],i={timestamp:null==r?void 0:r.timestamp,owner:null==r?void 0:r.owner,id:null==r?void 0:r.id,chainMeta:null==r?void 0:r.chainMeta,interactionData:{transactionType:"UNCLASSIFIED_APP_INTERACTION",balanceChanges:[]}};try{u.HistoryItem.parse(i),n.results[t]=i,s.push(t)}catch(e){}}for(let e=0;e<o.length;++e){const t=o[e];-1===s.indexOf(t)&&n.results.splice(t,1)}o.length&&console.error(`Removed history items, ${i.join(",")}`);try{return m.parse(n)}catch(e){const t=e;throw a.telemetry.captureError(t,a.FeatureTag.History),t}}}))})),i.register("12SBp",(function(t,n){e(t.exports,"HistoryItem",(function(){return Z})),e(t.exports,"extractAddressfromBri",(function(){return J}));var o=i("iOvk1"),r=i("7gANb"),a=i("7XqVB");const s=a.z.enum(["Native","Fungible","SemiFungible","NonFungible","Unknown"]),u=a.z.object({id:a.z.string(),displayName:a.z.string().optional(),logoURI:a.z.union([a.z.string(),a.z.null()]).optional(),tokenType:s,decimals:a.z.number().optional(),symbol:a.z.string().optional(),isSpam:a.z.boolean().optional()}),c=a.z.object({id:o.BRI,displayName:a.z.string(),logoURI:a.z.union([a.z.string(),a.z.null()]).optional()}),l=a.z.object({token:u,amount:a.z.string(),to:o.BRI,from:o.BRI}),d=a.z.literal("UNCLASSIFIED_APP_INTERACTION"),p=a.z.literal("TOKEN_SEND"),f=a.z.literal("TOKEN_BURN"),m=a.z.literal("TOKEN_SWAP"),g=a.z.literal("TOKEN_UNWRAP"),v=a.z.literal("WITHDRAW_STAKE"),y=a.z.literal("DEACTIVATE_STAKE"),h=a.z.literal("STAKE"),S=a.z.literal("COLLECTIBLE_LIST"),b=a.z.literal("COLLECTIBLE_BUY_ITEM"),k=a.z.literal("COLLECTIBLE_CANCEL_BID"),w=a.z.literal("COLLECTIBLE_BID_ITEM"),A=a.z.literal("COLLECTIBLE_UNLIST"),T=a.z.literal("COLLECTIBLE_SELL_ITEM"),C=a.z.literal("CANCEL_TX"),x=a.z.literal("TOKEN_APPROVAL"),E=a.z.literal("CANCEL_ORDER"),I=a.z.literal("COLLECTION_APPROVAL"),P=a.z.literal("BRIDGE_INIT"),F=(a.z.union([d,p,f,m,g,v,y,h,S,b,k,w,A,T,C,x,E,I,P]),a.z.object({transactionType:d,balanceChanges:a.z.array(l),dapp:a.z.union([r.Dapp,a.z.null()]).optional()})),N=a.z.object({transactionType:p,balanceChanges:a.z.array(l).nonempty(),dapp:a.z.union([r.Dapp,a.z.null()]).optional()}),D=a.z.object({transactionType:f,dapp:a.z.union([r.Dapp,a.z.null()]).optional(),token:u,amount:a.z.string()}),O=a.z.object({transactionType:m,dapp:a.z.union([r.Dapp,a.z.null()]).optional(),receiveToken:u,sendToken:u,receiveAmount:a.z.string(),sendAmount:a.z.string()}),M=a.z.object({transactionType:g,token:u,amount:a.z.string()}),L=a.z.object({transactionType:v,stakeAccount:o.BRI,amount:a.z.string()}),R=a.z.object({transactionType:y,stakeAccount:o.BRI,amount:a.z.string()}),B=a.z.object({transactionType:h,stakeAccount:o.BRI,amount:a.z.string(),validatorName:a.z.string(),validatorWebsite:a.z.string(),keybaseUsername:a.z.string()}),U=a.z.object({transactionType:C}),_=a.z.object({dapp:a.z.union([r.Dapp,a.z.null()]),itemAmount:a.z.string().optional(),item:u,forAmount:a.z.string(),forAsset:u,listingUrl:a.z.string().optional()}),z=_.merge(a.z.object({transactionType:S})),V=_.merge(a.z.object({transactionType:b})),j=_.merge(a.z.object({transactionType:k})),Q=_.merge(a.z.object({transactionType:w})),q=_.merge(a.z.object({transactionType:A})),H=_.merge(a.z.object({transactionType:T})),K=a.z.object({transactionType:x,dapp:a.z.union([r.Dapp,a.z.null()]).optional(),token:u,value:a.z.string().optional(),isApproved:a.z.boolean()}),W=a.z.object({transactionType:E,dapp:a.z.union([r.Dapp,a.z.null()]).optional(),orderId:a.z.string()}),G=a.z.object({transactionType:I,collection:c,dapp:a.z.union([r.Dapp,a.z.null()]).optional(),isApproved:a.z.boolean()}),$=a.z.object({transactionType:P,dapp:a.z.union([r.Dapp,a.z.null()]).optional(),balanceChanges:a.z.array(l).nonempty(),explorerUrl:a.z.string().optional()}),Y=a.z.enum(["success","failed"]),X=a.z.object({networkFee:a.z.string().optional(),networkFeePayer:a.z.string().optional(),status:Y,errorMessage:a.z.union([a.z.string(),a.z.null()]),blockNumber:a.z.string(),chainId:o.NetworkID,transactionId:a.z.string()}),Z=a.z.object({timestamp:a.z.number(),owner:o.BRI,id:o.BRI,interactionData:a.z.union([F,N,D,O,M,L,R,B,z,V,j,Q,q,H,U,K,W,G,$]),chainMeta:X}),J=e=>{const t=e.split("/")[1],n=null==t?void 0:t.split(":");return n&&n[1]}})),i.register("1z0aW",(function(t,n){e(t.exports,"InfiniteHistoryItemsKey",(function(){return l}),(function(e){return l=e})),e(t.exports,"infiniteHistoryItemsQueryKey",(function(){return d}),(function(e){return d=e})),e(t.exports,"useFetchInfiniteHistoryItems",(function(){return p}),(function(e){return p=e})),e(t.exports,"useFetchRefreshInfiniteHistoryItems",(function(){return f}),(function(e){return f=e}));var o=i("iOvk1"),r=i("3tdpt"),a=i("csW2r"),s=i("29o0l"),u=i("5nl69"),c=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const l="fetch-infinite-history-items",d=({accounts:e,isSpam:t})=>[l,e,t],p=({accounts:e,isSpam:t})=>{const n=(0,r.useQueryClient)();(0,s.useEffect)((()=>{const o=d({accounts:e,isSpam:t}),r=n.getQueryState(o,{exact:!0,fetchStatus:"fetching"});(null==r?void 0:r.data)&&n.removeQueries(o,{exact:!0})}),[n,e,t]),(0,s.useEffect)((()=>()=>{n.cancelQueries([l],{exact:!1})}),[n]);const i=(0,r.useInfiniteQuery)(d({accounts:e,isSpam:t}),(n=>c(void 0,[n],void 0,(function*({pageParam:n}){return n?yield(0,u.fetchHistoryItems)({next:n,isSpam:t}):yield(0,u.fetchHistoryItems)({accounts:e||[],isSpam:t})}))),{getNextPageParam:e=>e.next,cacheTime:1/0,staleTime:1/0,retry:!1,enabled:!!(null==e?void 0:e.length)&&e.every((e=>!o.Chains.isLocalNetworkID(e.chainId))),onError:o=>{o instanceof u.HistoryItemsFetchCacheBustError&&((e,t)=>{e.removeQueries(t,{exact:!0})})(n,d({accounts:e,isSpam:t})),a.telemetry.captureError(o,a.FeatureTag.History)}});return i},f=({accounts:e,isSpam:t})=>{var n,i;const p=(0,r.useQueryClient)(),f=p.getQueryState(d({accounts:e,isSpam:t}),{exact:!0}),m=null===(i=null===(n=null==f?void 0:f.data)||void 0===n?void 0:n.pages[0])||void 0===i?void 0:i.results[0],g=(0,r.useQuery)(((e,t,n)=>["refresh-fetch-infinite-history-items",e,t,n])(e,null==m?void 0:m.id,t),(e=>c(void 0,[e],void 0,(function*({queryKey:[,e,n]}){return Date.now()-((null==f?void 0:f.dataUpdatedAt)||0)<500?null:n?yield(0,u.fetchHistoryItems)({accounts:e||[],latestTransactionStored:n,isSpam:t}):yield(0,u.fetchHistoryItems)({accounts:e||[],isSpam:t})}))),{cacheTime:0,staleTime:0,retry:!1,enabled:!!f&&"loading"!==f.status&&!!(null==e?void 0:e.length)&&e.every((e=>!o.Chains.isLocalNetworkID(e.chainId))),onError:e=>a.telemetry.captureError(e,a.FeatureTag.History)});return(0,s.useEffect)((()=>{var n;if(null===(n=g.data)||void 0===n?void 0:n.results.length){const n=g.data;p.cancelQueries([l],{exact:!1}),p.setQueryData(d({accounts:e,isSpam:t}),(()=>({pages:[n],pageParams:[]})))}}),[g.data,p,e,t]),g}})),i.register("2zIBD",(function(t,n){e(t.exports,"useRefreshHistory",(function(){return l}),(function(e){return l=e}));var o=i("iOvk1"),r=i("3tdpt"),a=i("RVqnc"),s=i("29o0l"),u=i("1z0aW"),c=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))};const l=({accounts:e,removedPendingTransaction:t,isSpam:n})=>{const[i,l]=(0,s.useState)(0),[d,p]=(0,s.useState)(!1),f=(0,r.useQueryClient)().getQueryData((0,u.infiniteHistoryItemsQueryKey)({accounts:e,isSpam:n}),{exact:!0}),m=(0,s.useMemo)((()=>(null==f?void 0:f.pages[0].results.map((e=>e.chainMeta.transactionId)))||[]),[null==f?void 0:f.pages]),{refetch:g,isError:v,isFetching:y}=(0,u.useFetchRefreshInfiniteHistoryItems)({accounts:e,isSpam:n});return(0,s.useEffect)((()=>{let e=0;!function(){c(this,void 0,void 0,(function*(){var n;let r=[];function i(e){return t.some((t=>{const n=e.length?e:m;switch(t.networkID){case o.NetworkIDs.Ethereum.Mainnet:case o.NetworkIDs.Ethereum.Sepolia:case o.NetworkIDs.Polygon.Mainnet:case o.NetworkIDs.Polygon.Amoy:return!n.includes(t.data.transactions[t.data.transactions.length-1].hash);case o.NetworkIDs.Solana.Mainnet:case o.NetworkIDs.Solana.Testnet:case o.NetworkIDs.Solana.Devnet:case o.NetworkIDs.Solana.Localnet:return!n.includes(t.data.signature);case o.NetworkIDs.Bitcoin.Mainnet:case o.NetworkIDs.Bitcoin.Testnet:return!n.includes(t.data.txID);default:return(0,a.assertNever)(t)}}))}if(i(r)){for(l((e=>e+1));e<5&&i(r);)try{r=(null===(n=(yield g()).data)||void 0===n?void 0:n.results.map((e=>e.chainMeta.transactionId)))||[],++e}catch(e){}l((e=>e-1))}}))}()}),[t,m,g]),(0,s.useEffect)((()=>{p(i>0)}),[i]),{refresh:g,isRefreshError:v,isRefreshing:y,isRefreshingConfirmedTxs:d}}})),i.register("h5LSS",(function(n,o){e(n.exports,"createHistoryRowLabels",(function(){return p})),e(n.exports,"isReceiveTransaction",(function(){return v})),e(n.exports,"isCollectibleTokenType",(function(){return g})),e(n.exports,"createPendingTransactionRowLabels",(function(){return f})),e(n.exports,"getAccountsWithFilter",(function(){return m})),e(n.exports,"getTokenHistoryFilterId",(function(){return y}));var r=i("4xbAj"),a=i("iOvk1"),s=i("5slFC"),u=i("7gANb"),c=i("RVqnc"),l=i("29o0l"),d=i("12SBp");const p=(e,n,o,i,s)=>{var u;const{interactionData:p,chainMeta:f}=e,{transactionType:m}=p,y="failed"===f.status,h=f.chainId,S=a.Chains.getTokenSymbol(h),b=a.Chains.getTokenDecimals(h),k=n("historyUnknownDappName"),w=t(l).createElement(o,{historyItem:e,size:"small",isDetailViewOrSvg:!1});switch(m){case"TOKEN_SEND":{const e=p.balanceChanges[0],{token:{symbol:t,displayName:o,tokenType:a,decimals:u},amount:l}=e,f=v(e,s),m=g(a);let S="";if(!y&&void 0!==u&&!("NonFungible"===a)){const e=f?"+":"-";S=m?`${e}${(0,c.amountToFormattedAmount)(l,u)}`:`${e}${(0,c.amountToFormattedAmount)(l,u)}${t?` ${(0,c.truncateString)(t,6)}`:""}`}if(f){const t=(0,d.extractAddressfromBri)(e.from),a=(0,r.formatAddress)(t,void 0,i(t,h));return{topLeft:{label:`${n("transactionsReceived")} ${m?o||n("richTransactionDetailUnknownNFT"):""}`},topRight:{label:`${S}`,color:"#21E56F"},bottomLeft:{label:n("transactionsFromParagraphInterpolated",{from:a,defaultValue:`From ${a}`})},image:w}}{const t=(0,d.extractAddressfromBri)(e.to),a=(0,r.formatAddress)(t,void 0,i(t,h));return{topLeft:{label:y?n("transactionsSendFailed"):`${n("transactionsSent")} ${m?o||n("richTransactionDetailUnknownNFT"):""}`},topRight:{label:`${S}`,color:"#FFFFFF"},bottomLeft:{label:n("transactionsToParagraphInterpolated",{to:a,defaultValue:`To ${a}`})},image:w}}}case"TOKEN_BURN":{const{amount:e,token:t}=p;let o="";return o=t.displayName?"1"===e?t.displayName:`${t.displayName} (${e})`:n("richTransactionDetailUnknownNFT"),{topLeft:{label:y?`${n("transactionsFailedBurn")}`:`${n("transactionsBurned")}`},bottomLeft:{label:o},image:w}}case"TOKEN_UNWRAP":{const{amount:e,token:t}=p;return{topLeft:{label:y?`${n("transactionsUnwrappedFailed")}`:`${n("transactionsUnwrapped")}`},topRight:{label:y?"":`${(0,c.amountToFormattedAmount)(e,null!==(u=t.decimals)&&void 0!==u?u:0)} ${t.symbol}`,color:"#FFFFFF"},image:w}}case"TOKEN_SWAP":{const{receiveAmount:e,receiveToken:t,sendAmount:o,sendToken:i,dapp:a}=p,s=a?a.displayName:n("historyUnknownDappName"),u=(0,r.formatAddressShort)((0,d.extractAddressfromBri)(i.id)||""),l=(0,r.formatAddressShort)((0,d.extractAddressfromBri)(t.id)||"");let f="";y||void 0===t.decimals||(f=`+${(0,c.amountToFormattedAmount)(e,t.decimals)} ${(0,c.truncateString)(t.symbol||l,6)}`);let m="";return y||void 0===i.decimals||(m=`-${(0,c.amountToFormattedAmount)(o,i.decimals)} ${(0,c.truncateString)(i.symbol||u,6)}`),{topLeft:{label:n(y?"transactionsFailedSwap":"transactionsSwapped")},topRight:{label:f,color:"#21E56F"},bottomLeft:{label:s},bottomRight:{label:m,color:"#FFFFFF"},image:w}}case"BRIDGE_INIT":{const e=p.dapp?p.dapp.displayName:k,t=p.balanceChanges[0],{token:{symbol:o,decimals:r},amount:i}=t,a=o?` ${(0,c.truncateString)(o,6)}`:"";if(!y&&void 0!==r){const t=`-${(0,c.amountToFormattedAmount)(i,r)}${a}`;return{topLeft:{label:y?n("transactionBridgeInitiatedFailed"):`${n("transactionBridgeInitiated")}`},bottomLeft:{label:e},topRight:{label:`${t}`,color:"#FFFFFF"},image:w}}return{topLeft:{label:y?n("transactionBridgeInitiatedFailed"):`${n("transactionBridgeInitiated")}`},bottomLeft:{label:e},image:w}}case"WITHDRAW_STAKE":{const{amount:e,stakeAccount:t}=p,o=(0,d.extractAddressfromBri)(t),i=a.Chains.getTokenSymbol(h);return{topLeft:{label:n(y?"transactionsWithdrawStakeFailed":"transactionsWithdrawStake")},topRight:{label:y?"":`${(0,c.amountToFormattedAmount)(e,b)} ${(0,c.truncateString)(i,6)}`,color:"#FFFFFF"},bottomLeft:{label:(0,r.formatHashMedium)(o,4)},image:w}}case"DEACTIVATE_STAKE":{const{stakeAccount:e}=p,t=(0,d.extractAddressfromBri)(e);return{topLeft:{label:n(y?"transactionsDeactivateStakeFailed":"transactionsDeactivateStake")},bottomLeft:{label:(0,r.formatHashMedium)(t,4)},image:w}}case"STAKE":{const{amount:e,stakeAccount:t,validatorName:o}=p,i=(0,d.extractAddressfromBri)(t);return{topLeft:{label:n(y?"transactionsStakedFailed":"transactionsStaked")},topRight:{label:y?"":`${(0,c.amountToFormattedAmount)(e,b)} ${(0,c.truncateString)(S,6)}`,color:"#FFFFFF"},bottomLeft:{label:o||(0,r.formatHashMedium)(i,4)},image:w}}case"COLLECTIBLE_LIST":{const{dapp:e,item:t}=p,o=e?e.displayName:n("historyUnknownDappName"),r=t.displayName||n("richTransactionDetailUnknownNFT");return{topLeft:{label:y?n("transactionsListedFailed"):n("transactionsListedInterpolated",{name:r})},bottomLeft:{label:o},image:w}}case"COLLECTIBLE_BUY_ITEM":{const{dapp:e,itemAmount:t,item:o,forAsset:i,forAmount:a}=p,s=e?e.displayName:n("historyUnknownDappName"),u=void 0!==i.decimals?`-${(0,c.amountToFormattedAmount)(a,i.decimals)} ${(0,c.truncateString)(i.symbol||"",6)}`:n("transactionsUnknownAmount"),l=o.symbol||(0,r.formatAddressShort)((0,d.extractAddressfromBri)(o.id)),f=t&&"SemiFungible"===o.tokenType?`+${t} ${l}`:`+${l}`;return{topLeft:{label:n(y?"transactionsBuyFailed":"transactionsBoughtCollectible")},topRight:{label:y?"":f,color:"#21E56F"},bottomRight:{label:y?"":`${u}`,color:"#FFFFFF"},bottomLeft:{label:s},image:w}}case"COLLECTIBLE_CANCEL_BID":{const{dapp:e,item:t}=p,o=e?e.displayName:n("historyUnknownDappName"),r=t.displayName||n("richTransactionDetailUnknownNFT");return{topLeft:{label:y?n("transactionsCancelBidOnFailed"):n("transactionsCancelBidOnInterpolated",{name:r})},bottomLeft:{label:o},image:w}}case"COLLECTIBLE_BID_ITEM":{const{dapp:e,item:t}=p,o=e?e.displayName:n("historyUnknownDappName"),r=t.displayName||n("richTransactionDetailUnknownNFT");return{topLeft:{label:y?n("transactionsBidFailed"):n("transactionsBidOnInterpolated",{name:r})},bottomLeft:{label:o},image:w}}case"COLLECTIBLE_UNLIST":{const{dapp:e,item:t}=p,o=e?e.displayName:n("historyUnknownDappName"),r=t.displayName||n("richTransactionDetailUnknownNFT");return{topLeft:{label:y?n("transactionsUnlistedFailed"):n("transactionsUnlistedInterpolated",{name:r})},bottomLeft:{label:o},image:w}}case"COLLECTIBLE_SELL_ITEM":{const{dapp:e,itemAmount:t,item:o,forAsset:i,forAmount:a}=p,s=e?e.displayName:n("historyUnknownDappName"),u=void 0!==i.decimals?`+${(0,c.amountToFormattedAmount)(a,i.decimals)} ${(0,c.truncateString)(i.symbol||"",6)}`:n("transactionsUnknownAmount"),l=o.symbol||(0,r.formatAddressShort)((0,d.extractAddressfromBri)(o.id)),f=t&&"SemiFungible"===o.tokenType?`-${t} ${l}`:`-${l}`;return{topLeft:{label:n(y?"transactionsSoldFailed":"transactionsSoldCollectible")},topRight:{label:y?"":`${u}`,color:"#21E56F"},bottomRight:{label:y?"":f,color:"#FFFFFF"},bottomLeft:{label:s},image:w}}case"CANCEL_TX":return{topLeft:{label:n(y?"transactionCancelledFailed":"transactionCancelled")},image:w};case"TOKEN_APPROVAL":{const{dapp:e,token:t,isApproved:o}=p,r=g(t.tokenType)?t.displayName:t.symbol;let i;return i=y?o?g(t.tokenType)?n("transactionApproveTokenFailed",{tokenSymbol:r}):n("transactionApprovalFailed"):g(t.tokenType)?n("transactionRevokeApproveTokenFailed",{tokenSymbol:r}):n("transactionRevokeFailed"):n(o?"transactionApproveToken":"transactionRevokeApproveToken",{tokenSymbol:r}),{topLeft:{label:i},bottomLeft:{label:e?e.displayName:k,color:"#777"},image:w}}case"COLLECTION_APPROVAL":{const{collection:e,isApproved:t,dapp:o}=p,r=e.displayName;let i;return i=n(y?t?"transactionApproveTokenFailed":"transactionRevokeApproveTokenFailed":t?"transactionApproveToken":"transactionRevokeApproveToken",{tokenSymbol:r}),{topLeft:{label:i},bottomLeft:{label:o?o.displayName:k,color:"#777"},image:w}}case"CANCEL_ORDER":{const{dapp:e}=p;return{topLeft:{label:n(y?"transactionCancelOrderFailed":"transactionCancelOrder")},bottomLeft:{label:(null==e?void 0:e.displayName)||n("historyUnknownDappName"),color:"#777"},image:w}}case"UNCLASSIFIED_APP_INTERACTION":{const{dapp:e}=p,t=e?e.displayName:k;return{topLeft:{label:n(y?"transactionsFailedAppInteraction":"transactionsAppInteraction")},bottomLeft:{label:t},image:w}}}},f=(e,n)=>{const{display:o,type:r}=e,{topLeft:i,topRight:a,bottomLeft:s,bottomRight:u}=o.summary;return{topLeft:i,topRight:a,bottomLeft:s,bottomRight:u,image:t(l).createElement(n,{logoUri:o.summary.logoUri,pendingTransactionType:r,size:"small"})}},m=(e,t,n)=>{var o;let r=(null!=e?e:[]).map(u.toAccount);if(t){const e=null===(o=r.find((e=>e.chainId===t)))||void 0===o?void 0:o.address;if(e){const o={chainId:t,address:e};n&&(o.filters=[{type:"token",value:n}]),r=[o]}}return r},g=e=>{switch(e){case"SemiFungible":case"NonFungible":return!0;default:return!1}},v=(e,t)=>{const n=(0,d.extractAddressfromBri)(e.to),o=(0,d.extractAddressfromBri)(e.from),r=t.some((e=>e.address.toLowerCase()===n.toLowerCase())),i=t.some((e=>e.address.toLowerCase()===o.toLowerCase()));return r&&!i},y=e=>{switch(null==e?void 0:e.type){case s.FungibleTokenType.BRC20:return e.data.firstCreatedInscriptionId;case s.FungibleTokenType.ERC20:return e.data.contractAddress;case s.FungibleTokenType.SPL:return e.data.splTokenAccountPubkey;default:return}}}))}();
//# sourceMappingURL=multichainMigration.0d9b34d3.js.map
define=__define;})(window.define);